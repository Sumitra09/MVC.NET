/*
* TelerikReporting v14.0.20.219 (http://www.telerik.com/products/reporting.aspx)
* Copyright 2020 Progress Software EAD. All rights reserved.
*
* Telerik Reporting commercial licenses may be obtained at
* http://www.telerik.com/purchase/license-agreement/reporting.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
!function(r){var n={};function __webpack_require__(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}__webpack_require__.m=r,__webpack_require__.c=n,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)__webpack_require__.d(r,n,function(e){return t[e]}.bind(null,n));return r},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=130)}([function(e,t,r){var h=r(2),m=r(18),g=r(11),v=r(12),b=r(19),_="prototype",S=function(e,t,r){var n,o,i,a,s=e&S.F,c=e&S.G,u=e&S.S,l=e&S.P,p=e&S.B,f=c?h:u?h[t]||(h[t]={}):(h[t]||{})[_],d=c?m:m[t]||(m[t]={}),y=d[_]||(d[_]={});for(n in c&&(r=t),r)i=((o=!s&&f&&void 0!==f[n])?f:r)[n],a=p&&o?b(i,h):l&&"function"==typeof i?b(Function.call,i):i,f&&v(f,n,i,e&S.U),d[n]!=i&&g(d,n,a),l&&y[n]!=i&&(y[n]=i)};h.core=m,S.F=1,S.G=2,S.S=4,S.P=8,S.B=16,S.W=32,S.U=64,S.R=128,e.exports=S},function(e,t,r){var n=r(4);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(47)("wks"),o=r(33),i=r(2).Symbol,a="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=n},function(e,t,r){var n=r(21),o=Math.min;e.exports=function(e){return 0<e?o(n(e),9007199254740991):0}},function(e,t,r){e.exports=!r(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(1),o=r(94),i=r(23),a=Object.defineProperty;t.f=r(7)?Object.defineProperty:function defineProperty(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(24);e.exports=function(e){return Object(n(e))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(8),o=r(32);e.exports=r(7)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var i=r(2),a=r(11),s=r(14),c=r(33)("src"),n=r(134),o="toString",u=(""+n).split(o);r(18).inspectSource=function(e){return n.call(e)},(e.exports=function(e,t,r,n){var o="function"==typeof r;o&&(s(r,"name")||a(r,"name",t)),e[t]!==r&&(o&&(s(r,c)||a(r,c,e[t]?""+e[t]:u.join(String(t)))),e===i?e[t]=r:n?e[t]?e[t]=r:a(e,t,r):(delete e[t],a(e,t,r)))})(Function.prototype,o,function toString(){return"function"==typeof this&&this[c]||n.call(this)})},function(e,t,r){function wb(e,t,r,n){var o=String(a(e)),i="<"+t;return""!==r&&(i+=" "+r+'="'+String(n).replace(s,"&quot;")+'"'),i+">"+o+"</"+t+">"}var n=r(0),o=r(3),a=r(24),s=/"/g;e.exports=function(t,e){var r={};r[t]=e(wb),n(n.P+n.F*o(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",r)}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(48),o=r(24);e.exports=function(e){return n(o(e))}},function(e,t,r){var n=r(49),o=r(32),i=r(15),a=r(23),s=r(14),c=r(94),u=Object.getOwnPropertyDescriptor;t.f=r(7)?u:function getOwnPropertyDescriptor(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(14),o=r(9),i=r(68)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t){var r=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(e,t,r){var i=r(10);e.exports=function(n,o,e){if(i(n),void 0===o)return n;switch(e){case 1:return function(e){return n.call(o,e)};case 2:return function(e,t){return n.call(o,e,t)};case 3:return function(e,t,r){return n.call(o,e,t,r)}}return function(){return n.apply(o,arguments)}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:r)(e)}},function(e,t,r){"use strict";var n=r(3);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,r){var o=r(4);e.exports=function(e,t){if(!o(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!o(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var o=r(0),i=r(18),a=r(3);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],n={};n[e]=t(r),o(o.S+o.F*a(function(){r(1)}),"Object",n)}},function(e,t,r){var b=r(19),_=r(48),S=r(9),C=r(6),n=r(84);e.exports=function(p,e){var f=1==p,d=2==p,y=3==p,h=4==p,m=6==p,g=5==p||m,v=e||n;return function(e,t,r){for(var n,o,i=S(e),a=_(i),s=b(t,r,3),c=C(a.length),u=0,l=f?v(e,c):d?v(e,0):void 0;u<c;u++)if((g||u in a)&&(o=s(n=a[u],u,i),p))if(f)l[u]=o;else if(o)switch(p){case 3:return!0;case 5:return n;case 6:return u;case 2:l.push(n)}else if(h)return!1;return m?-1:y||h?h:l}}},function(e,t,r){"use strict";if(r(7)){var m=r(29),g=r(2),v=r(3),b=r(0),_=r(62),n=r(92),y=r(19),S=r(39),o=r(32),C=r(11),i=r(41),a=r(21),P=r(6),w=r(122),s=r(35),c=r(23),u=r(14),O=r(44),E=r(4),h=r(9),k=r(81),T=r(36),D=r(17),x=r(37).f,R=r(83),l=r(33),p=r(5),f=r(26),d=r(52),I=r(51),G=r(86),j=r(46),B=r(57),M=r(38),A=r(85),N=r(111),H=r(8),L=r(16),V=H.f,W=L.f,z=g.RangeError,F=g.TypeError,U=g.Uint8Array,$="ArrayBuffer",q="Shared"+$,J="BYTES_PER_ELEMENT",K="prototype",Q=Array[K],Z=n.ArrayBuffer,X=n.DataView,Y=f(0),ee=f(2),te=f(3),re=f(4),ne=f(5),oe=f(6),ie=d(!0),ae=d(!1),se=G.values,ce=G.keys,ue=G.entries,le=Q.lastIndexOf,pe=Q.reduce,fe=Q.reduceRight,de=Q.join,ye=Q.sort,he=Q.slice,me=Q.toString,ge=Q.toLocaleString,ve=p("iterator"),be=p("toStringTag"),_e=l("typed_constructor"),Se=l("def_constructor"),Ce=_.CONSTR,Pe=_.TYPED,we=_.VIEW,Oe="Wrong length!",Ee=f(1,function(e,t){return Re(I(e,e[Se]),t)}),ke=v(function(){return 1===new U(new Uint16Array([1]).buffer)[0]}),Te=!!U&&!!U[K].set&&v(function(){new U(1).set({})}),De=function(e,t){var r=a(e);if(r<0||r%t)throw z("Wrong offset!");return r},xe=function(e){if(E(e)&&Pe in e)return e;throw F(e+" is not a typed array!")},Re=function(e,t){if(!(E(e)&&_e in e))throw F("It is not a typed array constructor!");return new e(t)},Ie=function(e,t){return Ge(I(e,e[Se]),t)},Ge=function(e,t){for(var r=0,n=t.length,o=Re(e,n);r<n;)o[r]=t[r++];return o},je=function(e,t,r){V(e,t,{get:function(){return this._d[r]}})},Be=function from(e,t,r){var n,o,i,a,s,c,u=h(e),l=arguments.length,p=1<l?t:void 0,f=void 0!==p,d=R(u);if(null!=d&&!k(d)){for(c=d.call(u),i=[],n=0;!(s=c.next()).done;n++)i.push(s.value);u=i}for(f&&2<l&&(p=y(p,r,2)),n=0,o=P(u.length),a=Re(this,o);n<o;n++)a[n]=f?p(u[n],n):u[n];return a},Me=function of(){for(var e=0,t=arguments.length,r=Re(this,t);e<t;)r[e]=arguments[e++];return r},Ae=!!U&&v(function(){ge.call(new U(1))}),Ne=function toLocaleString(){return ge.apply(Ae?he.call(xe(this)):xe(this),arguments)},He={copyWithin:function copyWithin(e,t,r){return N.call(xe(this),e,t,2<arguments.length?r:void 0)},every:function every(e,t){return re(xe(this),e,1<arguments.length?t:void 0)},fill:function fill(){return A.apply(xe(this),arguments)},filter:function filter(e,t){return Ie(this,ee(xe(this),e,1<arguments.length?t:void 0))},find:function find(e,t){return ne(xe(this),e,1<arguments.length?t:void 0)},findIndex:function findIndex(e,t){return oe(xe(this),e,1<arguments.length?t:void 0)},forEach:function forEach(e,t){Y(xe(this),e,1<arguments.length?t:void 0)},indexOf:function indexOf(e,t){return ae(xe(this),e,1<arguments.length?t:void 0)},includes:function includes(e,t){return ie(xe(this),e,1<arguments.length?t:void 0)},join:function join(){return de.apply(xe(this),arguments)},lastIndexOf:function lastIndexOf(){return le.apply(xe(this),arguments)},map:function map(e,t){return Ee(xe(this),e,1<arguments.length?t:void 0)},reduce:function reduce(){return pe.apply(xe(this),arguments)},reduceRight:function reduceRight(){return fe.apply(xe(this),arguments)},reverse:function reverse(){for(var e,t=this,r=xe(t).length,n=Math.floor(r/2),o=0;o<n;)e=t[o],t[o++]=t[--r],t[r]=e;return t},some:function some(e,t){return te(xe(this),e,1<arguments.length?t:void 0)},sort:function sort(e){return ye.call(xe(this),e)},subarray:function subarray(e,t){var r=xe(this),n=r.length,o=s(e,n);return new(I(r,r[Se]))(r.buffer,r.byteOffset+o*r.BYTES_PER_ELEMENT,P((void 0===t?n:s(t,n))-o))}},Le=function slice(e,t){return Ie(this,he.call(xe(this),e,t))},Ve=function set(e,t){xe(this);var r=De(t,1),n=this.length,o=h(e),i=P(o.length),a=0;if(n<i+r)throw z(Oe);for(;a<i;)this[r+a]=o[a++]},We={entries:function entries(){return ue.call(xe(this))},keys:function keys(){return ce.call(xe(this))},values:function values(){return se.call(xe(this))}},ze=function(e,t){return E(e)&&e[Pe]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Fe=function getOwnPropertyDescriptor(e,t){return ze(e,t=c(t,!0))?o(2,e[t]):W(e,t)},Ue=function defineProperty(e,t,r){return!(ze(e,t=c(t,!0))&&E(r)&&u(r,"value"))||u(r,"get")||u(r,"set")||r.configurable||u(r,"writable")&&!r.writable||u(r,"enumerable")&&!r.enumerable?V(e,t,r):(e[t]=r.value,e)};Ce||(L.f=Fe,H.f=Ue),b(b.S+b.F*!Ce,"Object",{getOwnPropertyDescriptor:Fe,defineProperty:Ue}),v(function(){me.call({})})&&(me=ge=function toString(){return de.call(this)});var $e=i({},He);i($e,We),C($e,ve,We.values),i($e,{slice:Le,set:Ve,constructor:function(){},toString:me,toLocaleString:Ne}),je($e,"buffer","b"),je($e,"byteOffset","o"),je($e,"byteLength","l"),je($e,"length","e"),V($e,be,{get:function(){return this[Pe]}}),e.exports=function(e,p,t,i){function oh(e,o){V(e,o,{get:function(){return e=o,(t=this._d).v[r](e*p+t.o,ke);var e,t},set:function(e){return t=o,r=e,n=this._d,i&&(r=(r=Math.round(r))<0?0:255<r?255:255&r),void n.v[a](t*p+n.o,r,ke);var t,r,n},enumerable:!0})}var f=e+((i=!!i)?"Clamped":"")+"Array",r="get"+e,a="set"+e,d=g[f],s=d||{},n=d&&D(d),o=!d||!_.ABV,c={},u=d&&d[K];o?(d=t(function(e,t,r,n){S(e,d,f,"_d");var o,i,a,s,c=0,u=0;if(E(t)){if(!(t instanceof Z||(s=O(t))==$||s==q))return Pe in t?Ge(d,t):Be.call(d,t);o=t,u=De(r,p);var l=t.byteLength;if(void 0===n){if(l%p)throw z(Oe);if((i=l-u)<0)throw z(Oe)}else if(l<(i=P(n)*p)+u)throw z(Oe);a=i/p}else a=w(t),o=new Z(i=a*p);for(C(e,"_d",{b:o,o:u,l:i,e:a,v:new X(o)});c<a;)oh(e,c++)}),u=d[K]=T($e),C(u,"constructor",d)):v(function(){d(1)})&&v(function(){new d(-1)})&&B(function(e){new d,new d(null),new d(1.5),new d(e)},!0)||(d=t(function(e,t,r,n){var o;return S(e,d,f),E(t)?t instanceof Z||(o=O(t))==$||o==q?void 0!==n?new s(t,De(r,p),n):void 0!==r?new s(t,De(r,p)):new s(t):Pe in t?Ge(d,t):Be.call(d,t):new s(w(t))}),Y(n!==Function.prototype?x(s).concat(x(n)):x(s),function(e){e in d||C(d,e,s[e])}),d[K]=u,m||(u.constructor=d));var l=u[ve],y=!!l&&("values"==l.name||null==l.name),h=We.values;C(d,_e,!0),C(u,Pe,f),C(u,we,!0),C(u,Se,d),(i?new d(1)[be]==f:be in u)||V(u,be,{get:function(){return f}}),c[f]=d,b(b.G+b.W+b.F*(d!=s),c),b(b.S,f,{BYTES_PER_ELEMENT:p}),b(b.S+b.F*v(function(){s.of.call(d,1)}),f,{from:Be,of:Me}),J in u||C(u,J,p),b(b.P,f,He),M(f),b(b.P+b.F*Te,f,{set:Ve}),b(b.P+b.F*!y,f,We),m||u.toString==me||(u.toString=me),b(b.P+b.F*v(function(){new d(1).slice()}),f,{slice:Le}),b(b.P+b.F*(v(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!v(function(){u.toLocaleString.call([1,2])})),f,{toLocaleString:Ne}),j[f]=y?l:h,m||y||C(u,ve,h)}}else e.exports=function(){}},function(e,t,r){function _h(e,t,r){var n=a.get(e);if(!n){if(!r)return;a.set(e,n=new i)}var o=n.get(t);if(!o){if(!r)return;n.set(t,o=new i)}return o}var i=r(117),n=r(0),o=r(47)("metadata"),a=o.store||(o.store=new(r(120)));e.exports={store:a,map:_h,has:function(e,t,r){var n=_h(t,r,!1);return void 0!==n&&n.has(e)},get:function(e,t,r){var n=_h(t,r,!1);return void 0===n?void 0:n.get(e)},set:function(e,t,r,n){_h(r,n,!0).set(e,t)},keys:function(e,t){var r=_h(e,t,!1),n=[];return r&&r.forEach(function(e,t){n.push(t)}),n},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){n(n.S,"Reflect",e)}}},function(e,t){e.exports=!1},function(e,t,r){function Ri(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})}var n=r(33)("meta"),o=r(4),i=r(14),a=r(8).f,s=0,c=Object.isExtensible||function(){return!0},u=!r(3)(function(){return c(Object.preventExtensions({}))}),l=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!c(e))return"F";if(!t)return"E";Ri(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!c(e))return!0;if(!t)return!1;Ri(e)}return e[n].w},onFreeze:function(e){return u&&l.NEED&&c(e)&&!i(e,n)&&Ri(e),e}}},function(e,t,r){var n=r(5)("unscopables"),o=Array.prototype;null==o[n]&&r(11)(o,n,{}),e.exports=function(e){o[n][e]=!0}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(96),o=r(69);e.exports=Object.keys||function keys(e){return n(e,o)}},function(e,t,r){var n=r(21),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){function Kj(){}var o=n(1),i=n(97),a=n(69),s=n(68)("IE_PROTO"),c="prototype",u=function(){var e,t=n(66)("iframe"),r=a.length;for(t.style.display="none",n(70).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u[c][a[r]];return u()};e.exports=Object.create||function create(e,t){var r;return null!==e?(Kj[c]=o(e),r=new Kj,Kj[c]=null,r[s]=e):r=u(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(96),o=r(69).concat("length","prototype");t.f=Object.getOwnPropertyNames||function getOwnPropertyNames(e){return n(e,o)}},function(e,t,r){"use strict";var n=r(2),o=r(8),i=r(7),a=r(5)("species");e.exports=function(e){var t=n[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var f=r(19),d=r(109),y=r(81),h=r(1),m=r(6),g=r(83),v={},b={};(t=e.exports=function(e,t,r,n,o){var i,a,s,c,u=o?function(){return e}:g(e),l=f(r,n,t?2:1),p=0;if("function"!=typeof u)throw TypeError(e+" is not iterable!");if(y(u)){for(i=m(e.length);p<i;p++)if((c=t?l(h(a=e[p])[0],a[1]):l(e[p]))===v||c===b)return c}else for(s=u.call(e);!(a=s.next()).done;)if((c=d(s,l,a.value,t))===v||c===b)return c}).BREAK=v,t.RETURN=b},function(e,t,r){var o=r(12);e.exports=function(e,t,r){for(var n in t)o(e,n,t[n],r);return e}},function(e,t,r){var n=r(4);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){var n=r(8).f,o=r(14),i=r(5)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var o=r(20),i=r(5)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},function(e,t,r){function Fl(e,t,r){var n={},o=s(function(){return!!c[e]()||"​"!="​"[e]()}),i=n[e]=o?t(l):c[e];r&&(n[r]=i),a(a.P+a.F*o,"String",n)}var a=r(0),n=r(24),s=r(3),c=r(72),o="["+c+"]",i=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),l=Fl.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(i,"")),2&t&&(e=e.replace(u,"")),e};e.exports=Fl},function(e,t){e.exports={}},function(e,t,r){var n=r(18),o=r(2),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(29)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(20);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";var n=r(1);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){var o=r(1),i=r(10),a=r(5)("species");e.exports=function(e,t){var r,n=o(e).constructor;return void 0===n||null==(r=o(n)[a])?t:i(r)}},function(e,t,r){var c=r(15),u=r(6),l=r(35);e.exports=function(s){return function(e,t,r){var n,o=c(e),i=u(o.length),a=l(r,i);if(s&&t!=t){for(;a<i;)if((n=o[a++])!=n)return!0}else for(;a<i;a++)if((s||a in o)&&o[a]===t)return s||a||0;return!s&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(20);e.exports=Array.isArray||function isArray(e){return"Array"==n(e)}},function(e,t,r){var c=r(21),u=r(24);e.exports=function(s){return function(e,t){var r,n,o=String(u(e)),i=c(t),a=o.length;return i<0||a<=i?s?"":void 0:(r=o.charCodeAt(i))<55296||56319<r||i+1===a||(n=o.charCodeAt(i+1))<56320||57343<n?s?o.charAt(i):r:s?o.slice(i,i+2):n-56320+(r-55296<<10)+65536}}},function(e,t,r){var n=r(4),o=r(20),i=r(5)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,r){var i=r(5)("iterator"),a=!1;try{var n=[7][i]();n.return=function(){a=!0},Array.from(n,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var n=[7],o=n[i]();o.next=function(){return{done:r=!0}},n[i]=function(){return o},e(n)}catch(e){}return r}},function(e,t,r){"use strict";var o=r(44),i=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var n=r.call(e,t);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==o(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,r){"use strict";r(113);var l=r(12),p=r(11),f=r(3),d=r(24),y=r(5),h=r(87),m=y("species"),g=!f(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),v=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(r,e,t){var n=y(r),i=!f(function(){var e={};return e[n]=function(){return 7},7!=""[r](e)}),o=i?!f(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===r&&(t.constructor={},t.constructor[m]=function(){return t}),t[n](""),!e}):void 0;if(!i||!o||"replace"===r&&!g||"split"===r&&!v){var a=/./[n],s=t(d,n,""[r],function maybeCallNative(e,t,r,n,o){return t.exec===h?i&&!o?{done:!0,value:a.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),c=s[0],u=s[1];l(String.prototype,r,c),p(RegExp.prototype,n,2==e?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)})}}},function(e,t,r){var n=r(2).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){"use strict";var m=r(2),g=r(0),v=r(12),b=r(41),_=r(30),S=r(40),C=r(39),P=r(4),w=r(3),O=r(57),E=r(43),k=r(73);e.exports=function(n,e,t,r,o,i){function Wo(e){var r=u[e];v(u,e,"delete"==e?function(e){return!(i&&!P(e))&&r.call(this,0===e?0:e)}:"has"==e?function has(e){return!(i&&!P(e))&&r.call(this,0===e?0:e)}:"get"==e?function get(e){return i&&!P(e)?void 0:r.call(this,0===e?0:e)}:"add"==e?function add(e){return r.call(this,0===e?0:e),this}:function set(e,t){return r.call(this,0===e?0:e,t),this})}var a=m[n],s=a,c=o?"set":"add",u=s&&s.prototype,l={};if("function"==typeof s&&(i||u.forEach&&!w(function(){(new s).entries().next()}))){var p=new s,f=p[c](i?{}:-0,1)!=p,d=w(function(){p.has(1)}),y=O(function(e){new s(e)}),h=!i&&w(function(){for(var e=new s,t=5;t--;)e[c](t,t);return!e.has(-0)});y||(((s=e(function(e,t){C(e,s,n);var r=k(new a,e,s);return null!=t&&S(t,o,r[c],r),r})).prototype=u).constructor=s),(d||h)&&(Wo("delete"),Wo("has"),o&&Wo("get")),(h||f)&&Wo(c),i&&u.clear&&delete u.clear}else s=r.getConstructor(e,n,o,c),b(s.prototype,t),_.NEED=!0;return E(s,n),l[n]=s,g(g.G+g.W+g.F*(s!=a),l),i||r.setStrong(s,n,o),s}},function(e,t,r){for(var n,o=r(2),i=r(11),a=r(33),s=a("typed_array"),c=a("view"),u=!(!o.ArrayBuffer||!o.DataView),l=u,p=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");p<9;)(n=o[f[p++]])?(i(n.prototype,s,!0),i(n.prototype,c,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:s,VIEW:c}},function(e,t,r){"use strict";e.exports=r(29)||!r(3)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete r(2)[e]})},function(e,t,r){"use strict";var n=r(0);e.exports=function(e){n(n.S,e,{of:function of(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,r){"use strict";var n=r(0),c=r(10),u=r(19),l=r(40);e.exports=function(e){n(n.S,e,{from:function from(e,t,r){var n,o,i,a,s=t;return c(this),(n=void 0!==s)&&c(s),null==e?new this:(o=[],n?(i=0,a=u(s,r,2),l(e,!1,function(e){o.push(a(e,i++))})):l(e,!1,o.push,o),new this(o))}})}},function(e,t,r){var n=r(4),o=r(2).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,r){var n=r(2),o=r(18),i=r(29),a=r(95),s=r(8).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=!i&&n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,r){var n=r(47)("keys"),o=r(33);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(2).document;e.exports=n&&n.documentElement},function(e,t,o){function Iq(e,t){if(n(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var r=o(4),n=o(1);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,n){try{(n=o(19)(Function.call,o(16).f(Object.prototype,"__proto__").set,2))(e,[]),r=!(e instanceof Array)}catch(e){r=!0}return function setPrototypeOf(e,t){return Iq(e,t),r?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:Iq}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,r){var i=r(4),a=r(71).set;e.exports=function(e,t,r){var n,o=t.constructor;return o!==r&&"function"==typeof o&&(n=o.prototype)!==r.prototype&&i(n)&&a&&a(e,n),e}},function(e,t,r){"use strict";var o=r(21),i=r(24);e.exports=function repeat(e){var t=String(i(this)),r="",n=o(e);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;0<n;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r}},function(e,t){e.exports=Math.sign||function sign(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var r=Math.expm1;e.exports=!r||22025.465794806718<r(10)||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function expm1(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},function(e,t,r){"use strict";function Hr(){return this}var v=r(29),b=r(0),_=r(12),S=r(11),C=r(46),P=r(78),w=r(43),O=r(17),E=r(5)("iterator"),k=!([].keys&&"next"in[].keys()),T="values";e.exports=function(e,t,r,n,o,i,a){P(r,t,n);function Pr(e){if(!k&&e in d)return d[e];switch(e){case"keys":return function keys(){return new r(this,e)};case T:return function values(){return new r(this,e)}}return function entries(){return new r(this,e)}}var s,c,u,l=t+" Iterator",p=o==T,f=!1,d=e.prototype,y=d[E]||d["@@iterator"]||o&&d[o],h=y||Pr(o),m=o?p?Pr("entries"):h:void 0,g="Array"==t&&d.entries||y;if(g&&(u=O(g.call(new e)))!==Object.prototype&&u.next&&(w(u,l,!0),v||"function"==typeof u[E]||S(u,E,Hr)),p&&y&&y.name!==T&&(f=!0,h=function values(){return y.call(this)}),v&&!a||!k&&!f&&d[E]||S(d,E,h),C[t]=h,C[l]=Hr,o)if(s={values:p?h:Pr(T),keys:i?h:Pr("keys"),entries:m},a)for(c in s)c in d||_(d,c,s[c]);else b(b.P+b.F*(k||f),t,s);return s}},function(e,t,r){"use strict";var n=r(36),o=r(32),i=r(43),a={};r(11)(a,r(5)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(56),o=r(24);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(e))}},function(e,t,r){var n=r(5)("match");e.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[n]=!1,!"/./"[t](r)}catch(e){}}return!0}},function(e,t,r){var n=r(46),o=r(5)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},function(e,t,r){"use strict";var n=r(8),o=r(32);e.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},function(e,t,r){var n=r(44),o=r(5)("iterator"),i=r(46);e.exports=r(18).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(223);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){"use strict";var u=r(9),l=r(35),p=r(6);e.exports=function fill(e,t,r){for(var n=u(this),o=p(n.length),i=arguments.length,a=l(1<i?t:void 0,o),s=2<i?r:void 0,c=void 0===s?o:l(s,o);a<c;)n[a++]=e;return n}},function(e,t,r){"use strict";var n=r(31),o=r(112),i=r(46),a=r(15);e.exports=r(77)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t,r){"use strict";var n,o,a=r(50),s=RegExp.prototype.exec,c=String.prototype.replace,i=s,u="lastIndex",l=(n=/a/,o=/b*/g,s.call(n,"a"),s.call(o,"a"),0!==n[u]||0!==o[u]),p=void 0!==/()??/.exec("")[1];(l||p)&&(i=function exec(e){var t,r,n,o,i=this;return p&&(r=new RegExp("^"+i.source+"$(?!\\s)",a.call(i))),l&&(t=i[u]),n=s.call(i,e),l&&n&&(i[u]=i.global?n.index+n[0].length:t),p&&n&&1<n.length&&c.call(n[0],r,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)}),n}),e.exports=i},function(e,t,r){"use strict";var n=r(55)(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){function su(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}}function tu(e){su.call(e.data)}var n,o,i,a=r(19),s=r(102),c=r(70),u=r(66),l=r(2),p=l.process,f=l.setImmediate,d=l.clearImmediate,y=l.MessageChannel,h=l.Dispatch,m=0,g={},v="onreadystatechange";f&&d||(f=function setImmediate(e){for(var t=[],r=1;r<arguments.length;)t.push(arguments[r++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},n(m),m},d=function clearImmediate(e){delete g[e]},"process"==r(20)(p)?n=function(e){p.nextTick(a(su,e,1))}:h&&h.now?n=function(e){h.now(a(su,e,1))}:y?(i=(o=new y).port2,o.port1.onmessage=tu,n=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",tu,!1)):n=v in u("script")?function(e){c.appendChild(u("script"))[v]=function(){c.removeChild(this),su.call(e)}}:function(e){setTimeout(a(su,e,1),0)}),e.exports={set:f,clear:d}},function(e,t,r){var a=r(2),s=r(89).set,c=a.MutationObserver||a.WebKitMutationObserver,u=a.process,l=a.Promise,p="process"==r(20)(u);e.exports=function(){function Su(){var e,t;for(p&&(e=u.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?o():n=void 0,e}}n=void 0,e&&e.enter()}var r,n,o;if(p)o=function(){u.nextTick(Su)};else if(!c||a.navigator&&a.navigator.standalone)if(l&&l.resolve){var e=l.resolve(void 0);o=function(){e.then(Su)}}else o=function(){s.call(a,Su)};else{var t=!0,i=document.createTextNode("");new c(Su).observe(i,{characterData:!0}),o=function(){i.data=t=!t}}return function(e){var t={fn:e,next:void 0};n&&(n.next=t),r||(r=t,o()),n=t}}},function(e,t,r){"use strict";var o=r(10);function PromiseCapability(e){var r,n;this.promise=new e(function(e,t){if(void 0!==r||void 0!==n)throw TypeError("Bad Promise constructor");r=e,n=t}),this.resolve=o(r),this.reject=o(n)}e.exports.f=function(e){return new PromiseCapability(e)}},function(e,t,r){"use strict";var n=r(2),o=r(7),i=r(29),a=r(62),s=r(11),c=r(41),u=r(3),l=r(39),p=r(21),f=r(6),d=r(122),y=r(37).f,h=r(8).f,m=r(85),g=r(43),v="ArrayBuffer",b="DataView",_="prototype",S="Wrong index!",C=n[v],P=n[b],w=n.Math,O=n.RangeError,E=n.Infinity,k=C,T=w.abs,D=w.pow,x=w.floor,R=w.log,I=w.LN2,G="byteLength",j="byteOffset",B=o?"_b":"buffer",M=o?"_l":G,A=o?"_o":j;function packIEEE754(e,t,r){var n,o,i,a=new Array(r),s=8*r-t-1,c=(1<<s)-1,u=c>>1,l=23===t?D(2,-24)-D(2,-77):0,p=0,f=e<0||0===e&&1/e<0?1:0;for((e=T(e))!=e||e===E?(o=e!=e?1:0,n=c):(n=x(R(e)/I),e*(i=D(2,-n))<1&&(n--,i*=2),2<=(e+=1<=n+u?l/i:l*D(2,1-u))*i&&(n++,i/=2),c<=n+u?(o=0,n=c):1<=n+u?(o=(e*i-1)*D(2,t),n+=u):(o=e*D(2,u-1)*D(2,t),n=0));8<=t;a[p++]=255&o,o/=256,t-=8);for(n=n<<t|o,s+=t;0<s;a[p++]=255&n,n/=256,s-=8);return a[--p]|=128*f,a}function unpackIEEE754(e,t,r){var n,o=8*r-t-1,i=(1<<o)-1,a=i>>1,s=o-7,c=r-1,u=e[c--],l=127&u;for(u>>=7;0<s;l=256*l+e[c],c--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=t;0<s;n=256*n+e[c],c--,s-=8);if(0===l)l=1-a;else{if(l===i)return n?NaN:u?-E:E;n+=D(2,t),l-=a}return(u?-1:1)*n*D(2,l-t)}function unpackI32(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function packI8(e){return[255&e]}function packI16(e){return[255&e,e>>8&255]}function packI32(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function packF64(e){return packIEEE754(e,52,8)}function packF32(e){return packIEEE754(e,23,4)}function addGetter(e,t,r){h(e[_],t,{get:function(){return this[r]}})}function get(e,t,r,n){var o=d(+r);if(o+t>e[M])throw O(S);var i=e[B]._b,a=o+e[A],s=i.slice(a,a+t);return n?s:s.reverse()}function set(e,t,r,n,o,i){var a=d(+r);if(a+t>e[M])throw O(S);for(var s=e[B]._b,c=a+e[A],u=n(+o),l=0;l<t;l++)s[c+l]=u[i?l:t-l-1]}if(a.ABV){if(!u(function(){C(1)})||!u(function(){new C(-1)})||u(function(){return new C,new C(1.5),new C(NaN),C.name!=v})){for(var N,H=(C=function ArrayBuffer(e){return l(this,C),new k(d(e))})[_]=k[_],L=y(k),V=0;L.length>V;)(N=L[V++])in C||s(C,N,k[N]);i||(H.constructor=C)}var W=new P(new C(2)),z=P[_].setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||c(P[_],{setInt8:function setInt8(e,t){z.call(this,e,t<<24>>24)},setUint8:function setUint8(e,t){z.call(this,e,t<<24>>24)}},!0)}else C=function ArrayBuffer(e){l(this,C,v);var t=d(e);this._b=m.call(new Array(t),0),this[M]=t},P=function DataView(e,t,r){l(this,P,b),l(e,C,b);var n=e[M],o=p(t);if(o<0||n<o)throw O("Wrong offset!");if(n<o+(r=void 0===r?n-o:f(r)))throw O("Wrong length!");this[B]=e,this[A]=o,this[M]=r},o&&(addGetter(C,G,"_l"),addGetter(P,"buffer","_b"),addGetter(P,G,"_l"),addGetter(P,j,"_o")),c(P[_],{getInt8:function getInt8(e){return get(this,1,e)[0]<<24>>24},getUint8:function getUint8(e){return get(this,1,e)[0]},getInt16:function getInt16(e,t){var r=get(this,2,e,t);return(r[1]<<8|r[0])<<16>>16},getUint16:function getUint16(e,t){var r=get(this,2,e,t);return r[1]<<8|r[0]},getInt32:function getInt32(e,t){return unpackI32(get(this,4,e,t))},getUint32:function getUint32(e,t){return unpackI32(get(this,4,e,t))>>>0},getFloat32:function getFloat32(e,t){return unpackIEEE754(get(this,4,e,t),23,4)},getFloat64:function getFloat64(e,t){return unpackIEEE754(get(this,8,e,t),52,8)},setInt8:function setInt8(e,t){set(this,1,e,packI8,t)},setUint8:function setUint8(e,t){set(this,1,e,packI8,t)},setInt16:function setInt16(e,t,r){set(this,2,e,packI16,t,r)},setUint16:function setUint16(e,t,r){set(this,2,e,packI16,t,r)},setInt32:function setInt32(e,t,r){set(this,4,e,packI32,t,r)},setUint32:function setUint32(e,t,r){set(this,4,e,packI32,t,r)},setFloat32:function setFloat32(e,t,r){set(this,4,e,packF32,t,r)},setFloat64:function setFloat64(e,t,r){set(this,8,e,packF64,t,r)}});g(C,v),g(P,b),s(P[_],a.VIEW,!0),t[v]=C,t[b]=P},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){e.exports=!r(7)&&!r(3)(function(){return 7!=Object.defineProperty(r(66)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){t.f=r(5)},function(e,t,r){var a=r(14),s=r(15),c=r(52)(!1),u=r(68)("IE_PROTO");e.exports=function(e,t){var r,n=s(e),o=0,i=[];for(r in n)r!=u&&a(n,r)&&i.push(r);for(;t.length>o;)a(n,r=t[o++])&&(~c(i,r)||i.push(r));return i}},function(e,t,r){var a=r(8),s=r(1),c=r(34);e.exports=r(7)?Object.defineProperties:function defineProperties(e,t){s(e);for(var r,n=c(t),o=n.length,i=0;i<o;)a.f(e,r=n[i++],t[r]);return e}},function(e,t,r){var n=r(15),o=r(37).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function getOwnPropertyNames(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(n(e))}},function(e,t,r){"use strict";var p=r(7),f=r(34),d=r(53),y=r(49),h=r(9),m=r(48),o=Object.assign;e.exports=!o||r(3)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=o({},e)[r]||Object.keys(o({},t)).join("")!=n})?function assign(e){for(var t=h(e),r=arguments.length,n=1,o=d.f,i=y.f;n<r;)for(var a,s=m(arguments[n++]),c=o?f(s).concat(o(s)):f(s),u=c.length,l=0;l<u;)a=c[l++],p&&!i.call(s,a)||(t[a]=s[a]);return t}:o},function(e,t){e.exports=Object.is||function is(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){"use strict";var i=r(10),a=r(4),s=r(102),c=[].slice,u={};e.exports=Function.bind||function bind(t){var r=i(this),n=c.call(arguments,1),o=function(){var e=n.concat(c.call(arguments));return this instanceof o?function(e,t,r){if(!(t in u)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";u[t]=Function("F,a","return new F("+n.join(",")+")")}return u[t](e,r)}(r,e.length,e):s(r,e,t)};return a(r.prototype)&&(o.prototype=r.prototype),o}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(2).parseInt,o=r(45).trim,i=r(72),a=/^[-+]?0[xX]/;e.exports=8!==n(i+"08")||22!==n(i+"0x16")?function parseInt(e,t){var r=o(String(e),3);return n(r,t>>>0||(a.test(r)?16:10))}:n},function(e,t,r){var n=r(2).parseFloat,o=r(45).trim;e.exports=1/n(r(72)+"-0")!=-1/0?function parseFloat(e){var t=o(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},function(e,t,r){var n=r(20);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},function(e,t,r){var n=r(4),o=Math.floor;e.exports=function isInteger(e){return!n(e)&&isFinite(e)&&o(e)===e}},function(e,t){e.exports=Math.log1p||function log1p(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,r){var i=r(75),n=Math.pow,a=n(2,-52),s=n(2,-23),c=n(2,127)*(2-s),u=n(2,-126);e.exports=Math.fround||function fround(e){var t,r,n=Math.abs(e),o=i(e);return n<u?o*(n/u/s+1/a-1/a)*u*s:c<(r=(t=(1+s/a)*n)-(t-n))||r!=r?o*(1/0):o*r}},function(e,t,r){var i=r(1);e.exports=function(t,e,r,n){try{return n?e(i(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(e,t,r){var l=r(10),p=r(9),f=r(48),d=r(6);e.exports=function(e,t,r,n,o){l(t);var i=p(e),a=f(i),s=d(i.length),c=o?s-1:0,u=o?-1:1;if(r<2)for(;;){if(c in a){n=a[c],c+=u;break}if(c+=u,o?c<0:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;o?0<=c:c<s;c+=u)c in a&&(n=t(n,a[c],c,i));return n}},function(e,t,r){"use strict";var l=r(9),p=r(35),f=r(6);e.exports=[].copyWithin||function copyWithin(e,t,r){var n=l(this),o=f(n.length),i=p(e,o),a=p(t,o),s=2<arguments.length?r:void 0,c=Math.min((void 0===s?o:p(s,o))-a,o-i),u=1;for(a<i&&i<a+c&&(u=-1,a+=c-1,i+=c-1);0<c--;)a in n?n[i]=n[a]:delete n[i],i+=u,a+=u;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(87);r(0)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(e,t,r){r(7)&&"g"!=/./g.flags&&r(8).f(RegExp.prototype,"flags",{configurable:!0,get:r(50)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(1),o=r(4),i=r(91);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(118),o=r(42);e.exports=r(61)("Map",function(t){return function Map(e){return t(this,0<arguments.length?e:void 0)}},{get:function get(e){var t=n.getEntry(o(this,"Map"),e);return t&&t.v},set:function set(e,t){return n.def(o(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,r){"use strict";function oC(e,t){var r,n=d(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r}var a=r(8).f,s=r(36),c=r(41),u=r(19),l=r(39),p=r(40),n=r(77),o=r(112),i=r(38),f=r(7),d=r(30).fastKey,y=r(42),h=f?"_s":"size";e.exports={getConstructor:function(e,i,r,n){var o=e(function(e,t){l(e,o,i,"_i"),e._t=i,e._i=s(null),e._f=void 0,e._l=void 0,e[h]=0,null!=t&&p(t,r,e[n],e)});return c(o.prototype,{clear:function clear(){for(var e=y(this,i),t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[h]=0},delete:function(e){var t=y(this,i),r=oC(t,e);if(r){var n=r.n,o=r.p;delete t._i[r.i],r.r=!0,o&&(o.n=n),n&&(n.p=o),t._f==r&&(t._f=n),t._l==r&&(t._l=o),t[h]--}return!!r},forEach:function forEach(e,t){y(this,i);for(var r,n=u(e,1<arguments.length?t:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function has(e){return!!oC(y(this,i),e)}}),f&&a(o.prototype,"size",{get:function(){return y(this,i)[h]}}),o},def:function(e,t,r){var n,o,i=oC(e,t);return i?i.v=r:(e._l=i={i:o=d(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[h]++,"F"!==o&&(e._i[o]=i)),e},getEntry:oC,setStrong:function(e,r,t){n(e,r,function(e,t){this._t=y(e,r),this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?o(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=void 0,o(1))},t?"entries":"values",!t,!0),i(r)}}},function(e,t,r){"use strict";var n=r(118),o=r(42);e.exports=r(61)("Set",function(t){return function Set(e){return t(this,0<arguments.length?e:void 0)}},{add:function add(e){return n.def(o(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,r){"use strict";function yD(t){return function WeakMap(e){return t(this,0<arguments.length?e:void 0)}}var i,n=r(2),o=r(26)(0),a=r(12),s=r(30),c=r(99),u=r(121),l=r(4),p=r(42),f=r(42),d=!n.ActiveXObject&&"ActiveXObject"in n,y="WeakMap",h=s.getWeak,m=Object.isExtensible,g=u.ufstore,v={get:function get(e){if(l(e)){var t=h(e);return!0===t?g(p(this,y)).get(e):t?t[this._i]:void 0}},set:function set(e,t){return u.def(p(this,y),e,t)}},b=e.exports=r(61)(y,yD,v,u,!0,!0);f&&d&&(c((i=u.getConstructor(yD,y)).prototype,v),s.NEED=!0,o(["delete","has","get","set"],function(n){var e=b.prototype,o=e[n];a(e,n,function(e,t){if(!l(e)||m(e))return o.call(this,e,t);this._f||(this._f=new i);var r=this._f[n](e,t);return"set"==n?this:r})}))},function(e,t,r){"use strict";function _D(e){return e._l||(e._l=new h)}function bE(e,t){return i(e.a,function(e){return e[0]===t})}var a=r(41),s=r(30).getWeak,o=r(1),c=r(4),u=r(39),l=r(40),n=r(26),p=r(14),f=r(42),i=n(5),d=n(6),y=0,h=function(){this.a=[]};h.prototype={get:function(e){var t=bE(this,e);if(t)return t[1]},has:function(e){return!!bE(this,e)},set:function(e,t){var r=bE(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,r,n,o){var i=e(function(e,t){u(e,i,r,"_i"),e._t=r,e._i=y++,e._l=void 0,null!=t&&l(t,n,e[o],e)});return a(i.prototype,{delete:function(e){if(!c(e))return!1;var t=s(e);return!0===t?_D(f(this,r)).delete(e):t&&p(t,this._i)&&delete t[this._i]},has:function has(e){if(!c(e))return!1;var t=s(e);return!0===t?_D(f(this,r)).has(e):t&&p(t,this._i)}}),i},def:function(e,t,r){var n=s(o(t),!0);return!0===n?_D(e).set(t,r):n[e._i]=r,e},ufstore:_D}},function(e,t,r){var n=r(21),o=r(6);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=o(t);if(t!==r)throw RangeError("Wrong length!");return r}},function(e,t,r){var n=r(37),o=r(53),i=r(1),a=r(2).Reflect;e.exports=a&&a.ownKeys||function ownKeys(e){var t=n.f(i(e)),r=o.f;return r?t.concat(r(e)):t}},function(e,t,r){"use strict";var d=r(54),y=r(4),h=r(6),m=r(19),g=r(5)("isConcatSpreadable");e.exports=function flattenIntoArray(e,t,r,n,o,i,a,s){for(var c,u,l=o,p=0,f=!!a&&m(a,s,3);p<n;){if(p in r){if(c=f?f(r[p],p,t):r[p],u=!1,y(c)&&(u=void 0!==(u=c[g])?!!u:d(c)),u&&0<i)l=flattenIntoArray(e,t,c,h(c.length),l,i-1)-1;else{if(9007199254740991<=l)throw TypeError();e[l]=c}l++}p++}return l}},function(e,t,r){var l=r(6),p=r(74),f=r(24);e.exports=function(e,t,r,n){var o=String(f(e)),i=o.length,a=void 0===r?" ":String(r),s=l(t);if(s<=i||""==a)return o;var c=s-i,u=p.call(a,Math.ceil(c/a.length));return u.length>c&&(u=u.slice(0,c)),n?u+o:o+u}},function(e,t,r){var c=r(7),u=r(34),l=r(15),p=r(49).f;e.exports=function(s){return function(e){for(var t,r=l(e),n=u(r),o=n.length,i=0,a=[];i<o;)t=n[i++],c&&!p.call(r,t)||a.push(s?[t,r[t]]:r[t]);return a}}},function(e,t,r){var n=r(44),o=r(128);e.exports=function(e){return function toJSON(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},function(e,t,r){var n=r(40);e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},function(e,t){e.exports=Math.scale||function scale(e,t,r,n,o){return 0===arguments.length||e!=e||t!=t||r!=r||n!=n||o!=o?NaN:e===1/0||e===-1/0?e:(e-t)*(o-n)/(r-t)+n}},function(e,t,r){r(131),e.exports=r(333)},function(e,t,r){"use strict";(function(e){if(r(132),r(329),r(330),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;function define(e,t,r){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:r})}define(String.prototype,"padLeft","".padStart),define(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&define(Array,e,Function.call.bind([][e]))})}).call(this,r(93))},function(e,t,r){r(133),r(136),r(137),r(138),r(139),r(140),r(141),r(142),r(143),r(144),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(155),r(156),r(157),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(166),r(167),r(168),r(169),r(170),r(171),r(172),r(173),r(174),r(175),r(176),r(177),r(178),r(179),r(180),r(181),r(182),r(183),r(184),r(185),r(186),r(187),r(188),r(189),r(190),r(191),r(192),r(193),r(194),r(195),r(196),r(197),r(198),r(199),r(200),r(201),r(202),r(203),r(204),r(205),r(206),r(207),r(208),r(209),r(210),r(211),r(213),r(214),r(216),r(217),r(218),r(219),r(220),r(221),r(222),r(224),r(225),r(226),r(227),r(228),r(229),r(230),r(231),r(232),r(233),r(234),r(235),r(236),r(86),r(237),r(113),r(238),r(114),r(239),r(240),r(241),r(242),r(243),r(117),r(119),r(120),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(256),r(257),r(258),r(259),r(260),r(261),r(262),r(263),r(264),r(265),r(266),r(267),r(268),r(269),r(270),r(271),r(272),r(273),r(274),r(275),r(276),r(277),r(278),r(279),r(280),r(281),r(282),r(283),r(284),r(285),r(286),r(287),r(288),r(289),r(290),r(291),r(292),r(293),r(294),r(295),r(296),r(297),r(298),r(299),r(300),r(301),r(302),r(303),r(304),r(305),r(306),r(307),r(308),r(309),r(310),r(311),r(312),r(313),r(314),r(315),r(316),r(317),r(318),r(319),r(320),r(321),r(322),r(323),r(324),r(325),r(326),r(327),r(328),e.exports=r(18)},function(e,t,r){"use strict";function vH(e){var t=V[e]=w(G[M]);return t._k=e,t}function yH(e,t){v(e);for(var r,n=m(t=S(t)),o=0,i=n.length;o<i;)K(e,r=n[o++],t[r]);return e}function AH(e){var t=H.call(this,e=C(e,!0));return!(this===z&&a(V,e)&&!a(W,e))&&(!(t||!a(this,e)||!a(V,e)||a(this,A)&&this[A][e])||t)}function BH(e,t){if(e=S(e),t=C(t,!0),e!==z||!a(V,t)||a(W,t)){var r=x(e,t);return!r||!a(V,t)||a(e,A)&&e[A][t]||(r.enumerable=!0),r}}function CH(e){for(var t,r=I(S(e)),n=[],o=0;r.length>o;)a(V,t=r[o++])||t==A||t==c||n.push(t);return n}function DH(e){for(var t,r=e===z,n=I(r?W:S(e)),o=[],i=0;n.length>i;)!a(V,t=n[i++])||r&&!a(z,t)||o.push(V[t]);return o}var n=r(2),a=r(14),o=r(7),i=r(0),s=r(12),c=r(30).KEY,u=r(3),l=r(47),p=r(43),f=r(33),d=r(5),y=r(95),h=r(67),m=r(135),g=r(54),v=r(1),b=r(4),_=r(9),S=r(15),C=r(23),P=r(32),w=r(36),O=r(98),E=r(16),k=r(53),T=r(8),D=r(34),x=E.f,R=T.f,I=O.f,G=n.Symbol,j=n.JSON,B=j&&j.stringify,M="prototype",A=d("_hidden"),N=d("toPrimitive"),H={}.propertyIsEnumerable,L=l("symbol-registry"),V=l("symbols"),W=l("op-symbols"),z=Object[M],F="function"==typeof G&&!!k.f,U=n.QObject,$=!U||!U[M]||!U[M].findChild,q=o&&u(function(){return 7!=w(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=x(z,t);n&&delete z[t],R(e,t,r),n&&e!==z&&R(z,t,n)}:R,J=F&&"symbol"==typeof G.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof G},K=function defineProperty(e,t,r){return e===z&&K(W,t,r),v(e),t=C(t,!0),v(r),a(V,t)?(r.enumerable?(a(e,A)&&e[A][t]&&(e[A][t]=!1),r=w(r,{enumerable:P(0,!1)})):(a(e,A)||R(e,A,P(1,{})),e[A][t]=!0),q(e,t,r)):R(e,t,r)};F||(s((G=function Symbol(e){if(this instanceof G)throw TypeError("Symbol is not a constructor!");var t=f(0<arguments.length?e:void 0),r=function(e){this===z&&r.call(W,e),a(this,A)&&a(this[A],t)&&(this[A][t]=!1),q(this,t,P(1,e))};return o&&$&&q(z,t,{configurable:!0,set:r}),vH(t)})[M],"toString",function toString(){return this._k}),E.f=BH,T.f=K,r(37).f=O.f=CH,r(49).f=AH,k.f=DH,o&&!r(29)&&s(z,"propertyIsEnumerable",AH,!0),y.f=function(e){return vH(d(e))}),i(i.G+i.W+i.F*!F,{Symbol:G});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Z=0;Q.length>Z;)d(Q[Z++]);for(var X=D(d.store),Y=0;X.length>Y;)h(X[Y++]);i(i.S+i.F*!F,"Symbol",{for:function(e){return a(L,e+="")?L[e]:L[e]=G(e)},keyFor:function keyFor(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){$=!0},useSimple:function(){$=!1}}),i(i.S+i.F*!F,"Object",{create:function create(e,t){return void 0===t?w(e):yH(w(e),t)},defineProperty:K,defineProperties:yH,getOwnPropertyDescriptor:BH,getOwnPropertyNames:CH,getOwnPropertySymbols:DH});var ee=u(function(){k.f(1)});i(i.S+i.F*ee,"Object",{getOwnPropertySymbols:function getOwnPropertySymbols(e){return k.f(_(e))}}),j&&i(i.S+i.F*(!F||u(function(){var e=G();return"[null]"!=B([e])||"{}"!=B({a:e})||"{}"!=B(Object(e))})),"JSON",{stringify:function stringify(e){for(var t,r,n=[e],o=1;o<arguments.length;)n.push(arguments[o++]);if(r=t=n[1],(b(t)||void 0!==e)&&!J(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!J(t))return t}),n[1]=t,B.apply(j,n)}}),G[M][N]||r(11)(G[M],N,G[M].valueOf),p(G,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},function(e,t,r){e.exports=r(47)("native-function-to-string",Function.toString)},function(e,t,r){var s=r(34),c=r(53),u=r(49);e.exports=function(e){var t=s(e),r=c.f;if(r)for(var n,o=r(e),i=u.f,a=0;o.length>a;)i.call(e,n=o[a++])&&t.push(n);return t}},function(e,t,r){var n=r(0);n(n.S,"Object",{create:r(36)})},function(e,t,r){var n=r(0);n(n.S+n.F*!r(7),"Object",{defineProperty:r(8).f})},function(e,t,r){var n=r(0);n(n.S+n.F*!r(7),"Object",{defineProperties:r(97)})},function(e,t,r){var n=r(15),o=r(16).f;r(25)("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(e,t){return o(n(e),t)}})},function(e,t,r){var n=r(9),o=r(17);r(25)("getPrototypeOf",function(){return function getPrototypeOf(e){return o(n(e))}})},function(e,t,r){var n=r(9),o=r(34);r(25)("keys",function(){return function keys(e){return o(n(e))}})},function(e,t,r){r(25)("getOwnPropertyNames",function(){return r(98).f})},function(e,t,r){var n=r(4),o=r(30).onFreeze;r(25)("freeze",function(t){return function freeze(e){return t&&n(e)?t(o(e)):e}})},function(e,t,r){var n=r(4),o=r(30).onFreeze;r(25)("seal",function(t){return function seal(e){return t&&n(e)?t(o(e)):e}})},function(e,t,r){var n=r(4),o=r(30).onFreeze;r(25)("preventExtensions",function(t){return function preventExtensions(e){return t&&n(e)?t(o(e)):e}})},function(e,t,r){var n=r(4);r(25)("isFrozen",function(t){return function isFrozen(e){return!n(e)||!!t&&t(e)}})},function(e,t,r){var n=r(4);r(25)("isSealed",function(t){return function isSealed(e){return!n(e)||!!t&&t(e)}})},function(e,t,r){var n=r(4);r(25)("isExtensible",function(t){return function isExtensible(e){return!!n(e)&&(!t||t(e))}})},function(e,t,r){var n=r(0);n(n.S+n.F,"Object",{assign:r(99)})},function(e,t,r){var n=r(0);n(n.S,"Object",{is:r(100)})},function(e,t,r){var n=r(0);n(n.S,"Object",{setPrototypeOf:r(71).set})},function(e,t,r){"use strict";var n=r(44),o={};o[r(5)("toStringTag")]="z",o+""!="[object z]"&&r(12)(Object.prototype,"toString",function toString(){return"[object "+n(this)+"]"},!0)},function(e,t,r){var n=r(0);n(n.P,"Function",{bind:r(101)})},function(e,t,r){var n=r(8).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||r(7)&&n(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,r){"use strict";var n=r(4),o=r(17),i=r(5)("hasInstance"),a=Function.prototype;i in a||r(8).f(a,i,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,r){var n=r(0),o=r(103);n(n.G+n.F*(parseInt!=o),{parseInt:o})},function(e,t,r){var n=r(0),o=r(104);n(n.G+n.F*(parseFloat!=o),{parseFloat:o})},function(e,t,r){"use strict";function zL(e){var t=l(e,!1);if("string"==typeof t&&2<t.length){var r,n,o,i=(t=v?t.trim():f(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+t}for(var a,s=t.slice(2),c=0,u=s.length;c<u;c++)if((a=s.charCodeAt(c))<48||o<a)return NaN;return parseInt(s,n)}}return+t}var n=r(2),o=r(14),i=r(20),a=r(73),l=r(23),s=r(3),c=r(37).f,u=r(16).f,p=r(8).f,f=r(45).trim,d="Number",y=n[d],h=y,m=y.prototype,g=i(r(36)(m))==d,v="trim"in String.prototype;if(!y(" 0o1")||!y("0b1")||y("+0x1")){y=function Number(e){var t=arguments.length<1?0:e,r=this;return r instanceof y&&(g?s(function(){m.valueOf.call(r)}):i(r)!=d)?a(new h(zL(t)),r,y):zL(t)};for(var b,_=r(7)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;_.length>S;S++)o(h,b=_[S])&&!o(y,b)&&p(y,b,u(h,b));(y.prototype=m).constructor=y,r(12)(n,d,y)}},function(e,t,r){"use strict";function aM(e,t){for(var r=-1,n=t;++r<6;)n+=e*a[r],a[r]=n%1e7,n=i(n/1e7)}function bM(e){for(var t=6,r=0;0<=--t;)r+=a[t],a[t]=i(r/e),r=r%e*1e7}function cM(){for(var e=6,t="";0<=--e;)if(""!==t||0===e||0!==a[e]){var r=String(a[e]);t=""===t?r:t+p.call("0",7-r.length)+r}return t}var n=r(0),u=r(21),l=r(105),p=r(74),o=1..toFixed,i=Math.floor,a=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",d=function(e,t,r){return 0===t?r:t%2==1?d(e,t-1,r*e):d(e*e,t/2,r)};n(n.P+n.F*(!!o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(3)(function(){o.call({})})),"Number",{toFixed:function toFixed(e){var t,r,n,o,i=l(this,f),a=u(e),s="",c="0";if(a<0||20<a)throw RangeError(f);if(i!=i)return"NaN";if(i<=-1e21||1e21<=i)return String(i);if(i<0&&(s="-",i=-i),1e-21<i)if(r=(t=function(e){for(var t=0,r=e;4096<=r;)t+=12,r/=4096;for(;2<=r;)t+=1,r/=2;return t}(i*d(2,69,1))-69)<0?i*d(2,-t,1):i/d(2,t,1),r*=4503599627370496,0<(t=52-t)){for(aM(0,r),n=a;7<=n;)aM(1e7,0),n-=7;for(aM(d(10,n,1),0),n=t-1;23<=n;)bM(1<<23),n-=23;bM(1<<n),aM(1,1),bM(2),c=cM()}else aM(0,r),aM(1<<-t,0),c=cM()+p.call("0",a);return c=0<a?s+((o=c.length)<=a?"0."+p.call("0",a-o)+c:c.slice(0,o-a)+"."+c.slice(o-a)):s+c}})},function(e,t,r){"use strict";var n=r(0),o=r(3),i=r(105),a=1..toPrecision;n(n.P+n.F*(o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})),"Number",{toPrecision:function toPrecision(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,r){var n=r(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,r){var n=r(0),o=r(2).isFinite;n(n.S,"Number",{isFinite:function isFinite(e){return"number"==typeof e&&o(e)}})},function(e,t,r){var n=r(0);n(n.S,"Number",{isInteger:r(106)})},function(e,t,r){var n=r(0);n(n.S,"Number",{isNaN:function isNaN(e){return e!=e}})},function(e,t,r){var n=r(0),o=r(106),i=Math.abs;n(n.S,"Number",{isSafeInteger:function isSafeInteger(e){return o(e)&&i(e)<=9007199254740991}})},function(e,t,r){var n=r(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){var n=r(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,r){var n=r(0),o=r(104);n(n.S+n.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(e,t,r){var n=r(0),o=r(103);n(n.S+n.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(e,t,r){var n=r(0),o=r(107),i=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function acosh(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},function(e,t,r){var n=r(0),o=Math.asinh;n(n.S+n.F*!(o&&0<1/o(0)),"Math",{asinh:function asinh(e){return isFinite(e=+e)&&0!=e?e<0?-asinh(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(e,t,r){var n=r(0),o=Math.atanh;n(n.S+n.F*!(o&&1/o(-0)<0),"Math",{atanh:function atanh(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,r){var n=r(0),o=r(75);n(n.S,"Math",{cbrt:function cbrt(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{clz32:function clz32(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,r){var n=r(0),o=Math.exp;n(n.S,"Math",{cosh:function cosh(e){return(o(e=+e)+o(-e))/2}})},function(e,t,r){var n=r(0),o=r(76);n(n.S+n.F*(o!=Math.expm1),"Math",{expm1:o})},function(e,t,r){var n=r(0);n(n.S,"Math",{fround:r(108)})},function(e,t,r){var n=r(0),c=Math.abs;n(n.S,"Math",{hypot:function hypot(e,t){for(var r,n,o=0,i=0,a=arguments.length,s=0;i<a;)s<(r=c(arguments[i++]))?(o=o*(n=s/r)*n+1,s=r):o+=0<r?(n=r/s)*n:r;return s===1/0?1/0:s*Math.sqrt(o)}})},function(e,t,r){var n=r(0),o=Math.imul;n(n.S+n.F*r(3)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function imul(e,t){var r=65535,n=+e,o=+t,i=r&n,a=r&o;return 0|i*a+((r&n>>>16)*a+i*(r&o>>>16)<<16>>>0)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{log10:function log10(e){return Math.log(e)*Math.LOG10E}})},function(e,t,r){var n=r(0);n(n.S,"Math",{log1p:r(107)})},function(e,t,r){var n=r(0);n(n.S,"Math",{log2:function log2(e){return Math.log(e)/Math.LN2}})},function(e,t,r){var n=r(0);n(n.S,"Math",{sign:r(75)})},function(e,t,r){var n=r(0),o=r(76),i=Math.exp;n(n.S+n.F*r(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function sinh(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,r){var n=r(0),o=r(76),i=Math.exp;n(n.S,"Math",{tanh:function tanh(e){var t=o(e=+e),r=o(-e);return t==1/0?1:r==1/0?-1:(t-r)/(i(e)+i(-e))}})},function(e,t,r){var n=r(0);n(n.S,"Math",{trunc:function trunc(e){return(0<e?Math.floor:Math.ceil)(e)}})},function(e,t,r){var n=r(0),i=r(35),a=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function fromCodePoint(e){for(var t,r=[],n=arguments.length,o=0;o<n;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},function(e,t,r){var n=r(0),a=r(15),s=r(6);n(n.S,"String",{raw:function raw(e){for(var t=a(e.raw),r=s(t.length),n=arguments.length,o=[],i=0;i<r;)o.push(String(t[i++])),i<n&&o.push(String(arguments[i]));return o.join("")}})},function(e,t,r){"use strict";r(45)("trim",function(e){return function trim(){return e(this,3)}})},function(e,t,r){"use strict";var n=r(55)(!0);r(77)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){"use strict";var n=r(0),o=r(55)(!1);n(n.P,"String",{codePointAt:function codePointAt(e){return o(this,e)}})},function(e,t,r){"use strict";var n=r(0),s=r(6),c=r(79),u="endsWith",l=""[u];n(n.P+n.F*r(80)(u),"String",{endsWith:function endsWith(e,t){var r=c(this,e,u),n=1<arguments.length?t:void 0,o=s(r.length),i=void 0===n?o:Math.min(s(n),o),a=String(e);return l?l.call(r,a,i):r.slice(i-a.length,i)===a}})},function(e,t,r){"use strict";var n=r(0),o=r(79),i="includes";n(n.P+n.F*r(80)(i),"String",{includes:function includes(e,t){return!!~o(this,e,i).indexOf(e,1<arguments.length?t:void 0)}})},function(e,t,r){var n=r(0);n(n.P,"String",{repeat:r(74)})},function(e,t,r){"use strict";var n=r(0),i=r(6),a=r(79),s="startsWith",c=""[s];n(n.P+n.F*r(80)(s),"String",{startsWith:function startsWith(e,t){var r=a(this,e,s),n=i(Math.min(1<arguments.length?t:void 0,r.length)),o=String(e);return c?c.call(r,o,n):r.slice(n,n+o.length)===o}})},function(e,t,r){"use strict";r(13)("anchor",function(t){return function anchor(e){return t(this,"a","name",e)}})},function(e,t,r){"use strict";r(13)("big",function(e){return function big(){return e(this,"big","","")}})},function(e,t,r){"use strict";r(13)("blink",function(e){return function blink(){return e(this,"blink","","")}})},function(e,t,r){"use strict";r(13)("bold",function(e){return function bold(){return e(this,"b","","")}})},function(e,t,r){"use strict";r(13)("fixed",function(e){return function fixed(){return e(this,"tt","","")}})},function(e,t,r){"use strict";r(13)("fontcolor",function(t){return function fontcolor(e){return t(this,"font","color",e)}})},function(e,t,r){"use strict";r(13)("fontsize",function(t){return function fontsize(e){return t(this,"font","size",e)}})},function(e,t,r){"use strict";r(13)("italics",function(e){return function italics(){return e(this,"i","","")}})},function(e,t,r){"use strict";r(13)("link",function(t){return function link(e){return t(this,"a","href",e)}})},function(e,t,r){"use strict";r(13)("small",function(e){return function small(){return e(this,"small","","")}})},function(e,t,r){"use strict";r(13)("strike",function(e){return function strike(){return e(this,"strike","","")}})},function(e,t,r){"use strict";r(13)("sub",function(e){return function sub(){return e(this,"sub","","")}})},function(e,t,r){"use strict";r(13)("sup",function(e){return function sup(){return e(this,"sup","","")}})},function(e,t,r){var n=r(0);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,r){"use strict";var n=r(0),o=r(9),i=r(23);n(n.P+n.F*r(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function toJSON(){var e=o(this),t=i(e);return"number"!=typeof t||isFinite(t)?e.toISOString():null}})},function(e,t,r){var n=r(0),o=r(212);n(n.P+n.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(e,t,r){"use strict";function CS(e){return 9<e?e:"0"+e}var n=r(3),o=Date.prototype.getTime,i=Date.prototype.toISOString;e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!n(function(){i.call(new Date(NaN))})?function toISOString(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=t<0?"-":9999<t?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+CS(e.getUTCMonth()+1)+"-"+CS(e.getUTCDate())+"T"+CS(e.getUTCHours())+":"+CS(e.getUTCMinutes())+":"+CS(e.getUTCSeconds())+"."+(99<r?r:"0"+CS(r))+"Z"}:i},function(e,t,r){var n=Date.prototype,o="Invalid Date",i="toString",a=n[i],s=n.getTime;new Date(NaN)+""!=o&&r(12)(n,i,function toString(){var e=s.call(this);return e==e?a.call(this):o})},function(e,t,r){var n=r(5)("toPrimitive"),o=Date.prototype;n in o||r(11)(o,n,r(215))},function(e,t,r){"use strict";var n=r(1),o=r(23);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(n(this),"number"!=e)}},function(e,t,r){var n=r(0);n(n.S,"Array",{isArray:r(54)})},function(e,t,r){"use strict";var y=r(19),n=r(0),h=r(9),m=r(109),g=r(81),v=r(6),b=r(82),_=r(83);n(n.S+n.F*!r(57)(function(e){Array.from(e)}),"Array",{from:function from(e,t,r){var n,o,i,a,s=h(e),c="function"==typeof this?this:Array,u=arguments.length,l=1<u?t:void 0,p=void 0!==l,f=0,d=_(s);if(p&&(l=y(l,2<u?r:void 0,2)),null==d||c==Array&&g(d))for(o=new c(n=v(s.length));f<n;f++)b(o,f,p?l(s[f],f):s[f]);else for(a=d.call(s),o=new c;!(i=a.next()).done;f++)b(o,f,p?m(a,l,[i.value,f],!0):i.value);return o.length=f,o}})},function(e,t,r){"use strict";var n=r(0),o=r(82);n(n.S+n.F*r(3)(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function of(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);e<t;)o(r,e,arguments[e++]);return r.length=t,r}})},function(e,t,r){"use strict";var n=r(0),o=r(15),i=[].join;n(n.P+n.F*(r(48)!=Object||!r(22)(i)),"Array",{join:function join(e){return i.call(o(this),void 0===e?",":e)}})},function(e,t,r){"use strict";var n=r(0),o=r(70),u=r(20),l=r(35),p=r(6),f=[].slice;n(n.P+n.F*r(3)(function(){o&&f.call(o)}),"Array",{slice:function slice(e,t){var r=p(this.length),n=u(this);if(t=void 0===t?r:t,"Array"==n)return f.call(this,e,t);for(var o=l(e,r),i=l(t,r),a=p(i-o),s=new Array(a),c=0;c<a;c++)s[c]="String"==n?this.charAt(o+c):this[o+c];return s}})},function(e,t,r){"use strict";var n=r(0),o=r(10),i=r(9),a=r(3),s=[].sort,c=[1,2,3];n(n.P+n.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!r(22)(s)),"Array",{sort:function sort(e){return void 0===e?s.call(i(this)):s.call(i(this),o(e))}})},function(e,t,r){"use strict";var n=r(0),o=r(26)(0),i=r(22)([].forEach,!0);n(n.P+n.F*!i,"Array",{forEach:function forEach(e,t){return o(this,e,t)}})},function(e,t,r){var n=r(4),o=r(54),i=r(5)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){"use strict";var n=r(0),o=r(26)(1);n(n.P+n.F*!r(22)([].map,!0),"Array",{map:function map(e,t){return o(this,e,t)}})},function(e,t,r){"use strict";var n=r(0),o=r(26)(2);n(n.P+n.F*!r(22)([].filter,!0),"Array",{filter:function filter(e,t){return o(this,e,t)}})},function(e,t,r){"use strict";var n=r(0),o=r(26)(3);n(n.P+n.F*!r(22)([].some,!0),"Array",{some:function some(e,t){return o(this,e,t)}})},function(e,t,r){"use strict";var n=r(0),o=r(26)(4);n(n.P+n.F*!r(22)([].every,!0),"Array",{every:function every(e,t){return o(this,e,t)}})},function(e,t,r){"use strict";var n=r(0),o=r(110);n(n.P+n.F*!r(22)([].reduce,!0),"Array",{reduce:function reduce(e,t){return o(this,e,arguments.length,t,!1)}})},function(e,t,r){"use strict";var n=r(0),o=r(110);n(n.P+n.F*!r(22)([].reduceRight,!0),"Array",{reduceRight:function reduceRight(e,t){return o(this,e,arguments.length,t,!0)}})},function(e,t,r){"use strict";var n=r(0),o=r(52)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!r(22)(i)),"Array",{indexOf:function indexOf(e,t){return a?i.apply(this,arguments)||0:o(this,e,t)}})},function(e,t,r){"use strict";var n=r(0),i=r(15),a=r(21),s=r(6),c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!r(22)(c)),"Array",{lastIndexOf:function lastIndexOf(e,t){if(u)return c.apply(this,arguments)||0;var r=i(this),n=s(r.length),o=n-1;for(1<arguments.length&&(o=Math.min(o,a(t))),o<0&&(o=n+o);0<=o;o--)if(o in r&&r[o]===e)return o||0;return-1}})},function(e,t,r){var n=r(0);n(n.P,"Array",{copyWithin:r(111)}),r(31)("copyWithin")},function(e,t,r){var n=r(0);n(n.P,"Array",{fill:r(85)}),r(31)("fill")},function(e,t,r){"use strict";var n=r(0),o=r(26)(5),i="find",a=!0;i in[]&&Array(1)[i](function(){a=!1}),n(n.P+n.F*a,"Array",{find:function find(e,t){return o(this,e,1<arguments.length?t:void 0)}}),r(31)(i)},function(e,t,r){"use strict";var n=r(0),o=r(26)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function findIndex(e,t){return o(this,e,1<arguments.length?t:void 0)}}),r(31)(i)},function(e,t,r){r(38)("Array")},function(e,t,r){var n=r(2),i=r(73),o=r(8).f,a=r(37).f,s=r(56),c=r(50),u=n.RegExp,l=u,p=u.prototype,f=/a/g,d=/a/g,y=new u(f)!==f;if(r(7)&&(!y||r(3)(function(){return d[r(5)("match")]=!1,u(f)!=f||u(d)==d||"/a/i"!=u(f,"i")}))){u=function RegExp(e,t){var r=this instanceof u,n=s(e),o=void 0===t;return!r&&n&&e.constructor===u&&o?e:i(y?new l(n&&!o?e.source:e,t):l((n=e instanceof u)?e.source:e,n&&o?c.call(e):t),r?this:p,u)};function yW(t){t in u||o(u,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})}for(var h=a(l),m=0;h.length>m;)yW(h[m++]);(p.constructor=u).prototype=p,r(12)(n,"RegExp",u)}r(38)("RegExp")},function(e,t,r){"use strict";r(114);function QW(e){r(12)(RegExp.prototype,a,e,!0)}var n=r(1),o=r(50),i=r(7),a="toString",s=/./[a];r(3)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?QW(function toString(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)}):s.name!=a&&QW(function toString(){return s.call(this)})},function(e,t,r){"use strict";var p=r(1),f=r(6),d=r(88),y=r(58);r(59)("match",1,function(n,o,u,l){return[function match(e){var t=n(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,t):new RegExp(e)[o](String(t))},function(e){var t=l(u,e,this);if(t.done)return t.value;var r=p(e),n=String(this);if(!r.global)return y(r,n);for(var o,i=r.unicode,a=[],s=r.lastIndex=0;null!==(o=y(r,n));){var c=String(o[0]);""===(a[s]=c)&&(r.lastIndex=d(n,f(r.lastIndex),i)),s++}return 0===s?null:a}]})},function(e,t,r){"use strict";var P=r(1),n=r(9),w=r(6),O=r(21),E=r(88),k=r(58),T=Math.max,D=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,y=/\$([$&`']|\d\d?)/g;r(59)("replace",2,function(o,i,S,C){return[function replace(e,t){var r=o(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,r,t):S.call(String(r),e,t)},function(e,t){var r=C(S,e,this,t);if(r.done)return r.value;var n=P(e),o=String(this),i="function"==typeof t;i||(t=String(t));var a=n.global;if(a){var s=n.unicode;n.lastIndex=0}for(var c=[];;){var u=k(n,o);if(null===u)break;if(c.push(u),!a)break;""===String(u[0])&&(n.lastIndex=E(o,w(n.lastIndex),s))}for(var l,p="",f=0,d=0;d<c.length;d++){u=c[d];for(var y=String(u[0]),h=T(D(O(u.index),o.length),0),m=[],g=1;g<u.length;g++)m.push(void 0===(l=u[g])?l:String(l));var v=u.groups;if(i){var b=[y].concat(m,h,o);void 0!==v&&b.push(v);var _=String(t.apply(void 0,b))}else _=getSubstitution(y,o,h,m,v,t);f<=h&&(p+=o.slice(f,h)+_,f=h+y.length)}return p+o.slice(f)}];function getSubstitution(i,a,s,c,u,e){var l=s+i.length,p=c.length,t=y;return void 0!==u&&(u=n(u),t=d),S.call(e,t,function(e,t){var r;switch(t.charAt(0)){case"$":return"$";case"&":return i;case"`":return a.slice(0,s);case"'":return a.slice(l);case"<":r=u[t.slice(1,-1)];break;default:var n=+t;if(0==n)return e;if(p<n){var o=f(n/10);return 0===o?e:o<=p?void 0===c[o-1]?t.charAt(1):c[o-1]+t.charAt(1):e}r=c[n-1]}return void 0===r?"":r})}})},function(e,t,r){"use strict";var c=r(1),u=r(100),l=r(58);r(59)("search",1,function(n,o,a,s){return[function search(e){var t=n(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,t):new RegExp(e)[o](String(t))},function(e){var t=s(a,e,this);if(t.done)return t.value;var r=c(e),n=String(this),o=r.lastIndex;u(o,0)||(r.lastIndex=0);var i=l(r,n);return u(r.lastIndex,o)||(r.lastIndex=o),null===i?-1:i.index}]})},function(e,t,r){"use strict";var p=r(56),b=r(1),_=r(51),S=r(88),C=r(6),P=r(58),f=r(87),n=r(3),w=Math.min,d=[].push,a="split",y="length",h="lastIndex",O=4294967295,E=!n(function(){RegExp(O,"y")});r(59)("split",2,function(o,i,m,g){var v;return v="c"=="abbc"[a](/(b)*/)[1]||4!="test"[a](/(?:)/,-1)[y]||2!="ab"[a](/(?:ab)*/)[y]||4!="."[a](/(.?)(.?)/)[y]||1<"."[a](/()()/)[y]||""[a](/.?/)[y]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!p(e))return m.call(r,e,t);for(var n,o,i,a=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,u=void 0===t?O:t>>>0,l=new RegExp(e.source,s+"g");(n=f.call(l,r))&&!(c<(o=l[h])&&(a.push(r.slice(c,n.index)),1<n[y]&&n.index<r[y]&&d.apply(a,n.slice(1)),i=n[0][y],c=o,a[y]>=u));)l[h]===n.index&&l[h]++;return c===r[y]?!i&&l.test("")||a.push(""):a.push(r.slice(c)),a[y]>u?a.slice(0,u):a}:"0"[a](void 0,0)[y]?function(e,t){return void 0===e&&0===t?[]:m.call(this,e,t)}:m,[function split(e,t){var r=o(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,r,t):v.call(String(r),e,t)},function(e,t){var r=g(v,e,this,t,v!==m);if(r.done)return r.value;var n=b(e),o=String(this),i=_(n,RegExp),a=n.unicode,s=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(E?"y":"g"),c=new i(E?n:"^(?:"+n.source+")",s),u=void 0===t?O:t>>>0;if(0==u)return[];if(0===o.length)return null===P(c,o)?[o]:[];for(var l=0,p=0,f=[];p<o.length;){c.lastIndex=E?p:0;var d,y=P(c,E?o:o.slice(p));if(null===y||(d=w(C(c.lastIndex+(E?0:p)),o.length))===l)p=S(o,p,a);else{if(f.push(o.slice(l,p)),f.length===u)return f;for(var h=1;h<=y.length-1;h++)if(f.push(y[h]),f.length===u)return f;p=l=d}}return f.push(o.slice(l)),f}]})},function(e,t,r){"use strict";function m$(){}function t$(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t}function u$(l,r){if(!l._n){l._n=!0;var n=l._c;v(function(){for(var c=l._v,u=1==l._s,e=0,t=function(e){var t,r,n,o=u?e.ok:e.fail,i=e.resolve,a=e.reject,s=e.domain;try{o?(u||(2==l._h&&j(l),l._h=1),!0===o?t=c:(s&&s.enter(),t=o(c),s&&(s.exit(),n=!0)),t===e.promise?a(w("Promise-chain cycle")):(r=t$(t))?r.call(t,i,a):i(t)):a(c)}catch(e){s&&!n&&s.exit(),a(e)}};n.length>e;)t(n[e++]);l._c=[],l._n=!1,r&&!l._h&&I(l)})}}function y$(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),u$(t,!0))}var n,o,i,a,s=r(29),c=r(2),u=r(19),l=r(44),p=r(0),f=r(4),d=r(10),y=r(39),h=r(40),m=r(51),g=r(89).set,v=r(90)(),b=r(91),_=r(115),S=r(60),C=r(116),P="Promise",w=c.TypeError,O=c.process,E=O&&O.versions,k=E&&E.v8||"",T=c[P],D="process"==l(O),x=o=b.f,R=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[r(5)("species")]=function(e){e(m$,m$)};return(D||"function"==typeof PromiseRejectionEvent)&&e.then(m$)instanceof t&&0!==k.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(e){}}(),I=function(i){g.call(c,function(){var e,t,r,n=i._v,o=G(i);if(o&&(e=_(function(){D?O.emit("unhandledRejection",n,i):(t=c.onunhandledrejection)?t({promise:i,reason:n}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",n)}),i._h=D||G(i)?2:1),i._a=void 0,o&&e.e)throw e.v})},G=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(t){g.call(c,function(){var e;D?O.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},B=function(e){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(r=t$(e))?v(function(){var t={_w:n,_d:!1};try{r.call(e,u(B,t,1),u(y$,t,1))}catch(e){y$.call(t,e)}}):(n._v=e,n._s=1,u$(n,!1))}catch(e){y$.call({_w:n,_d:!1},e)}}};R||(T=function Promise(e){y(this,T,P,"_h"),d(e),n.call(this);try{e(u(B,this,1),u(y$,this,1))}catch(e){y$.call(this,e)}},(n=function Promise(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(41)(T.prototype,{then:function then(e,t){var r=x(m(this,T));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=D?O.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&u$(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=u(B,e,1),this.reject=u(y$,e,1)},b.f=x=function(e){return e===T||e===a?new i:o(e)}),p(p.G+p.W+p.F*!R,{Promise:T}),r(43)(T,P),r(38)(P),a=r(18)[P],p(p.S+p.F*!R,P,{reject:function reject(e){var t=x(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(s||!R),P,{resolve:function resolve(e){return C(s&&this===a?T:this,e)}}),p(p.S+p.F*!(R&&r(57)(function(e){T.all(e).catch(m$)})),P,{all:function all(e){var a=this,t=x(a),s=t.resolve,c=t.reject,r=_(function(){var n=[],o=0,i=1;h(e,!1,function(e){var t=o++,r=!1;n.push(void 0),i++,a.resolve(e).then(function(e){r||(r=!0,n[t]=e,--i||s(n))},c)}),--i||s(n)});return r.e&&c(r.v),t.promise},race:function race(e){var t=this,r=x(t),n=r.reject,o=_(function(){h(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},function(e,t,r){"use strict";var n=r(121),o=r(42),i="WeakSet";r(61)(i,function(t){return function WeakSet(e){return t(this,0<arguments.length?e:void 0)}},{add:function add(e){return n.def(o(this,i),e,!0)}},n,!1,!0)},function(e,t,r){"use strict";var n=r(0),o=r(62),i=r(92),u=r(1),l=r(35),p=r(6),a=r(4),s=r(2).ArrayBuffer,f=r(51),d=i.ArrayBuffer,y=i.DataView,c=o.ABV&&s.isView,h=d.prototype.slice,m=o.VIEW,g="ArrayBuffer";n(n.G+n.W+n.F*(s!==d),{ArrayBuffer:d}),n(n.S+n.F*!o.CONSTR,g,{isView:function isView(e){return c&&c(e)||a(e)&&m in e}}),n(n.P+n.U+n.F*r(3)(function(){return!new d(2).slice(1,void 0).byteLength}),g,{slice:function slice(e,t){if(void 0!==h&&void 0===t)return h.call(u(this),e);for(var r=u(this).byteLength,n=l(e,r),o=l(void 0===t?r:t,r),i=new(f(this,d))(p(o-n)),a=new y(this),s=new y(i),c=0;n<o;)s.setUint8(c++,a.getUint8(n++));return i}}),r(38)(g)},function(e,t,r){var n=r(0);n(n.G+n.W+n.F*!r(62).ABV,{DataView:r(92).DataView})},function(e,t,r){r(27)("Int8",1,function(n){return function Int8Array(e,t,r){return n(this,e,t,r)}})},function(e,t,r){r(27)("Uint8",1,function(n){return function Uint8Array(e,t,r){return n(this,e,t,r)}})},function(e,t,r){r(27)("Uint8",1,function(n){return function Uint8ClampedArray(e,t,r){return n(this,e,t,r)}},!0)},function(e,t,r){r(27)("Int16",2,function(n){return function Int16Array(e,t,r){return n(this,e,t,r)}})},function(e,t,r){r(27)("Uint16",2,function(n){return function Uint16Array(e,t,r){return n(this,e,t,r)}})},function(e,t,r){r(27)("Int32",4,function(n){return function Int32Array(e,t,r){return n(this,e,t,r)}})},function(e,t,r){r(27)("Uint32",4,function(n){return function Uint32Array(e,t,r){return n(this,e,t,r)}})},function(e,t,r){r(27)("Float32",4,function(n){return function Float32Array(e,t,r){return n(this,e,t,r)}})},function(e,t,r){r(27)("Float64",8,function(n){return function Float64Array(e,t,r){return n(this,e,t,r)}})},function(e,t,r){var n=r(0),i=r(10),a=r(1),s=(r(2).Reflect||{}).apply,c=Function.apply;n(n.S+n.F*!r(3)(function(){s(function(){})}),"Reflect",{apply:function apply(e,t,r){var n=i(e),o=a(r);return s?s(n,t,o):c.call(n,t,o)}})},function(e,t,r){var n=r(0),c=r(36),u=r(10),l=r(1),p=r(4),o=r(3),f=r(101),d=(r(2).Reflect||{}).construct,y=o(function(){function F(){}return!(d(function(){},[],F)instanceof F)}),h=!o(function(){d(function(){})});n(n.S+n.F*(y||h),"Reflect",{construct:function construct(e,t,r){u(e),l(t);var n=arguments.length<3?e:u(r);if(h&&!y)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var o=[null];return o.push.apply(o,t),new(f.apply(e,o))}var i=n.prototype,a=c(p(i)?i:Object.prototype),s=Function.apply.call(e,a,t);return p(s)?s:a}})},function(e,t,r){var n=r(8),o=r(0),i=r(1),a=r(23);o(o.S+o.F*r(3)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function defineProperty(e,t,r){i(e),t=a(t,!0),i(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},function(e,t,r){var n=r(0),o=r(16).f,i=r(1);n(n.S,"Reflect",{deleteProperty:function deleteProperty(e,t){var r=o(i(e),t);return!(r&&!r.configurable)&&delete e[t]}})},function(e,t,r){"use strict";function R2(e){this._t=o(e),this._i=0;var t,r=this._k=[];for(t in e)r.push(t)}var n=r(0),o=r(1);r(78)(R2,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function enumerate(e){return new R2(e)}})},function(e,t,r){var i=r(16),a=r(17),s=r(14),n=r(0),c=r(4),u=r(1);n(n.S,"Reflect",{get:function get(e,t){var r,n,o=arguments.length<3?e:arguments[2];return u(e)===o?e[t]:(r=i.f(e,t))?s(r,"value")?r.value:void 0!==r.get?r.get.call(o):void 0:c(n=a(e))?get(n,t,o):void 0}})},function(e,t,r){var n=r(16),o=r(0),i=r(1);o(o.S,"Reflect",{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){return n.f(i(e),t)}})},function(e,t,r){var n=r(0),o=r(17),i=r(1);n(n.S,"Reflect",{getPrototypeOf:function getPrototypeOf(e){return o(i(e))}})},function(e,t,r){var n=r(0);n(n.S,"Reflect",{has:function has(e,t){return t in e}})},function(e,t,r){var n=r(0),o=r(1),i=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function isExtensible(e){return o(e),!i||i(e)}})},function(e,t,r){var n=r(0);n(n.S,"Reflect",{ownKeys:r(123)})},function(e,t,r){var n=r(0),o=r(1),i=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function preventExtensions(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,r){var s=r(8),c=r(16),u=r(17),l=r(14),n=r(0),p=r(32),f=r(1),d=r(4);n(n.S,"Reflect",{set:function set(e,t,r){var n,o,i=arguments.length<4?e:arguments[3],a=c.f(f(e),t);if(!a){if(d(o=u(e)))return set(o,t,r,i);a=p(0)}if(l(a,"value")){if(!1===a.writable||!d(i))return!1;if(n=c.f(i,t)){if(n.get||n.set||!1===n.writable)return!1;n.value=r,s.f(i,t,n)}else s.f(i,t,p(0,r));return!0}return void 0!==a.set&&(a.set.call(i,r),!0)}})},function(e,t,r){var n=r(0),o=r(71);o&&n(n.S,"Reflect",{setPrototypeOf:function setPrototypeOf(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,r){"use strict";var n=r(0),o=r(52)(!0);n(n.P,"Array",{includes:function includes(e,t){return o(this,e,1<arguments.length?t:void 0)}}),r(31)("includes")},function(e,t,r){"use strict";var n=r(0),i=r(124),a=r(9),s=r(6),c=r(10),u=r(84);n(n.P,"Array",{flatMap:function flatMap(e,t){var r,n,o=a(this);return c(e),r=s(o.length),n=u(o,0),i(n,o,o,r,0,1,e,t),n}}),r(31)("flatMap")},function(e,t,r){"use strict";var n=r(0),i=r(124),a=r(9),s=r(6),c=r(21),u=r(84);n(n.P,"Array",{flatten:function flatten(e){var t=e,r=a(this),n=s(r.length),o=u(r,0);return i(o,r,r,n,0,void 0===t?1:c(t)),o}}),r(31)("flatten")},function(e,t,r){"use strict";var n=r(0),o=r(55)(!0);n(n.P,"String",{at:function at(e){return o(this,e)}})},function(e,t,r){"use strict";var n=r(0),o=r(125),i=r(60),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*a,"String",{padStart:function padStart(e,t){return o(this,e,1<arguments.length?t:void 0,!0)}})},function(e,t,r){"use strict";var n=r(0),o=r(125),i=r(60),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*a,"String",{padEnd:function padEnd(e,t){return o(this,e,1<arguments.length?t:void 0,!1)}})},function(e,t,r){"use strict";r(45)("trimLeft",function(e){return function trimLeft(){return e(this,1)}},"trimStart")},function(e,t,r){"use strict";r(45)("trimRight",function(e){return function trimRight(){return e(this,2)}},"trimEnd")},function(e,t,r){"use strict";function O5(e,t){this._r=e,this._s=t}var n=r(0),o=r(24),i=r(6),a=r(56),s=r(50),c=RegExp.prototype;r(78)(O5,"RegExp String",function next(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),n(n.P,"String",{matchAll:function matchAll(e){if(o(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),r="flags"in c?String(e.flags):s.call(e),n=new RegExp(e.source,~r.indexOf("g")?r:"g"+r);return n.lastIndex=i(e.lastIndex),new O5(n,t)}})},function(e,t,r){r(67)("asyncIterator")},function(e,t,r){r(67)("observable")},function(e,t,r){var n=r(0),c=r(123),u=r(15),l=r(16),p=r(82);n(n.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(e){for(var t,r,n=u(e),o=l.f,i=c(n),a={},s=0;i.length>s;)void 0!==(r=o(n,t=i[s++]))&&p(a,t,r);return a}})},function(e,t,r){var n=r(0),o=r(126)(!1);n(n.S,"Object",{values:function values(e){return o(e)}})},function(e,t,r){var n=r(0),o=r(126)(!0);n(n.S,"Object",{entries:function entries(e){return o(e)}})},function(e,t,r){"use strict";var n=r(0),o=r(9),i=r(10),a=r(8);r(7)&&n(n.P+r(63),"Object",{__defineGetter__:function __defineGetter__(e,t){a.f(o(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},function(e,t,r){"use strict";var n=r(0),o=r(9),i=r(10),a=r(8);r(7)&&n(n.P+r(63),"Object",{__defineSetter__:function __defineSetter__(e,t){a.f(o(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},function(e,t,r){"use strict";var n=r(0),o=r(9),i=r(23),a=r(17),s=r(16).f;r(7)&&n(n.P+r(63),"Object",{__lookupGetter__:function __lookupGetter__(e){var t,r=o(this),n=i(e,!0);do{if(t=s(r,n))return t.get}while(r=a(r))}})},function(e,t,r){"use strict";var n=r(0),o=r(9),i=r(23),a=r(17),s=r(16).f;r(7)&&n(n.P+r(63),"Object",{__lookupSetter__:function __lookupSetter__(e){var t,r=o(this),n=i(e,!0);do{if(t=s(r,n))return t.set}while(r=a(r))}})},function(e,t,r){var n=r(0);n(n.P+n.R,"Map",{toJSON:r(127)("Map")})},function(e,t,r){var n=r(0);n(n.P+n.R,"Set",{toJSON:r(127)("Set")})},function(e,t,r){r(64)("Map")},function(e,t,r){r(64)("Set")},function(e,t,r){r(64)("WeakMap")},function(e,t,r){r(64)("WeakSet")},function(e,t,r){r(65)("Map")},function(e,t,r){r(65)("Set")},function(e,t,r){r(65)("WeakMap")},function(e,t,r){r(65)("WeakSet")},function(e,t,r){var n=r(0);n(n.G,{global:r(2)})},function(e,t,r){var n=r(0);n(n.S,"System",{global:r(2)})},function(e,t,r){var n=r(0),o=r(20);n(n.S,"Error",{isError:function isError(e){return"Error"===o(e)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{clamp:function clamp(e,t,r){return Math.min(r,Math.max(t,e))}})},function(e,t,r){var n=r(0);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,r){var n=r(0),o=180/Math.PI;n(n.S,"Math",{degrees:function degrees(e){return e*o}})},function(e,t,r){var n=r(0),i=r(129),a=r(108);n(n.S,"Math",{fscale:function fscale(e,t,r,n,o){return a(i(e,t,r,n,o))}})},function(e,t,r){var n=r(0);n(n.S,"Math",{iaddh:function iaddh(e,t,r,n){var o=e>>>0,i=r>>>0;return(t>>>0)+(n>>>0)+((o&i|(o|i)&~(o+i>>>0))>>>31)|0}})},function(e,t,r){var n=r(0);n(n.S,"Math",{isubh:function isubh(e,t,r,n){var o=e>>>0,i=r>>>0;return(t>>>0)-(n>>>0)-((~o&i|~(o^i)&o-i>>>0)>>>31)|0}})},function(e,t,r){var n=r(0);n(n.S,"Math",{imulh:function imulh(e,t){var r=+e,n=+t,o=65535&r,i=65535&n,a=r>>16,s=n>>16,c=(a*i>>>0)+(o*i>>>16);return a*s+(c>>16)+((o*s>>>0)+(65535&c)>>16)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,r){var n=r(0),o=Math.PI/180;n(n.S,"Math",{radians:function radians(e){return e*o}})},function(e,t,r){var n=r(0);n(n.S,"Math",{scale:r(129)})},function(e,t,r){var n=r(0);n(n.S,"Math",{umulh:function umulh(e,t){var r=+e,n=+t,o=65535&r,i=65535&n,a=r>>>16,s=n>>>16,c=(a*i>>>0)+(o*i>>>16);return a*s+(c>>>16)+((o*s>>>0)+(65535&c)>>>16)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{signbit:function signbit(e){return(e=+e)!=e?e:0==e?1/e==1/0:0<e}})},function(e,t,r){"use strict";var n=r(0),o=r(18),i=r(2),a=r(51),s=r(116);n(n.P+n.R,"Promise",{finally:function(t){var r=a(this,o.Promise||i.Promise),e="function"==typeof t;return this.then(e?function(e){return s(r,t()).then(function(){return e})}:t,e?function(e){return s(r,t()).then(function(){throw e})}:t)}})},function(e,t,r){"use strict";var n=r(0),o=r(91),i=r(115);n(n.S,"Promise",{try:function(e){var t=o.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){var n=r(28),o=r(1),i=n.key,a=n.set;n.exp({defineMetadata:function defineMetadata(e,t,r,n){a(e,t,o(r),i(n))}})},function(e,t,r){var n=r(28),a=r(1),s=n.key,c=n.map,u=n.store;n.exp({deleteMetadata:function deleteMetadata(e,t,r){var n=arguments.length<3?void 0:s(r),o=c(a(t),n,!1);if(void 0===o||!o.delete(e))return!1;if(o.size)return!0;var i=u.get(t);return i.delete(n),!!i.size||u.delete(t)}})},function(e,t,r){var n=r(28),o=r(1),i=r(17),a=n.has,s=n.get,c=n.key,u=function(e,t,r){if(a(e,t,r))return s(e,t,r);var n=i(t);return null!==n?u(e,n,r):void 0};n.exp({getMetadata:function getMetadata(e,t,r){return u(e,o(t),arguments.length<3?void 0:c(r))}})},function(e,t,r){var i=r(119),a=r(128),n=r(28),o=r(1),s=r(17),c=n.keys,u=n.key,l=function(e,t){var r=c(e,t),n=s(e);if(null===n)return r;var o=l(n,t);return o.length?r.length?a(new i(r.concat(o))):o:r};n.exp({getMetadataKeys:function getMetadataKeys(e,t){return l(o(e),arguments.length<2?void 0:u(t))}})},function(e,t,r){var n=r(28),o=r(1),i=n.get,a=n.key;n.exp({getOwnMetadata:function getOwnMetadata(e,t,r){return i(e,o(t),arguments.length<3?void 0:a(r))}})},function(e,t,r){var n=r(28),o=r(1),i=n.keys,a=n.key;n.exp({getOwnMetadataKeys:function getOwnMetadataKeys(e,t){return i(o(e),arguments.length<2?void 0:a(t))}})},function(e,t,r){var n=r(28),o=r(1),i=r(17),a=n.has,s=n.key,c=function(e,t,r){if(a(e,t,r))return!0;var n=i(t);return null!==n&&c(e,n,r)};n.exp({hasMetadata:function hasMetadata(e,t,r){return c(e,o(t),arguments.length<3?void 0:s(r))}})},function(e,t,r){var n=r(28),o=r(1),i=n.has,a=n.key;n.exp({hasOwnMetadata:function hasOwnMetadata(e,t,r){return i(e,o(t),arguments.length<3?void 0:a(r))}})},function(e,t,r){var n=r(28),o=r(1),i=r(10),a=n.key,s=n.set;n.exp({metadata:function metadata(r,n){return function decorator(e,t){s(r,n,(void 0!==t?o:i)(e),a(t))}}})},function(e,t,r){var n=r(0),o=r(90)(),i=r(2).process,a="process"==r(20)(i);n(n.G,{asap:function asap(e){var t=a&&i.domain;o(t?t.bind(e):e)}})},function(e,t,r){"use strict";function Vca(e){return null==e?void 0:c(e)}function Wca(e){var t=e._c;t&&(e._c=void 0,t())}function Xca(e){return void 0===e._o}function Yca(e){Xca(e)||(e._o=void 0,Wca(e))}function Zca(t,e){u(t),this._c=void 0,this._o=t,t=new h(this);try{var r=e(t),n=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){n.unsubscribe()}:c(r),this._c=r)}catch(e){return void t.error(e)}Xca(this)&&Wca(this)}var n=r(0),i=r(2),a=r(18),o=r(90)(),s=r(5)("observable"),c=r(10),u=r(1),l=r(39),p=r(41),f=r(11),d=r(40),y=d.RETURN;Zca.prototype=p({},{unsubscribe:function unsubscribe(){Yca(this)}});var h=function(e){this._s=e};h.prototype=p({},{next:function next(e){var t=this._s;if(!Xca(t)){var r=t._o;try{var n=Vca(r.next);if(n)return n.call(r,e)}catch(e){try{Yca(t)}finally{throw e}}}},error:function error(e){var t=this._s;if(Xca(t))throw e;var r=t._o;t._o=void 0;try{var n=Vca(r.error);if(!n)throw e;e=n.call(r,e)}catch(e){try{Wca(t)}finally{throw e}}return Wca(t),e},complete:function complete(e){var t=this._s;if(!Xca(t)){var r=t._o;t._o=void 0;try{var n=Vca(r.complete);e=n?n.call(r,e):void 0}catch(e){try{Wca(t)}finally{throw e}}return Wca(t),e}}});var m=function Observable(e){l(this,m,"Observable","_f")._f=c(e)};p(m.prototype,{subscribe:function subscribe(e){return new Zca(e,this._f)},forEach:function forEach(n){var o=this;return new(a.Promise||i.Promise)(function(e,t){c(n);var r=o.subscribe({next:function(e){try{return n(e)}catch(e){t(e),r.unsubscribe()}},error:t,complete:e})})}}),p(m,{from:function from(e){var t="function"==typeof this?this:m,r=Vca(u(e)[s]);if(r){var n=u(r.call(e));return n.constructor===t?n:new t(function(e){return n.subscribe(e)})}return new t(function(t){var r=!1;return o(function(){if(!r){try{if(d(e,!1,function(e){if(t.next(e),r)return y})===y)return}catch(e){if(r)throw e;return void t.error(e)}t.complete()}}),function(){r=!0}})},of:function of(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:m)(function(t){var r=!1;return o(function(){if(!r){for(var e=0;e<n.length;++e)if(t.next(n[e]),r)return;t.complete()}}),function(){r=!0}})}}),f(m.prototype,s,function(){return this}),n(n.G,{Observable:m}),r(38)("Observable")},function(e,t,r){function eea(o){return function(e,t){var r=2<arguments.length,n=r&&a.call(arguments,2);return o(r?function(){("function"==typeof e?e:Function(e)).apply(this,n)}:e,t)}}var n=r(2),o=r(0),i=r(60),a=[].slice,s=/MSIE .\./.test(i);o(o.G+o.B+o.F*s,{setTimeout:eea(n.setTimeout),setInterval:eea(n.setInterval)})},function(e,t,r){var n=r(0),o=r(89);n(n.G+n.B,{setImmediate:o.set,clearImmediate:o.clear})},function(e,t,r){for(var n=r(86),o=r(34),i=r(12),a=r(2),s=r(11),c=r(46),u=r(5),l=u("iterator"),p=u("toStringTag"),f=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},y=o(d),h=0;h<y.length;h++){var m,g=y[h],v=d[g],b=a[g],_=b&&b.prototype;if(_&&(_[l]||s(_,l,f),_[p]||s(_,p,g),c[g]=f,v))for(m in n)_[m]||i(_,m,n[m],!0)}},function(b,e,t){(function(e){!function(t){"use strict";var s,e=Object.prototype,c=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",n=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag",a="object"==typeof b,u=t.regeneratorRuntime;if(u)a&&(b.exports=u);else{(u=t.regeneratorRuntime=a?b.exports:{}).wrap=wrap;var l="suspendedStart",p="suspendedYield",f="executing",d="completed",y={},h={};h[o]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(values([])));g&&g!==e&&c.call(g,o)&&(h=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(h);GeneratorFunction.prototype=v.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[i]=GeneratorFunction.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(v),e},u.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[n]=function(){return this},u.AsyncIterator=AsyncIterator,u.async=function(e,t,r,n){var o=new AsyncIterator(wrap(e,t,r,n));return u.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},defineIteratorMethods(v),v[i]="Generator",v[o]=function(){return this},v.toString=function(){return"[object Generator]"},u.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function next(){for(;r.length;){var e=r.pop();if(e in t)return next.value=e,next.done=!1,next}return next.done=!0,next}},u.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function handle(e,t){return o.type="throw",o.arg=r,n.next=e,t&&(n.method="next",n.arg=s),!!t}for(var e=this.tryEntries.length-1;0<=e;--e){var t=this.tryEntries[e],o=t.completion;if("root"===t.tryLoc)return handle("end");if(t.tryLoc<=this.prev){var i=c.call(t,"catchLoc"),a=c.call(t,"finallyLoc");if(i&&a){if(this.prev<t.catchLoc)return handle(t.catchLoc,!0);if(this.prev<t.finallyLoc)return handle(t.finallyLoc)}else if(i){if(this.prev<t.catchLoc)return handle(t.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<t.finallyLoc)return handle(t.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&c.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=s),y}}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function makeInvokeMethod(i,a,s){var c=l;return function invoke(e,t){if(c===f)throw new Error("Generator is already running");if(c===d){if("throw"===e)throw t;return doneResult()}for(s.method=e,s.arg=t;;){var r=s.delegate;if(r){var n=maybeInvokeDelegate(r,s);if(n){if(n===y)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===l)throw c=d,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=f;var o=tryCatch(i,a,s);if("normal"===o.type){if(c=s.done?d:p,o.arg===y)continue;return{value:o.arg,done:s.done}}"throw"===o.type&&(c=d,s.method="throw",s.arg=o.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function AsyncIterator(s){function invoke(e,t,r,n){var o=tryCatch(s[e],s,t);if("throw"!==o.type){var i=o.arg,a=i.value;return a&&"object"==typeof a&&c.call(a,"__await")?Promise.resolve(a.__await).then(function(e){invoke("next",e,r,n)},function(e){invoke("throw",e,r,n)}):Promise.resolve(a).then(function(e){i.value=e,r(i)},n)}n(o.arg)}var e;"object"==typeof t.process&&t.process.domain&&(invoke=t.process.domain.bind(invoke)),this._invoke=function enqueue(r,n){function callInvokeWithMethodAndArg(){return new Promise(function(e,t){invoke(r,n,e,t)})}return e=e?e.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(r===s){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=s,maybeInvokeDelegate(e,t),"throw"===t.method))return y;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,y;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=s),t.delegate=null,y):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,y)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function next(){for(;++r<e.length;)if(c.call(e,r))return next.value=e[r],next.done=!1,next;return next.value=s,next.done=!0,next};return n.next=n}}return{next:doneResult}}function doneResult(){return{value:s,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,t(93))},function(e,t,r){r(331),e.exports=r(18).RegExp.escape},function(e,t,r){var n=r(0),o=r(332)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function escape(e){return o(e)}})},function(e,t){e.exports=function(t,r){var n=r===Object(r)?function(e){return r[e]}:r;return function(e){return String(e).replace(t,n)}}},function(e,t,r){"use strict";function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t);var s=function(){function ClassNames(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ClassNames)}return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(ClassNames,null,[{key:"WebDesignerClassPrefix",get:function get(){return"twd"}},{key:"Designer",get:function get(){return"designer__content"}},{key:"ReportExplorer",get:function get(){return"-explorer"}},{key:"Toolbox",get:function get(){return"toolbox__content"}},{key:"ComponentsClassName",get:function get(){return"twd-components"}},{key:"WebDesignerClassName",get:function get(){return"twd-designer"}},{key:"WebDesignerPartsClassName",get:function get(){return"twd-designer-parts"}},{key:"WebDesignerToolboxClassName",get:function get(){return"twd-toolbox"}},{key:"WebDesignerCanvasClassName",get:function get(){return"twd-canvas"}},{key:"WebDesignerCanvasContentClassName",get:function get(){return"designer__canvas"}},{key:"WebDesignerPropertiesClassName",get:function get(){return"twd-properties"}},{key:"WebDesignerPreviewClassName",get:function get(){return"twd-preview"}},{key:"WebDesignerToolClassName",get:function get(){return"twd-tooltip"}},{key:"WebDesignerNotifications",get:function get(){return"twd-notifications"}},{key:"OverlayNoBorders",get:function get(){return"-no-borders"}},{key:"OverlayNoBorderTop",get:function get(){return"-no-border-top"}},{key:"OverlayNoBorderLeft",get:function get(){return"-no-border-left"}},{key:"OverlayNoBorderRight",get:function get(){return"-no-border-right"}},{key:"OverlayNoBorderBottom",get:function get(){return"-no-border-bottom"}},{key:"ModalWindowHeaderClass",get:function get(){return"k-dialog-titlebar"}},{key:"ModalWindowClasses",get:function get(){return"twd-editor -pop-up"}},{key:"ConfirmWindowClasses",get:function get(){return"twd-editor -pop-up -confirm"}},{key:"WizardWindowClasses",get:function get(){return"-wizard"}}]),ClassNames}();function ReportOptions_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function ReportOptions(){!function ReportOptions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportOptions)}return function ReportOptions_createClass(e,t,r){return t&&ReportOptions_defineProperties(e.prototype,t),r&&ReportOptions_defineProperties(e,r),e}(ReportOptions,null,[{key:"ToolboxAreaPaneID",get:function get(){return"twd-toolbox-area"}},{key:"ProperiesAreaPaneID",get:function get(){return"twd-properties-area"}},{key:"ToolboxAreaLayout",get:function get(){return"ToolboxAreaLayout"}},{key:"ProperiesAreaLayout",get:function get(){return"ProperiesAreaLayout"}},{key:"ToolboxAreaState",get:function get(){return"ToolboxAreaState"}},{key:"ProperiesAreaState",get:function get(){return"ProperiesAreaState"}},{key:"ToolboxAreaGridLayout",get:function get(){return"grid"}},{key:"ToolboxAreaListLayout",get:function get(){return"list"}},{key:"ProperiesAreaAlphabeticalLayout",get:function get(){return"alphabetical"}},{key:"ProperiesAreaCategorizedLayout",get:function get(){return"categorized"}},{key:"DefaultNewName",get:function get(){return"Report1"}},{key:"Extensions",get:function get(){return["trdp","trdx"]}}]),ReportOptions}();function ResourceLoader_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function ResourceLoader(){!function ResourceLoader_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ResourceLoader)}return function ResourceLoader_createClass(e,t,r){return t&&ResourceLoader_defineProperties(e.prototype,t),r&&ResourceLoader_defineProperties(e,r),e}(ResourceLoader,[{key:"load",value:function load(a){return function(i){return new Promise(function(e,t){var r=document.createElement(a),n="body",o="src";switch(r.onload=function(){e(i)},r.onerror=function(){t(i)},a){case"script":r.async=!0;break;case"link":r.type="text/css",r.rel="stylesheet",o="href",n="head"}r[o]=i,document[n].appendChild(r)})}}},{key:"Css",get:function get(){return this.load("link")}},{key:"Script",get:function get(){return this.load("script")}}]),ResourceLoader}();function Services_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var I=function(){function Services(){!function Services_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Services)}return function Services_createClass(e,t,r){return t&&Services_defineProperties(e.prototype,t),r&&Services_defineProperties(e,r),e}(Services,null,[{key:"BehaviorService",get:function get(){return"BehaviorService"}},{key:"ClipboardService",get:function get(){return"ClipboardService"}},{key:"DesignSurface",get:function get(){return"DesignSurface"}},{key:"DesignSurfaceEventsElement",get:function get(){return"DesignSurfaceEventsElement"}},{key:"IComponentChangeService",get:function get(){return"IComponentChangeService"}},{key:"IDesignerHost",get:function get(){return"IDesignerHost"}},{key:"IDesignSurfaceManager",get:function get(){return"IDesignSurfaceManager"}},{key:"IInstanceFactoryService",get:function get(){return"IInstanceFactoryService"}},{key:"IPropertyDescriptorWrapperFactory",get:function get(){return"IPropertyDescriptorWrapperFactory"}},{key:"IRenderService",get:function get(){return"IRenderService"}},{key:"ISchemaService",get:function get(){return"ISchemaService"}},{key:"ISqlDataConnectionService",get:function get(){return"ISqlDataConnectionService"}},{key:"ITypeDescriptorRepository",get:function get(){return"ITypeDescriptorRepository"}},{key:"NamingService",get:function get(){return"NamingService"}},{key:"Notifications",get:function get(){return"Notifications"}},{key:"PreviewArea",get:function get(){return"PreviewArea"}},{key:"PropertiesArea",get:function get(){return"PropertiesArea"}},{key:"Preferences",get:function get(){return"Preferences"}},{key:"SelectionService",get:function get(){return"SelectionService"}},{key:"ServiceContainer",get:function get(){return"ServiceContainer"}},{key:"SnapGridService",get:function get(){return"SnapGridService"}},{key:"StorageService",get:function get(){return"StorageService"}},{key:"TargetCommandManager",get:function get(){return"TargetCommandManager"}},{key:"ToolboxArea",get:function get(){return"ToolboxArea"}},{key:"TopMenuArea",get:function get(){return"TopMenuArea"}},{key:"UiService",get:function get(){return"UiService"}},{key:"UndoManager",get:function get(){return"UndoManager"}},{key:"WebDesignerEventsElement",get:function get(){return"WebDesignerEventsElement"}},{key:"WebReportDesigner",get:function get(){return"WebReportDesigner"}},{key:"WebReportDesignerStrings",get:function get(){return"WebReportDesignerStrings"}},{key:"WebDesignerOptions",get:function get(){return"WebDesignerOptions"}},{key:"Zoom",get:function get(){return"Zoom"}},{key:"NudgeHelper",get:function get(){return"NudgeHelper"}},{key:"UiCommandManager",get:function get(){return"UiCommandManager"}}]),Services}();function DocumentId_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function DocumentId(e,t){!function DocumentId_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DocumentId),this.Name=e,this.Extension=t}return function DocumentId_createClass(e,t,r){return t&&DocumentId_defineProperties(e.prototype,t),r&&DocumentId_defineProperties(e,r),e}(DocumentId,[{key:"toString",value:function toString(){return"".concat(this.Name,".").concat(this.Extension)}}]),DocumentId}();function Utils_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=function(){function Utils(){!function Utils_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Utils)}return function Utils_createClass(e,t,r){return t&&Utils_defineProperties(e.prototype,t),r&&Utils_defineProperties(e,r),e}(Utils,null,[{key:"ModelToJSON",value:function ModelToJSON(e){var t={},r=Object.getOwnPropertyNames(e);for(var n in r){var o=r[n];void 0!==e[o=o.charAt(0).toUpperCase()+o.slice(1)]&&(t[o]=e[o])}return t}},{key:"GetPropName",value:function GetPropName(e){return/\.([^\.;]+);?\s*\}$/.exec(e.toString())[1]}},{key:"GetCurrentSelection",value:function GetCurrentSelection(e){return e.GetService(I.SelectionService).GetSelectedComponents().map(function(e){return e.Name})}},{key:"LoadScript",value:function LoadScript(e,t){var r=document.createElement("script");r.src=e,r.onload=function(){t()},r.onerror=function(){Utils.LogWarning("Failed to load script ".concat(e,". The functionality depending on this script will be disabled.")),t()},document.head.appendChild(r)}},{key:"LogError",value:function LogError(e,t){var r=1<arguments.length&&void 0!==t?t:null,n=r?"".concat(e," ").concat((null===r||void 0===r?void 0:r.stack)||(null===r||void 0===r?void 0:r.toString())):e;Utils.log("error",n)}},{key:"LogWarning",value:function LogWarning(e){Utils.log("warn",e)}},{key:"LogInfo",value:function LogInfo(e){Utils.log("log",e)}},{key:"log",value:function log(e,t){var r=window.console;if(r){var n=r[e];n&&n(t)}}},{key:"IsIterable",value:function IsIterable(e){return!(!e||null===e)&&"function"==typeof e[Symbol.iterator]}},{key:"IsString",value:function IsString(e){return"string"==typeof e||e instanceof String}},{key:"ResolvePropertyStore",value:function ResolvePropertyStore(e,t,r){var n=e[t];return n||(n=r(),e[t]=n),n}},{key:"RTrim",value:function RTrim(e,t){return void 0===t&&(t="s"),e.replace(new RegExp("["+t+"]+$"),"")}},{key:"BinarySearch",value:function BinarySearch(e,t){for(var r=0,n=e.length-1;r<=n;){var o=Math.floor((r+n)/2);if(t==e[o])return++o;t<e[o]?n=o-1:r=o+1}return~r}},{key:"AreEqualArrays",value:function AreEqualArrays(e,r){return e.length==r.length&&e.every(function(e,t){return e===r[t]})}},{key:"ParseDocumentId",value:function ParseDocumentId(e){var t=e.lastIndexOf("."),r=e.substring(0,t),n=e.substring(t+1);return new o(r,n)}}]),Utils}();function LocalFieldStorage_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},i=function(){function LocalFieldStorage(){!function LocalFieldStorage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LocalFieldStorage),this.data=null}return function LocalFieldStorage_createClass(e,t,r){return t&&LocalFieldStorage_defineProperties(e.prototype,t),r&&LocalFieldStorage_defineProperties(e,r),e}(LocalFieldStorage,[{key:"Add",value:function Add(t){return n(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.data=t,e.abrupt("return",Promise.resolve());case 2:case"end":return e.stop()}},_callee,this)}))}},{key:"Get",value:function Get(){return n(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.data);case 1:case"end":return e.stop()}},_callee2,this)}))}}]),LocalFieldStorage}();function ClipboardApiStorage_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},c=function(){function ClipboardApiStorage(){!function ClipboardApiStorage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ClipboardApiStorage),this.backupStorage=null,this.showFallbackWarning=!0}return function ClipboardApiStorage_createClass(e,t,r){return t&&ClipboardApiStorage_defineProperties(e.prototype,t),r&&ClipboardApiStorage_defineProperties(e,r),e}(ClipboardApiStorage,[{key:"Add",value:function Add(t){return a(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.showFallbackWarning&&(p.LogWarning("Clipboard access is blocked for this site. Falling back to local field storage. ".concat(e.t0)),this.showFallbackWarning=!1);case 8:if(this.backupStorage)return e.abrupt("return",this.backupStorage.Add(t));e.next=10;break;case 10:case"end":return e.stop()}},_callee,this,[[0,5]])}))}},{key:"Get",value:function Get(){return a(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.readText();case 3:t=e.sent,e.next=16;break;case 6:if(e.prev=6,e.t0=e.catch(0),this.backupStorage)return this.showFallbackWarning&&(p.LogWarning("Clipboard access is blocked for this site. Falling back to local field storage. ".concat(e.t0)),this.showFallbackWarning=!1),e.next=12,this.backupStorage.Get();e.next=15;break;case 12:t=e.sent,e.next=16;break;case 15:throw e.t0;case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}},_callee2,this,[[0,6]])}))}},{key:"AddFallbackStorage",value:function AddFallbackStorage(e){return this.backupStorage=e,this}}]),ClipboardApiStorage}();function ClipboardService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},d=function(){function ClipboardService(e){!function ClipboardService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ClipboardService),this.provider=e,this.initStorage()}return function ClipboardService_createClass(e,t,r){return t&&ClipboardService_defineProperties(e.prototype,t),r&&ClipboardService_defineProperties(e,r),e}(ClipboardService,[{key:"initStorage",value:function initStorage(){var e=new i;navigator.clipboard?this.storage=(new c).AddFallbackStorage(e):(p.LogWarning("Clipboard is not supported in your browser. Falling back to local field storage."),this.storage=e)}},{key:"AddComponents",value:function AddComponents(r){return f(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=[],r.forEach(function(e){t.push(e.PropertyStore)}),e.abrupt("return",this.storage.Add(JSON.stringify(t)));case 3:case"end":return e.stop()}},_callee,this)}))}},{key:"GetPropertyStores",value:function GetPropertyStores(){return f(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,this.storage.Get();case 4:t=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),this.provider.GetService(I.Notifications).Error("Could not access the clipboard.",e.t0);case 11:if(!t){e.next=23;break}if(r=[],e.prev=13,r=JSON.parse(t),Array.isArray(r)){e.next=17;break}throw new Error;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),p.LogInfo("Cannot parse clipboard data to JSON.");case 22:return e.abrupt("return",r);case 23:return e.abrupt("return",[]);case 24:case"end":return e.stop()}},_callee2,this,[[1,7],[13,19]])}))}}]),ClipboardService}();function Events_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=function(){function Events(){!function Events_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Events)}return function Events_createClass(e,t,r){return t&&Events_defineProperties(e.prototype,t),r&&Events_defineProperties(e,r),e}(Events,null,[{key:"SelectionChanging",get:function get(){return"SelectionChanging"}},{key:"SelectionChanged",get:function get(){return"SelectionChanged"}},{key:"UpdateUI",get:function get(){return"UpdateUI"}},{key:"ComponentChanging",get:function get(){return"ComponentChanging"}},{key:"ComponentChanged",get:function get(){return"ComponentChanged"}},{key:"ActiveDesignSurfaceChanging",get:function get(){return"ActiveDesignSurfaceChanging"}},{key:"ActiveDesignSurfaceChanged",get:function get(){return"ActiveDesignSurfaceChanged"}},{key:"TransactionClosed",get:function get(){return"TransactionClosed"}},{key:"DefinitionLoadComplete",get:function get(){return"DefinitionLoadComplete"}},{key:"ShowDescription",get:function get(){return"EditorSelected"}},{key:"UploadImageEditorFileChanged",get:function get(){return"UploadImageEditorFileChanged"}},{key:"ComponentAdded",get:function get(){return"ComponentAdded"}},{key:"ComponentRemoved",get:function get(){return"ComponentRemoved"}},{key:"BorderModeChanged",get:function get(){return"BorderModeChanged"}},{key:"DesignSurfaceModifiedStateChanged",get:function get(){return"DesignSurfaceModifiedStateChanged"}},{key:"PopUpUpdateValue",get:function get(){return"PopUpUpdateValue"}},{key:"OpenPreferences",get:function get(){return"OpenPreferences"}},{key:"TypeInstanceValueChanging",get:function get(){return"TypeInstanceValueChanging"}},{key:"CrosstabWizardRemoveItem",get:function get(){return"CrosstabWizardRemoveItem"}},{key:"CrosstabWizardUpdateUI",get:function get(){return"CrosstabWizardUpdateUI"}}]),Events}();function Cha(e){!function ComponentEventArgs_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Cha),this.component=e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var h=function(){function ComponentChangedEventArgs(e,t,r,n){var o;return function ComponentChangedEventArgs_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ComponentChangedEventArgs),(o=_possibleConstructorReturn(this,_getPrototypeOf(ComponentChangedEventArgs).call(this,e))).propertyDescriptor=t,o.oldValue=r,o.newValue=n,o}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ComponentChangedEventArgs,Cha),ComponentChangedEventArgs}();function ComponentChangeService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var m=function(){function ComponentChangeService(e){var t=this;!function ComponentChangeService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ComponentChangeService),this.provider=e,this.dsEventTarget=null,this.designSurfaceManager=this.provider.GetService(I.IDesignSurfaceManager),this.webDesignerEventsElement=this.provider.GetService(I.WebDesignerEventsElement),this.webDesignerEventsElement.addEventListener(y.ActiveDesignSurfaceChanged,function(e){t.designSurfaceManager.ActiveDesignSurface&&(t.dsEventTarget=t.designSurfaceManager.ActiveDesignSurface.GetService(I.DesignSurfaceEventsElement))},!1)}return function ComponentChangeService_createClass(e,t,r){return t&&ComponentChangeService_defineProperties(e.prototype,t),r&&ComponentChangeService_defineProperties(e,r),e}(ComponentChangeService,[{key:"OnComponentChanging",value:function OnComponentChanging(e,t){var r=new CustomEvent(y.ComponentChanging,{detail:{component:e,propertyDescriptor:t}});this.DispatchEvent(r)}},{key:"OnComponentChanged",value:function OnComponentChanged(e,t,r,n){var o=new CustomEvent(y.ComponentChanged,{detail:new h(e,t,r,n)});this.DispatchEvent(o)}},{key:"OnComponentAdded",value:function OnComponentAdded(e){var t=new CustomEvent(y.ComponentAdded,{detail:new Cha(e)});this.DispatchEvent(t)}},{key:"OnComponentRemoved",value:function OnComponentRemoved(e){var t=new CustomEvent(y.ComponentRemoved,{detail:new Cha(e)});this.DispatchEvent(t)}},{key:"DispatchEvent",value:function DispatchEvent(e){var t=this.provider.GetService(I.IDesignerHost);t&&t.IsLoaded&&this.dsEventTarget.dispatchEvent(e)}}]),ComponentChangeService}();function Commands_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g=function(){function Commands(){!function Commands_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Commands)}return function Commands_createClass(e,t,r){return t&&Commands_defineProperties(e.prototype,t),r&&Commands_defineProperties(e,r),e}(Commands,null,[{key:"ItemNew",get:function get(){return"Item.New"}},{key:"DocumentCreate",get:function get(){return"Document.Create"}},{key:"DocumentOpen",get:function get(){return"Document.Open"}},{key:"DocumentClose",get:function get(){return"Document.Close"}},{key:"DocumentSave",get:function get(){return"Document.Save"}},{key:"DocumentSaveAs",get:function get(){return"Document.SaveAs"}},{key:"DocumentPublish",get:function get(){return"Document.Publish"}},{key:"DocumentRevert",get:function get(){return"Document.Revert"}},{key:"DocumentPreview",get:function get(){return"Document.Preview"}},{key:"DocumentDesign",get:function get(){return"Document.Design"}},{key:"DocumentZoom",get:function get(){return"Document.Zoom"}},{key:"CommandCut",get:function get(){return"Command.Cut"}},{key:"CommandCopy",get:function get(){return"Command.Copy"}},{key:"CommandPaste",get:function get(){return"Command.Paste"}},{key:"CommandDelete",get:function get(){return"Command.Delete"}},{key:"CommandUndo",get:function get(){return"Command.Undo"}},{key:"CommandRedo",get:function get(){return"Command.Redo"}},{key:"SelectNext",get:function get(){return"Selection.SelectNext"}},{key:"SelectPrevious",get:function get(){return"Selection.SelectPrevious"}},{key:"SelectParent",get:function get(){return"Selection.SelectParent"}},{key:"MoveSelectionUpSmallStep",get:function get(){return"Selection.MoveUpSmallStep"}},{key:"MoveSelectionRightSmallStep",get:function get(){return"Selection.MoveRightSmallStep"}},{key:"MoveSelectionDownSmallStep",get:function get(){return"Selection.MoveDownSmallStep"}},{key:"MoveSelectionLeftSmallStep",get:function get(){return"Selection.MoveLeftSmallStep"}},{key:"ShrinkSelectionHorizontally",get:function get(){return"Selection.ShrinkHorizontally"}},{key:"ShrinkSelectionVertically",get:function get(){return"Selection.ShrinkVertically"}},{key:"GrowSelectionHorizontally",get:function get(){return"Selection.GrowHorizontally"}},{key:"GrowSelectionVertically",get:function get(){return"Selection.GrowVertically"}},{key:"BringToFront",get:function get(){return"Layout.BringToFront"}},{key:"SendToBack",get:function get(){return"Layout.SendToBack"}}]),Commands}();function NetTypes_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _=function(){function NetTypes(){!function NetTypes_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NetTypes)}return function NetTypes_createClass(e,t,r){return t&&NetTypes_defineProperties(e.prototype,t),r&&NetTypes_defineProperties(e,r),e}(NetTypes,null,[{key:"Report",get:function get(){return"Report"}},{key:"PageHeaderSection",get:function get(){return"PageHeaderSection"}},{key:"TocSection",get:function get(){return"TocSection"}},{key:"ReportHeaderSection",get:function get(){return"ReportHeaderSection"}},{key:"GroupHeaderSection",get:function get(){return"GroupHeaderSection"}},{key:"DetailSection",get:function get(){return"DetailSection"}},{key:"GroupFooterSection",get:function get(){return"GroupFooterSection"}},{key:"ReportFooterSection",get:function get(){return"ReportFooterSection"}},{key:"PageFooterSection",get:function get(){return"PageFooterSection"}},{key:"Panel",get:function get(){return"Panel"}},{key:"List",get:function get(){return"List"}},{key:"Table",get:function get(){return"Table"}},{key:"Crosstab",get:function get(){return"Crosstab"}},{key:"TableWizard",get:function get(){return"TableWizard"}},{key:"CrosstabWizard",get:function get(){return"CrosstabWizard"}},{key:"Barcode",get:function get(){return"Barcode"}},{key:"CheckBox",get:function get(){return"CheckBox"}},{key:"Graph",get:function get(){return"Graph"}},{key:"HtmlTextBox",get:function get(){return"HtmlTextBox"}},{key:"Map",get:function get(){return"Map"}},{key:"Choropleth",get:function get(){return"Choropleth"}},{key:"PictureBox",get:function get(){return"PictureBox"}},{key:"Shape",get:function get(){return"Shape"}},{key:"SubReport",get:function get(){return"SubReport"}},{key:"TextBox",get:function get(){return"TextBox"}},{key:"DataSourceCollection",get:function get(){return"DataSourceCollection"}},{key:"SqlDataSource",get:function get(){return"SqlDataSource"}},{key:"CsvDataSource",get:function get(){return"CsvDataSource"}},{key:"WebServiceDataSource",get:function get(){return"WebServiceDataSource"}},{key:"JsonDataSource",get:function get(){return"JsonDataSource"}},{key:"ReportParametersCollection",get:function get(){return"ReportParametersCollection"}},{key:"ReportParameter",get:function get(){return"ReportParameter"}},{key:"SqlDataSourceParameter",get:function get(){return"SqlDataSourceParameter"}},{key:"WebServiceParameter",get:function get(){return"WebServiceParameter"}},{key:"CalculatedField",get:function get(){return"CalculatedField"}},{key:"ExternalStyleSheet",get:function get(){return"ExternalStyleSheet"}},{key:"StyleSheet",get:function get(){return"StyleSheet"}},{key:"StyleRule",get:function get(){return"StyleRule"}},{key:"GroupCollection",get:function get(){return"GroupCollection"}},{key:"Group",get:function get(){return"Group"}},{key:"TableGroup",get:function get(){return"TableGroup"}},{key:"GraphGroup",get:function get(){return"GraphGroup"}},{key:"MapGroup",get:function get(){return"MapGroup"}},{key:"GeoLocationMapGroup",get:function get(){return"GeoLocationMapGroup"}},{key:"ShapeMapGroup",get:function get(){return"ShapeMapGroup"}},{key:"CellCollection",get:function get(){return"CellCollection"}},{key:"TableCell",get:function get(){return"TableCell"}},{key:"Parameter",get:function get(){return"Parameter"}},{key:"DataColumn",get:function get(){return"DataColumn"}},{key:"TocLevel",get:function get(){return"TocLevel"}},{key:"GraphTitle",get:function get(){return"GraphTitle"}},{key:"MapTitle",get:function get(){return"MapTitle"}},{key:"MapLegend",get:function get(){return"MapLegend"}},{key:"Row",get:function get(){return"Row"}},{key:"Column",get:function get(){return"Column"}},{key:"Watermark",get:function get(){return"Watermark"}},{key:"TextWatermark",get:function get(){return"TextWatermark"}},{key:"PictureWatermark",get:function get(){return"PictureWatermark"}},{key:"GraphCoordinateSystem",get:function get(){return"GraphCoordinateSystem"}},{key:"PolarCoordinateSystem",get:function get(){return"PolarCoordinateSystem"}},{key:"CartesianCoordinateSystem",get:function get(){return"CartesianCoordinateSystem"}},{key:"GraphAxis",get:function get(){return"GraphAxis"}},{key:"CrossAxisPosition",get:function get(){return"CrossAxisPosition"}},{key:"DateTimeScaleCrossAxisPosition",get:function get(){return"DateTimeScaleCrossAxisPosition"}},{key:"NumericalScaleCrossAxisPosition",get:function get(){return"NumericalScaleCrossAxisPosition"}},{key:"CategoryScaleCrossAxisPosition",get:function get(){return"CategoryScaleCrossAxisPosition"}},{key:"LogarithmicScaleCrossAxisPosition",get:function get(){return"LogarithmicScaleCrossAxisPosition"}},{key:"GraphSeries",get:function get(){return"GraphSeries"}},{key:"LineSeries",get:function get(){return"LineSeries"}},{key:"AreaSeries",get:function get(){return"AreaSeries"}},{key:"BarSeries",get:function get(){return"BarSeries"}},{key:"OhlcSeries",get:function get(){return"OhlcSeries"}},{key:"MapSeriesBase",get:function get(){return"MapSeriesBase"}},{key:"ShapeMapSeries",get:function get(){return"ShapeMapSeries"}},{key:"LocationMapSeries",get:function get(){return"LocationMapSeries"}},{key:"PointMapSeries",get:function get(){return"PointMapSeries"}},{key:"GraphMapSeries",get:function get(){return"GraphMapSeries"}},{key:"PieMapSeries",get:function get(){return"PieMapSeries"}},{key:"PieGraphMapSeries",get:function get(){return"PieGraphMapSeries"}},{key:"ColumnMapSeries",get:function get(){return"ColumnMapSeries"}},{key:"BarGraphMapSeries",get:function get(){return"BarGraphMapSeries"}},{key:"DataItem",get:function get(){return"DataItem"}},{key:"GroupSection",get:function get(){return"GroupSection"}},{key:"PageSection",get:function get(){return"PageSection"}},{key:"ReportItem",get:function get(){return"ReportItem"}},{key:"ReportItemBase",get:function get(){return"ReportItemBase"}},{key:"TextItemBase",get:function get(){return"TextItemBase"}},{key:"StyleSelector",get:function get(){return"StyleSelector"}},{key:"TypeSelector",get:function get(){return"TypeSelector"}},{key:"AttributeSelector",get:function get(){return"AttributeSelector"}},{key:"DescendantSelector",get:function get(){return"DescendantSelector"}},{key:"Grouping",get:function get(){return"Grouping"}},{key:"Sorting",get:function get(){return"Sorting"}},{key:"Filter",get:function get(){return"Filter"}},{key:"FormattingRule",get:function get(){return"FormattingRule"}},{key:"CustomValueObject",get:function get(){return"CustomValueObject"}},{key:"CustomNullableObject",get:function get(){return"CustomNullableObject"}},{key:"Measure",get:function get(){return"Measure"}},{key:"SqlDataSourceCommandType",get:function get(){return"SqlDataSourceCommandType"}},{key:"Char",get:function get(){return"Char"}},{key:"String",get:function get(){return"String"}},{key:"Decimal",get:function get(){return"Decimal"}},{key:"Float",get:function get(){return"Float"}},{key:"Single",get:function get(){return"Single"}},{key:"Double",get:function get(){return"Double"}},{key:"DateTime",get:function get(){return"DateTime"}},{key:"Boolean",get:function get(){return"Boolean"}},{key:"Integer",get:function get(){return"Integer"}},{key:"Int32",get:function get(){return"Int32"}},{key:"Int64",get:function get(){return"Int64"}},{key:"Uri",get:function get(){return"Uri"}},{key:"TimeSpan",get:function get(){return"TimeSpan"}},{key:"DateTimeKind",get:function get(){return"DateTimeKind"}},{key:"DayOfWeek",get:function get(){return"DayOfWeek"}},{key:"ByteArray",get:function get(){return"Byte[]"}}]),NetTypes}();function Properties_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var G=function(){function Properties(){!function Properties_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Properties)}return function Properties_createClass(e,t,r){return t&&Properties_defineProperties(e.prototype,t),r&&Properties_defineProperties(e,r),e}(Properties,null,[{key:"Parameters",get:function get(){return"Parameters"}},{key:"ReportParameters",get:function get(){return"ReportParameters"}},{key:"DataSources",get:function get(){return"DataSources"}},{key:"DataSourceName",get:function get(){return"DataSourceName"}},{key:"StyleSheet",get:function get(){return"StyleSheet"}},{key:"ExternalStyleSheets",get:function get(){return"ExternalStyleSheets"}},{key:"Items",get:function get(){return"Items"}},{key:"Item",get:function get(){return"Item"}},{key:"Type",get:function get(){return"Type"}},{key:"NetType",get:function get(){return"NetType"}},{key:"Name",get:function get(){return"Name"}},{key:"DisplayName",get:function get(){return"DisplayName"}},{key:"Value",get:function get(){return"Value"}},{key:"Groups",get:function get(){return"Groups"}},{key:"GroupHeader",get:function get(){return"GroupHeader"}},{key:"GroupFooter",get:function get(){return"GroupFooter"}},{key:"Expression",get:function get(){return"Expression"}},{key:"RowGroups",get:function get(){return"RowGroups"}},{key:"ColumnGroups",get:function get(){return"ColumnGroups"}},{key:"ChildGroups",get:function get(){return"ChildGroups"}},{key:"Groupings",get:function get(){return"Groupings"}},{key:"Sortings",get:function get(){return"Sortings"}},{key:"Filters",get:function get(){return"Filters"}},{key:"Corner",get:function get(){return"Corner"}},{key:"Body",get:function get(){return"Body"}},{key:"Cells",get:function get(){return"Cells"}},{key:"Rows",get:function get(){return"Rows"}},{key:"Columns",get:function get(){return"Columns"}},{key:"Width",get:function get(){return"Width"}},{key:"Height",get:function get(){return"Height"}},{key:"Visible",get:function get(){return"Visible"}},{key:"ReportItem",get:function get(){return"ReportItem"}},{key:"Parent",get:function get(){return"Parent"}},{key:"Style",get:function get(){return"Style"}},{key:"StyleName",get:function get(){return"StyleName"}},{key:"Left",get:function get(){return"Left"}},{key:"Top",get:function get(){return"Top"}},{key:"Right",get:function get(){return"Right"}},{key:"Bottom",get:function get(){return"Bottom"}},{key:"Justify",get:function get(){return"Justify"}},{key:"Center",get:function get(){return"Center"}},{key:"Middle",get:function get(){return"Middle"}},{key:"Alignment",get:function get(){return"Alignment"}},{key:"FontStyle",get:function get(){return"FontStyle"}},{key:"Size",get:function get(){return"Size"}},{key:"Padding",get:function get(){return"Padding"}},{key:"Culture",get:function get(){return"Culture"}},{key:"UnitOfMeasure",get:function get(){return"UnitOfMeasure"}},{key:"Position",get:function get(){return"Position"}},{key:"UseParentValue",get:function get(){return"UseParentValue"}},{key:"ReportProperty",get:function get(){return"ReportProperty"}},{key:"Default",get:function get(){return"Default"}},{key:"DefaultValue",get:function get(){return"DefaultValue"}},{key:"NotifyParentProperty",get:function get(){return"NotifyParentProperty"}},{key:"Background",get:function get(){return"Background"}},{key:"BackgroundColor",get:function get(){return"BackgroundColor"}},{key:"BackgroundImage",get:function get(){return"BackgroundImage"}},{key:"Border",get:function get(){return"Border"}},{key:"BorderStyle",get:function get(){return"BorderStyle"}},{key:"BorderWidth",get:function get(){return"BorderWidth"}},{key:"BorderColor",get:function get(){return"BorderColor"}},{key:"FontCollection",get:function get(){return"FontCollection"}},{key:"Font",get:function get(){return"Font"}},{key:"Italic",get:function get(){return"Italic"}},{key:"Bold",get:function get(){return"Bold"}},{key:"Underline",get:function get(){return"Underline"}},{key:"Strikeout",get:function get(){return"Strikeout"}},{key:"TextAlign",get:function get(){return"TextAlign"}},{key:"TextIndent",get:function get(){return"TextIndent"}},{key:"TextWrap",get:function get(){return"TextWrap"}},{key:"VerticalAlign",get:function get(){return"VerticalAlign"}},{key:"Color",get:function get(){return"Color"}},{key:"Line",get:function get(){return"Line"}},{key:"LineStyle",get:function get(){return"LineStyle"}},{key:"LineWidth",get:function get(){return"LineWidth"}},{key:"LineColor",get:function get(){return"LineColor"}},{key:"RowIndex",get:function get(){return"RowIndex"}},{key:"ColumnIndex",get:function get(){return"ColumnIndex"}},{key:"RowSpan",get:function get(){return"RowSpan"}},{key:"ColumnSpan",get:function get(){return"ColumnSpan"}},{key:"Image",get:function get(){return"Image"}},{key:"ImageData",get:function get(){return"ImageData"}},{key:"MimeType",get:function get(){return"MimeType"}},{key:"Repeat",get:function get(){return"Repeat"}},{key:"Title",get:function get(){return"Title"}},{key:"TitleStyle",get:function get(){return"TitleStyle"}},{key:"Levels",get:function get(){return"Levels"}},{key:"Direction",get:function get(){return"Direction"}},{key:"Operator",get:function get(){return"Operator"}},{key:"LeaderSymbol",get:function get(){return"LeaderSymbol"}},{key:"Selectors",get:function get(){return"Selectors"}},{key:"PropertyName",get:function get(){return"PropertyName"}},{key:"PropertyValue",get:function get(){return"PropertyValue"}},{key:"Path",get:function get(){return"Path"}},{key:"Properties",get:function get(){return"Properties"}},{key:"Binding",get:function get(){return"Binding"}},{key:"TypeSelector",get:function get(){return"TypeSelector"}},{key:"PageSettings",get:function get(){return"PageSettings"}},{key:"ColumnCount",get:function get(){return"ColumnCount"}},{key:"ColumnSpacing",get:function get(){return"ColumnSpacing"}},{key:"Landscape",get:function get(){return"Landscape"}},{key:"PaperSize",get:function get(){return"PaperSize"}},{key:"PaperKind",get:function get(){return"PaperKind"}},{key:"Margins",get:function get(){return"Margins"}},{key:"Location",get:function get(){return"Location"}},{key:"Docking",get:function get(){return"Docking"}},{key:"Anchoring",get:function get(){return"Anchoring"}},{key:"FieldSeparators",get:function get(){return"FieldSeparators"}},{key:"RecordSeparators",get:function get(){return"RecordSeparators"}},{key:"Password",get:function get(){return"Password"}},{key:"Source",get:function get(){return"Source"}},{key:"ConditionalFormatting",get:function get(){return"ConditionalFormatting"}},{key:"StopIfTrue",get:function get(){return"StopIfTrue"}},{key:"Embedded",get:function get(){return"Embedded"}},{key:"ImageSource",get:function get(){return"ImageSource"}},{key:"CategoryGroups",get:function get(){return"CategoryGroups"}},{key:"SeriesGroups",get:function get(){return"SeriesGroups"}},{key:"DataSourceParameters",get:function get(){return"Parameters"}},{key:"CalculatedFields",get:function get(){return"CalculatedFields"}},{key:"Kind",get:function get(){return"Kind"}},{key:"Titles",get:function get(){return"Titles"}},{key:"ReportSource",get:function get(){return"ReportSource"}},{key:"Legends",get:function get(){return"Legends"}},{key:"TileProvider",get:function get(){return"TileProvider"}},{key:"UrlSubdomains",get:function get(){return"UrlSubdomains"}},{key:"Watermarks",get:function get(){return"Watermarks"}},{key:"CoordinateSystems",get:function get(){return"CoordinateSystems"}},{key:"Axes",get:function get(){return"Axes"}},{key:"XAxis",get:function get(){return"XAxis"}},{key:"YAxis",get:function get(){return"YAxis"}},{key:"RadialAxis",get:function get(){return"RadialAxis"}},{key:"AngularAxis",get:function get(){return"AngularAxis"}},{key:"ProviderName",get:function get(){return"ProviderName"}},{key:"ConnectionString",get:function get(){return"ConnectionString"}},{key:"SelectCommand",get:function get(){return"SelectCommand"}},{key:"CommandType",get:function get(){return"CommandType"}},{key:"SelectCommandType",get:function get(){return"SelectCommandType"}},{key:"CommandTimeout",get:function get(){return"CommandTimeOut"}},{key:"DbType",get:function get(){return"DbType"}},{key:"Description",get:function get(){return"Description"}},{key:"IsExpandable",get:function get(){return"IsExpandable"}},{key:"DataType",get:function get(){return"DataType"}},{key:"DataModel",get:function get(){return"DataModel"}},{key:"Measures",get:function get(){return"Measures"}},{key:"Series",get:function get(){return"Series"}},{key:"CoordinateSystem",get:function get(){return"CoordinateSystem"}},{key:"GeoLocationGroups",get:function get(){return"GeoLocationGroups"}},{key:"DataSource",get:function get(){return"DataSource"}},{key:"SchemaKey",get:function get(){return"$schema"}},{key:"GlobalName",get:function get(){return"GlobalName"}},{key:"StyleSheets",get:function get(){return"StyleSheets"}},{key:"ServiceUrl",get:function get(){return"ServiceUrl"}},{key:"ParameterValues",get:function get(){return"ParameterValues"}},{key:"AvailableValues",get:function get(){return"AvailableValues"}},{key:"CrossAxisPositions",get:function get(){return"CrossAxisPositions"}},{key:"Scale",get:function get(){return"Scale"}}]),Properties}();function UnitType_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var v=function(){function UnitType(){!function UnitType_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UnitType)}return function UnitType_createClass(e,t,r){return t&&UnitType_defineProperties(e.prototype,t),r&&UnitType_defineProperties(e,r),e}(UnitType,null,[{key:"Pixel",get:function get(){return"px"}},{key:"Point",get:function get(){return"pt"}},{key:"Pica",get:function get(){return"pc"}},{key:"Inch",get:function get(){return"in"}},{key:"Mm",get:function get(){return"mm"}},{key:"Cm",get:function get(){return"cm"}}]),UnitType}();function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Unit_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var j=function(){function Unit(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:v.Pixel;!function Unit_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Unit),this.Value=e,this.Type=t}return function Unit_createClass(e,t,r){return t&&Unit_defineProperties(e.prototype,t),r&&Unit_defineProperties(e,r),e}(Unit,[{key:"ToPixels",value:function ToPixels(){switch(this.Type){case v.Pixel:return this.Value;case v.Point:return this.Value*Unit.PixelsInPoint;case v.Pica:return this.Value*Unit.PixelsInPica;case v.Inch:return this.Value*Unit.PixelsInInch;case v.Mm:return this.Value*Unit.PixelsInMm;case v.Cm:return this.Value*Unit.PixelsInCm;default:throw new Error("Unknown unit type '".concat(this.Type,"'."))}}},{key:"ToUnit",value:function ToUnit(e){switch(e){case v.Pixel:return new Unit(this.ToPixels());case v.Point:return new Unit(Unit.pxToPt(this.ToPixels()),v.Point);case v.Pica:return new Unit(Unit.pxToPica(this.ToPixels()),v.Pica);case v.Inch:return new Unit(Unit.pxToIn(this.ToPixels()),v.Inch);case v.Mm:return new Unit(Unit.pxToMm(this.ToPixels()),v.Mm);case v.Cm:return new Unit(Unit.pxToCm(this.ToPixels()),v.Cm);default:throw new Error("Unknown unit type '".concat(e,"'."))}}},{key:"GetFixedValue",value:function GetFixedValue(e){var t=0<arguments.length&&void 0!==e?e:3;return this.trimNumber(this.Value.toFixed(t))}},{key:"Equals",value:function Equals(e){return this.Value===e.Value&&this.Type===e.Type}},{key:"IsEqual",value:function IsEqual(e){return Math.abs(this.ToPixels()-e.ToPixels())<Unit.Epsilon}},{key:"GreaterThan",value:function GreaterThan(e){return this.ToPixels()-e.ToPixels()>Unit.Epsilon}},{key:"LessThan",value:function LessThan(e){return e.ToPixels()-this.ToPixels()>Unit.Epsilon}},{key:"GreaterOrEqual",value:function GreaterOrEqual(e){return!this.LessThan(e)}},{key:"LessOrEqual",value:function LessOrEqual(e){return!this.GreaterThan(e)}},{key:"ToString",value:function ToString(e){var t=0<arguments.length&&void 0!==e?e:3;return"".concat(this.GetFixedValue(t)).concat(this.Type)}},{key:"toString",value:function toString(){return"".concat(this.trimNumber(this.Value.toString())).concat(this.Type)}},{key:"trimNumber",value:function trimNumber(e){var t=this.trimEnd(e,"0");return t=this.trimEnd(t,".")}},{key:"trimEnd",value:function trimEnd(e,t){var r=_toConsumableArray(Array.from(e)).reverse().findIndex(function(e){return e!==t});return e.substring(0,e.length-r)}},{key:"Add",value:function Add(e){return Unit.add(this,e,1)}},{key:"Subtract",value:function Subtract(e){return Unit.add(this,e,-1)}},{key:"Multiply",value:function Multiply(e){return new Unit(this.Value*e,this.Type)}},{key:"Divide",value:function Divide(e){return new Unit(this.Value/e,this.Type)}},{key:"Ratio",value:function Ratio(e){return this.ToPixels()/e.ToPixels()}}],[{key:"Max",value:function Max(e,t){return e.GreaterThan(t)?e:t}},{key:"Min",value:function Min(e,t){return e.LessThan(t)?e:t}},{key:"Parse",value:function Parse(e){if(e){e=String(e);var t=parseFloat(e),r=e.match(/[\d.\-\+\s]*\s*(.*)/)[1].trimRight();if(r)return new Unit(t,r)}return Unit.Zero}},{key:"ParseToPixels",value:function ParseToPixels(e){return Unit.Parse(e).ToPixels()}},{key:"FromPixels",value:function FromPixels(e,t){switch(t){case v.Pixel:return new Unit(e,t);case v.Point:return new Unit(Unit.pxToPt(e),t);case v.Pica:return new Unit(Unit.pxToPica(e),t);case v.Inch:return new Unit(Unit.pxToIn(e),t);case v.Mm:return new Unit(Unit.pxToMm(e),t);case v.Cm:return new Unit(Unit.pxToCm(e),t);default:throw new Error("Unknown unit type '".concat(t,"'."))}}},{key:"pxToPt",value:function pxToPt(e){return e/Unit.PixelsInPoint}},{key:"pxToPica",value:function pxToPica(e){return e/Unit.PixelsInPica}},{key:"pxToIn",value:function pxToIn(e){return e/Unit.PixelsInInch}},{key:"pxToMm",value:function pxToMm(e){return e/Unit.PixelsInMm}},{key:"pxToCm",value:function pxToCm(e){return e/Unit.PixelsInCm}},{key:"add",value:function add(e,t,r){var n=e.Type===t.Type?t:t.ToUnit(e.Type);return new Unit(e.Value+n.Value*r,e.Type)}},{key:"PixelsInInch",get:function get(){return 96}},{key:"PixelsInCm",get:function get(){return 37.795275591}},{key:"PixelsInMm",get:function get(){return 3.779527559}},{key:"PixelsInPica",get:function get(){return 16}},{key:"PixelsInPoint",get:function get(){return 1.333333333}},{key:"Epsilon",get:function get(){return.01*Unit.PixelsInMm}},{key:"Zero",get:function get(){return new Unit(0,v.Pixel)}}]),Unit}();function SizeF_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var B=function(){function SizeF(e,t){!function SizeF_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SizeF),this.width=e,this.height=t}return function SizeF_createClass(e,t,r){return t&&SizeF_defineProperties(e.prototype,t),r&&SizeF_defineProperties(e,r),e}(SizeF,[{key:"IsEmpty",value:function IsEmpty(){return 0===this.width&&0===this.height}},{key:"Resize",value:function Resize(e,t){this.width=this.Width+e,this.height=this.Height+t}},{key:"Equals",value:function Equals(e){return this.Width===e.Width&&this.Height===e.Height}},{key:"Width",get:function get(){return this.width},set:function set(e){this.width=e}},{key:"Height",get:function get(){return this.height},set:function set(e){this.height=e}}],[{key:"Parse",value:function Parse(e,t){return new SizeF(e?parseFloat(e):0,t?parseFloat(t):0)}},{key:"Empty",get:function get(){return new SizeF(0,0)}}]),SizeF}();function SizeU_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var M=function(){function SizeU(e,t){!function SizeU_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SizeU),this.width=e,this.height=t}return function SizeU_createClass(e,t,r){return t&&SizeU_defineProperties(e.prototype,t),r&&SizeU_defineProperties(e,r),e}(SizeU,[{key:"Resize",value:function Resize(e,t){this.width=this.Width.Add(e),this.height=this.Height.Add(t)}},{key:"ToPixels",value:function ToPixels(){return new B(this.Width.ToPixels(),this.Height.ToPixels())}},{key:"Equals",value:function Equals(e){return this.Width.Equals(e.Width)&&this.Height.Equals(e.Height)}},{key:"Width",get:function get(){return this.width}},{key:"Height",get:function get(){return this.height}},{key:"IsEmpty",get:function get(){return 0===this.width.Value&&0===this.height.Value}}],[{key:"Parse",value:function Parse(e,t){return new SizeU(e?j.Parse(e):new j(0),t?j.Parse(t):new j(0))}},{key:"Empty",get:function get(){return new SizeU(j.Zero,j.Zero)}}]),SizeU}();function Mha(e){!function MarginsU_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Mha),this.Left=e,this.Right=e,this.Top=e,this.Bottom=e}function Nha(e,t){!function PropertyValuesWrapper_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Nha),this.InlineValue=e,this.DefaultValue=t}function Component_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var b=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},S=function(){function Component(e,t,r){var n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];!function Component_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Component),this.typeDescriptor=null,this.PropertyStore=e,this.Parent=t,this.provider=r,this.IsChildOfParent=n,this.propertyDescriptorWrapperFactory=this.provider.GetService(I.IPropertyDescriptorWrapperFactory),this.propertyWrappers=null,this.Children=[],this.Parent&&n&&this.Parent.AddChild(this,!0),this.namingService=r.GetService(I.NamingService),this.dsEventsElement=this.provider.GetService(I.DesignSurfaceEventsElement)}return function Component_createClass(e,t,r){return t&&Component_defineProperties(e.prototype,t),r&&Component_defineProperties(e,r),e}(Component,[{key:"Initialize",value:function Initialize(t){return b(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.InitializeBase(t));case 1:case"end":return e.stop()}},_callee,this)}))}},{key:"InitializeBase",value:function InitializeBase(r){return b(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.ITypeDescriptorRepository),this.componentChangeService=this.provider.GetService(I.IComponentChangeService),e.next=4,t.GetComponentTypeDescriptor(r);case 4:return this.typeDescriptor=e.sent,this.instanceFactory=this.provider.GetService(I.IInstanceFactoryService),e.next=8,this.createDesigner();case 8:return this.designer=e.sent,e.next=11,this.CreateChildComponentsFromPropertyStore();case 11:case"end":return e.stop()}},_callee2,this)}))}},{key:"createDesigner",value:function createDesigner(){return b(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r,n,o;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.typeDescriptor.TypeName,r=this.provider.GetService(I.ISchemaService),n=r.GetDesignerType(t)){e.next=5;break}throw new Error("A designer for type '".concat(t,"' does not exist."));case 5:return(o=new n(this.provider,this)).Initialize(),e.abrupt("return",o);case 8:case"end":return e.stop()}},_callee3,this)}))}},{key:"GetProperty",value:function GetProperty(e){return this.typeDescriptor.GetProperty(e)}},{key:"GetPropertyWrapper",value:function GetPropertyWrapper(t){return this.propertyWrappers.find(function(e){return e.Name===t})}},{key:"GetProperties",value:function GetProperties(){return this.typeDescriptor.GetProperties()}},{key:"GetCascadingPropertyValue",value:function GetCascadingPropertyValue(){for(var e,t=0,r=(e=t++)<0||arguments.length<=e?void 0:arguments[e],n=this.PropertyWrappers.find(function(e){return e.Name===r});t<arguments.length;t++)n=n.GetChildProperty(t<0||arguments.length<=t?void 0:arguments[t]);return n.GetValue()}},{key:"GetPropertyValue",value:function GetPropertyValue(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=this.getPropertyValuesCore(t);return n.InlineValue||n.DefaultValue}},{key:"RaiseComponentChanged",value:function RaiseComponentChanged(e,t,r){var n=this,o=this.provider.GetService(I.IComponentChangeService);this.provider.GetService(I.IDesignerHost).InTransaction?this.dsEventsElement.addEventListener(y.TransactionClosed,function(){o.OnComponentChanged(n,e,t,r)},{once:!0,capture:!1}):o.OnComponentChanged(this,e,t,r)}},{key:"getPropertyValuesCore",value:function getPropertyValuesCore(e){for(var t=0,r=this.GetProperty(e[t++]),n=r.GetValue(this,this.PropertyStore);t<e.length;t++)void 0===n&&(n={}),n=(r=r.GetChildProperty(e[t])).GetValue(r,n);return new Nha(n,r.DefaultValue)}},{key:"SetParent",value:function SetParent(e,t){var r=this.Parent.GetProperty(G.Items);this.componentChangeService.OnComponentChanging(this.Parent,r),this.Parent.RemoveItem(this.PropertyStore),this.Parent.RemoveChild(this),this.Parent.RaiseComponentChanged(r,null,null),this.componentChangeService.OnComponentChanging(e,r),e.AddItem(this.PropertyStore,t),e.AddChild(this,t),e.RaiseComponentChanged(r,null,null),this.Parent=e;var n=this.VisualElement.detach(),o=e.Designer.VisualElementContent||e.Designer.VisualElement;t?n.appendTo(o):n.prependTo(o)}},{key:"Delete",value:function Delete(){this.Parent.RemoveChildAndItem(this),this.Designer.Dispose(),this.componentChangeService.OnComponentRemoved(this)}},{key:"RemoveChildAndItem",value:function RemoveChildAndItem(e){this.RemoveItem(e.PropertyStore),this.RemoveChild(e)}},{key:"AddChild",value:function AddChild(e,t){t?this.Children.push(e):this.Children.splice(0,0,e)}},{key:"RemoveChild",value:function RemoveChild(e){var t=this.Children.indexOf(e);-1<t&&this.Children.splice(t,1)}},{key:"AddItem",value:function AddItem(e,t){var r=this.PropertyStore;void 0===r[G.Items]&&(r[G.Items]=[]);var n=r.Items;t?n.push(e):n.splice(0,0,e)}},{key:"RemoveItem",value:function RemoveItem(e){var t=this.PropertyStore,r=t[G.Items];if(r){var n=r.indexOf(e);-1<n&&(r.splice(n,1),0===r.length&&delete t[G.Items])}}},{key:"CanParent",value:function CanParent(e){return this.CanContain(e)}},{key:"CanContain",value:function CanContain(e){return e!==_.Report}},{key:"CanBeAncestorOf",value:function CanBeAncestorOf(e,t){var r=e[G.NetType];if(!this.CanContain(r))return!1;if(t){var n=e[G.Items];if(n){var o=!0,i=!1,a=void 0;try{for(var s,c=n[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;if(!this.CanBeAncestorOf(u,!0))return this.provider.GetService(I.Notifications).Warning("'".concat(this.Name,"' cannot contain '").concat(u[G.NetType],"'.")),!1}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}}return!0}},{key:"CanDelete",value:function CanDelete(){return!0}},{key:"Accept",value:function Accept(e){e.VisitExtension(this)}},{key:"RenderDesigner",value:function RenderDesigner(){this.designer.Render(this.Parent.VisualElementContent||this.Parent.VisualElement);var e=!0,t=!1,r=void 0;try{for(var n,o=this.Children[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){n.value.RenderDesigner()}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}}},{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return b(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createChildComponentsFromPropertyStoreBase());case 1:case"end":return e.stop()}},_callee4,this)}))}},{key:"createChildComponentsFromPropertyStoreBase",value:function createChildComponentsFromPropertyStoreBase(){return b(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var t,r,n,o,i,a;return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.PropertyStore[G.Items]){e.next=27;break}r=!(t=!0),n=void 0,e.prev=4,o=this.PropertyStore[G.Items][Symbol.iterator]();case 6:if(t=(i=o.next()).done){e.next=13;break}return a=i.value,e.next=10,this.CreateChildComponent(a);case 10:t=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),r=!0,n=e.t0;case 19:e.prev=19,e.prev=20,t||null==o.return||o.return();case 22:if(e.prev=22,r)throw n;e.next=25;break;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},_callee5,this,[[4,15,19,27],[20,,22,26]])}))}},{key:"CreateChildComponent",value:function CreateChildComponent(n){return b(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var t,r;return regeneratorRuntime.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.IDesignerHost),e.next=3,t.CreateComponent(n[G.NetType],n,this,!0);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},_callee6,this)}))}},{key:"CreateNonChildComponent",value:function CreateNonChildComponent(n){return b(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var t,r;return regeneratorRuntime.wrap(function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.IDesignerHost),e.next=3,t.CreateComponent(n[G.NetType],n,this,!1);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},_callee7,this)}))}},{key:"getValueRaw",value:function getValueRaw(e){return this.PropertyStore[e]}},{key:"Contains",value:function Contains(e){for(;e;){if(!(e=e.Parent))return!1;if(e===this)return!0}return!1}},{key:"createCollectionPropertyComponents",value:function createCollectionPropertyComponents(l,p,e){var f=2<arguments.length&&void 0!==e?e:null;return b(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){var t,r,n,o,i,a,s,c,u;return regeneratorRuntime.wrap(function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:if(t=f||this.PropertyStore,!(r=t[l])||0!==p.length){e.next=32;break}o=!(n=!0),i=void 0,e.prev=6,a=r[Symbol.iterator]();case 8:if(n=(s=a.next()).done){e.next=18;break}return(c=s.value)[G.Name]||(c[G.Name]=this.namingService.CreateName(c[G.NetType])),e.next=13,this.CreateNonChildComponent(c);case 13:(u=e.sent)&&p.push(u);case 15:n=!0,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(6),o=!0,i=e.t0;case 24:e.prev=24,e.prev=25,n||null==a.return||a.return();case 27:if(e.prev=27,o)throw i;e.next=30;break;case 30:return e.finish(27);case 31:return e.finish(24);case 32:case"end":return e.stop()}},_callee8,this,[[6,20,24,32],[25,,27,31]])}))}},{key:"toString",value:function toString(){return"".concat(this.DisplayName||this.Name," (").concat(this.Type,")")}},{key:"Name",get:function get(){return this.getValueRaw(G.Name)}},{key:"DisplayName",get:function get(){return this.getValueRaw(G.DisplayName)}},{key:"Type",get:function get(){return this.getValueRaw(G.NetType)}},{key:"Component",get:function get(){return this}},{key:"Designer",get:function get(){return this.designer}},{key:"VisualElement",get:function get(){return this.designer.VisualElement}},{key:"VisualElementContent",get:function get(){return this.designer.VisualElementContent}},{key:"InstanceFactory",get:function get(){return this.instanceFactory}},{key:"PropertyWrappers",get:function get(){return this.propertyWrappers||this.propertyDescriptorWrapperFactory.CreateWrappers(this)},set:function set(e){this.propertyWrappers=e}},{key:"BrowsablePropertyWrappers",get:function get(){return this.PropertyWrappers.filter(function(e){return e.Browsable})}},{key:"PropertyWrappersInitialized",get:function get(){return null!==this.propertyWrappers}},{key:"Margins",get:function get(){return new Mha(j.Zero)}},{key:"StyleName",get:function get(){return this.GetPropertyWrapper(G.StyleName).GetValue()},set:function set(e){this.GetPropertyWrapper(G.StyleName).SetValue(e)}}]),Component}();function ReportItemBase_typeof(e){return(ReportItemBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportItemBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ReportItemBase_possibleConstructorReturn(e,t){return!t||"object"!==ReportItemBase_typeof(t)&&"function"!=typeof t?function ReportItemBase_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportItemBase_getPrototypeOf(e){return(ReportItemBase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportItemBase_setPrototypeOf(e,t){return(ReportItemBase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var C=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},A=function(){function ReportItemBase(e,t,r){var n,o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return function ReportItemBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportItemBase),(n=ReportItemBase_possibleConstructorReturn(this,ReportItemBase_getPrototypeOf(ReportItemBase).call(this,e,t,r,o))).formattingRules=[],n}return function ReportItemBase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportItemBase_setPrototypeOf(e,t)}(ReportItemBase,S),function ReportItemBase_createClass(e,t,r){return t&&ReportItemBase_defineProperties(e.prototype,t),r&&ReportItemBase_defineProperties(e,r),e}(ReportItemBase,[{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return C(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createChildComponentsFromPropertyStoreBase();case 2:case"end":return e.stop()}},_callee,this)}))}},{key:"CreateChildComponentsFromPropertyStoreReportItemBase",value:function CreateChildComponentsFromPropertyStoreReportItemBase(){return C(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createChildComponentsFromPropertyStoreBase();case 2:return e.next=4,this.createConditionalFormatting();case 4:case"end":return e.stop()}},_callee2,this)}))}},{key:"createConditionalFormatting",value:function createConditionalFormatting(){return C(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createCollectionPropertyComponents(G.ConditionalFormatting,this.ConditionalFormatting));case 1:case"end":return e.stop()}},_callee3,this)}))}},{key:"ConditionalFormatting",get:function get(){return this.formattingRules}}]),ReportItemBase}();function ReportItem_typeof(e){return(ReportItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportItem_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ReportItem_possibleConstructorReturn(e,t){return!t||"object"!==ReportItem_typeof(t)&&"function"!=typeof t?function ReportItem_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportItem_getPrototypeOf(e){return(ReportItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportItem_setPrototypeOf(e,t){return(ReportItem_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var P=function(){function ReportItem(){return function ReportItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportItem),ReportItem_possibleConstructorReturn(this,ReportItem_getPrototypeOf(ReportItem).apply(this,arguments))}return function ReportItem_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportItem_setPrototypeOf(e,t)}(ReportItem,A),function ReportItem_createClass(e,t,r){return t&&ReportItem_defineProperties(e.prototype,t),r&&ReportItem_defineProperties(e,r),e}(ReportItem,[{key:"CanContain",value:function CanContain(){return!1}},{key:"Accept",value:function Accept(e){e.VisitReportItem(this)}},{key:"Width",get:function get(){var e=this.GetProperty(G.Width);return j.Parse(e.GetValue(this,this.PropertyStore))},set:function set(e){this.GetProperty(G.Width).SetValue(e.ToString(),this,this.PropertyStore)}},{key:"Height",get:function get(){var e=this.GetProperty(G.Height);return j.Parse(e.GetValue(this,this.PropertyStore))},set:function set(e){this.GetProperty(G.Height).SetValue(e.ToString(),this,this.PropertyStore)}},{key:"Size",get:function get(){return new M(this.Width,this.Height)},set:function set(e){var t=this.GetProperty(G.Width),r=this.GetProperty(G.Height);t.SetValue(e.Width.ToString(),this,this.PropertyStore),r.SetValue(e.Height.ToString(),this,this.PropertyStore)}},{key:"Visible",get:function get(){return this.GetProperty(G.Visible).GetValue(this,this.PropertyStore)}}]),ReportItem}();function ReportObjectCollection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var w=function(){function ReportObjectCollection(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;if(!function ReportObjectCollection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportObjectCollection),this.propertyStore=e,this.parent=r,this.provider=n,this.items=[],!p.IsIterable(this.propertyStore))throw new Error("ReportObjectCollection requires an iterable property store.");this.init(t)}return function ReportObjectCollection_createClass(e,t,r){return t&&ReportObjectCollection_defineProperties(e.prototype,t),r&&ReportObjectCollection_defineProperties(e,r),e}(ReportObjectCollection,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function value(){var t,r,n,o,i,a;return regeneratorRuntime.wrap(function value$(e){for(;;)switch(e.prev=e.next){case 0:r=!(t=!0),n=void 0,e.prev=3,o=this.items[Symbol.iterator]();case 5:if(t=(i=o.next()).done){e.next=12;break}return a=i.value,e.next=9,a;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),r=!0,n=e.t0;case 18:e.prev=18,e.prev=19,t||null==o.return||o.return();case 21:if(e.prev=21,r)throw n;e.next=24;break;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},value,this,[[3,14,18,26],[19,,21,25]])})},{key:"Get",value:function Get(e){return this.items[e]}},{key:"IndexOf",value:function IndexOf(e){return this.items.indexOf(e)}},{key:"Add",value:function Add(e){this.push(e)}},{key:"AddRange",value:function AddRange(e){for(var t=0;t<e.length;t++)this.Add(e[t])}},{key:"Insert",value:function Insert(e,t){this.items.splice(e,0,t),this.propertyStore.splice(e,0,t.PropertyStore)}},{key:"RemoveAt",value:function RemoveAt(e){this.items.splice(e,1),this.propertyStore.splice(e,1)}},{key:"Clear",value:function Clear(){this.items.length=0,this.propertyStore.length=0}},{key:"length",value:function length(){return this.items.length}},{key:"pop",value:function pop(){return this.propertyStore.pop(),this.items.pop()}},{key:"push",value:function push(e){return this.propertyStore.push(e.PropertyStore),this.items.push(e)}},{key:"join",value:function join(e){var t=0<arguments.length&&void 0!==e?e:"";return this.items.join(t)}},{key:"shift",value:function shift(){return this.propertyStore.shift(),this.items.shift()}},{key:"slice",value:function slice(e,t){return this.items.slice(e,t)}},{key:"splice",value:function splice(e,t){return this.propertyStore.splice(e,t),this.items.splice(e,t)}},{key:"unshift",value:function unshift(e){return this.propertyStore.unshift(e.PropertyStore),this.items.unshift(e)}},{key:"indexOf",value:function indexOf(e,t){var r=1<arguments.length&&void 0!==t?t:0;return this.items.indexOf(e,r)}},{key:"init",value:function init(e){var t=!0,r=!1,n=void 0;try{for(var o,i=this.propertyStore[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.items.push(new e(a))}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"Provider",get:function get(){return this.provider}},{key:"Count",get:function get(){return this.items.length}}]),ReportObjectCollection}();function ComponentWrapper_typeof(e){return(ComponentWrapper_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ComponentWrapper_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ComponentWrapper_possibleConstructorReturn(e,t){return!t||"object"!==ComponentWrapper_typeof(t)&&"function"!=typeof t?function ComponentWrapper_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ComponentWrapper_getPrototypeOf(e){return(ComponentWrapper_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ComponentWrapper_setPrototypeOf(e,t){return(ComponentWrapper_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var O=function(){function ComponentWrapper(e,t,r,n){var o;return function ComponentWrapper_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ComponentWrapper),(o=ComponentWrapper_possibleConstructorReturn(this,ComponentWrapper_getPrototypeOf(ComponentWrapper).call(this,e,t,r,!1))).component=n||t,o}return function ComponentWrapper_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ComponentWrapper_setPrototypeOf(e,t)}(ComponentWrapper,S),function ComponentWrapper_createClass(e,t,r){return t&&ComponentWrapper_defineProperties(e.prototype,t),r&&ComponentWrapper_defineProperties(e,r),e}(ComponentWrapper,[{key:"CanContain",value:function CanContain(){return!1}},{key:"Component",get:function get(){return this.component}}]),ComponentWrapper}();function ClientComponentWrapper_typeof(e){return(ClientComponentWrapper_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ClientComponentWrapper_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ClientComponentWrapper_possibleConstructorReturn(e,t){return!t||"object"!==ClientComponentWrapper_typeof(t)&&"function"!=typeof t?function ClientComponentWrapper_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ClientComponentWrapper_getPrototypeOf(e){return(ClientComponentWrapper_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ClientComponentWrapper_setPrototypeOf(e,t){return(ClientComponentWrapper_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var E=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},k=function(){function ClientComponentWrapper(e,t,r){var n;return function ClientComponentWrapper_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ClientComponentWrapper),(n=ClientComponentWrapper_possibleConstructorReturn(this,ClientComponentWrapper_getPrototypeOf(ClientComponentWrapper).call(this,e,t,r,t))).clientPropertyStore=e,n}return function ClientComponentWrapper_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ClientComponentWrapper_setPrototypeOf(e,t)}(ClientComponentWrapper,O),function ClientComponentWrapper_createClass(e,t,r){return t&&ClientComponentWrapper_defineProperties(e.prototype,t),r&&ClientComponentWrapper_defineProperties(e,r),e}(ClientComponentWrapper,[{key:"Initialize",value:function Initialize(){return E(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.GetType(),(r=this.provider.GetService(I.ISchemaService)).TypeSchemaExists(t)||r.SetTypeSchema(t,this.getTypeSchema()),e.next=5,this.InitializeBase(this.GetType());case 5:case"end":return e.stop()}},_callee,this)}))}},{key:"getTypeSchema",value:function getTypeSchema(){return{Type:this.GetType(),Properties:this.clientPropertyStore}}}]),ClientComponentWrapper}();function Grouping_typeof(e){return(Grouping_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Grouping_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Grouping_possibleConstructorReturn(e,t){return!t||"object"!==Grouping_typeof(t)&&"function"!=typeof t?function Grouping_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Grouping_getPrototypeOf(e){return(Grouping_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Grouping_setPrototypeOf(e,t){return(Grouping_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var T=function(){function Grouping(e,t,r){var n;return function Grouping_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Grouping),(n=Grouping_possibleConstructorReturn(this,Grouping_getPrototypeOf(Grouping).call(this,e,t,r))).PropertyStore[G.NetType]||(n.PropertyStore[G.NetType]=_.Grouping),n.PropertyStore[G.Name]||(n.PropertyStore[G.Name]=n.namingService.CreateName(n.PropertyStore[G.NetType])),n}return function Grouping_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Grouping_setPrototypeOf(e,t)}(Grouping,k),function Grouping_createClass(e,t,r){return t&&Grouping_defineProperties(e.prototype,t),r&&Grouping_defineProperties(e,r),e}(Grouping,[{key:"GetType",value:function GetType(){return _.Grouping}},{key:"IsEmpty",get:function get(){return!this.PropertyStore.hasOwnProperty(G.Expression)}},{key:"Expression",get:function get(){return this.PropertyStore[G.Expression]},set:function set(e){this.PropertyStore[G.Expression]=e}}]),Grouping}();function GroupingCollection_typeof(e){return(GroupingCollection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GroupingCollection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GroupingCollection_possibleConstructorReturn(e,t){return!t||"object"!==GroupingCollection_typeof(t)&&"function"!=typeof t?function GroupingCollection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GroupingCollection_getPrototypeOf(e){return(GroupingCollection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GroupingCollection_setPrototypeOf(e,t){return(GroupingCollection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var D=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},x=function(){function GroupingCollection(e,t,r){var n;return function GroupingCollection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GroupingCollection),(n=GroupingCollection_possibleConstructorReturn(this,GroupingCollection_getPrototypeOf(GroupingCollection).call(this,e,T,t,r))).namingService=r.GetService(I.NamingService),n}return function GroupingCollection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GroupingCollection_setPrototypeOf(e,t)}(GroupingCollection,w),function GroupingCollection_createClass(e,t,r){return t&&GroupingCollection_defineProperties(e.prototype,t),r&&GroupingCollection_defineProperties(e,r),e}(GroupingCollection,[{key:"Initialize",value:function Initialize(){return D(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(t<this.items.length)return(r=this.items[t]).PropertyStore[G.Name]=this.namingService.CreateName(_.Grouping),e.next=6,r.Initialize();e.next=9;break;case 6:t++,e.next=1;break;case 9:case"end":return e.stop()}},_callee,this)}))}},{key:"init",value:function init(e){var t=!0,r=!1,n=void 0;try{for(var o,i=this.propertyStore[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.items.push(new e(a,this.parent,this.provider))}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}}]),GroupingCollection}();function SortDirection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var R=function(){function SortDirection(){!function SortDirection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SortDirection)}return function SortDirection_createClass(e,t,r){return t&&SortDirection_defineProperties(e.prototype,t),r&&SortDirection_defineProperties(e,r),e}(SortDirection,null,[{key:"Asc",get:function get(){return"Asc"}},{key:"Desc",get:function get(){return"Desc"}}]),SortDirection}();function Sorting_typeof(e){return(Sorting_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sorting_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Sorting_possibleConstructorReturn(e,t){return!t||"object"!==Sorting_typeof(t)&&"function"!=typeof t?function Sorting_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Sorting_getPrototypeOf(e){return(Sorting_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sorting_setPrototypeOf(e,t){return(Sorting_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var N=function(){function Sorting(e,t,r){var n;return function Sorting_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Sorting),(n=Sorting_possibleConstructorReturn(this,Sorting_getPrototypeOf(Sorting).call(this,e,t,r))).PropertyStore[G.NetType]||(n.PropertyStore[G.NetType]=_.Sorting),n.PropertyStore[G.Name]||(n.PropertyStore[G.Name]=n.namingService.CreateName(n.PropertyStore[G.NetType])),n}return function Sorting_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sorting_setPrototypeOf(e,t)}(Sorting,k),function Sorting_createClass(e,t,r){return t&&Sorting_defineProperties(e.prototype,t),r&&Sorting_defineProperties(e,r),e}(Sorting,[{key:"GetType",value:function GetType(){return _.Sorting}},{key:"IsEmpty",get:function get(){return!this.PropertyStore.hasOwnProperty(G.Expression)}},{key:"Expression",get:function get(){return this.PropertyStore[G.Expression]},set:function set(e){this.PropertyStore[G.Expression]=e}},{key:"Direction",get:function get(){return this.PropertyStore[G.Direction]||R.Asc},set:function set(e){this.PropertyStore[G.Direction]=e}}]),Sorting}();function SortingCollection_typeof(e){return(SortingCollection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SortingCollection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SortingCollection_possibleConstructorReturn(e,t){return!t||"object"!==SortingCollection_typeof(t)&&"function"!=typeof t?function SortingCollection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SortingCollection_getPrototypeOf(e){return(SortingCollection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SortingCollection_setPrototypeOf(e,t){return(SortingCollection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var H=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},L=function(){function SortingCollection(e,t,r){var n;return function SortingCollection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SortingCollection),(n=SortingCollection_possibleConstructorReturn(this,SortingCollection_getPrototypeOf(SortingCollection).call(this,e,N,t,r))).namingService=r.GetService(I.NamingService),n}return function SortingCollection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SortingCollection_setPrototypeOf(e,t)}(SortingCollection,w),function SortingCollection_createClass(e,t,r){return t&&SortingCollection_defineProperties(e.prototype,t),r&&SortingCollection_defineProperties(e,r),e}(SortingCollection,[{key:"Initialize",value:function Initialize(){return H(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(t<this.items.length)return(r=this.items[t]).PropertyStore[G.Name]=this.namingService.CreateName(_.Sorting),e.next=6,r.Initialize();e.next=9;break;case 6:t++,e.next=1;break;case 9:case"end":return e.stop()}},_callee,this)}))}},{key:"init",value:function init(e){var t=!0,r=!1,n=void 0;try{for(var o,i=this.propertyStore[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.items.push(new e(a,this.parent,this.provider))}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}}]),SortingCollection}();function Filter_typeof(e){return(Filter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Filter_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Filter_possibleConstructorReturn(e,t){return!t||"object"!==Filter_typeof(t)&&"function"!=typeof t?function Filter_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Filter_getPrototypeOf(e){return(Filter_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Filter_setPrototypeOf(e,t){return(Filter_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var V=function(){function Filter(e,t,r){return function Filter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Filter),Filter_possibleConstructorReturn(this,Filter_getPrototypeOf(Filter).call(this,e,t,r))}return function Filter_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Filter_setPrototypeOf(e,t)}(Filter,k),function Filter_createClass(e,t,r){return t&&Filter_defineProperties(e.prototype,t),r&&Filter_defineProperties(e,r),e}(Filter,[{key:"GetType",value:function GetType(){return _.Filter}},{key:"IsEmpty",get:function get(){return!this.PropertyStore.hasOwnProperty(G.Expression)}},{key:"Expression",get:function get(){return this.PropertyStore[G.Expression]},set:function set(e){this.PropertyStore[G.Expression]=e}},{key:"Operator",get:function get(){return this.PropertyStore[G.Operator]},set:function set(e){this.PropertyStore[G.Operator]=e}},{key:"Value",get:function get(){return this.PropertyStore[G.Value]},set:function set(e){this.PropertyStore[G.Value]=e}}]),Filter}();function FilterCollection_typeof(e){return(FilterCollection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FilterCollection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FilterCollection_possibleConstructorReturn(e,t){return!t||"object"!==FilterCollection_typeof(t)&&"function"!=typeof t?function FilterCollection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function FilterCollection_getPrototypeOf(e){return(FilterCollection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FilterCollection_setPrototypeOf(e,t){return(FilterCollection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var W=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},z=function(){function FilterCollection(e,t,r){var n;return function FilterCollection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FilterCollection),(n=FilterCollection_possibleConstructorReturn(this,FilterCollection_getPrototypeOf(FilterCollection).call(this,e,V,t,r))).namingService=r.GetService(I.NamingService),n}return function FilterCollection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FilterCollection_setPrototypeOf(e,t)}(FilterCollection,w),function FilterCollection_createClass(e,t,r){return t&&FilterCollection_defineProperties(e.prototype,t),r&&FilterCollection_defineProperties(e,r),e}(FilterCollection,[{key:"Initialize",value:function Initialize(){return W(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(t<this.items.length)return(r=this.items[t]).PropertyStore[G.Name]=this.namingService.CreateName(_.Filter),e.next=6,r.Initialize();e.next=9;break;case 6:t++,e.next=1;break;case 9:case"end":return e.stop()}},_callee,this)}))}},{key:"init",value:function init(e){var t=!0,r=!1,n=void 0;try{for(var o,i=this.propertyStore[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.items.push(new e(a,this.parent,this.provider))}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}}]),FilterCollection}();function DataItem_typeof(e){return(DataItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DataItem_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DataItem_getPrototypeOf(e){return(DataItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DataItem_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DataItem_setPrototypeOf(e,t){return(DataItem_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var F=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},U=function(){function DataItem(e,t,r){var n,o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return function DataItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DataItem),(n=function DataItem_possibleConstructorReturn(e,t){return!t||"object"!==DataItem_typeof(t)&&"function"!=typeof t?DataItem_assertThisInitialized(e):t}(this,DataItem_getPrototypeOf(DataItem).call(this,e,t,r,o))).Groupings=new x(p.ResolvePropertyStore(n.PropertyStore,G.Groupings,function(){return[]}),DataItem_assertThisInitialized(n),r),n.Sortings=new L(p.ResolvePropertyStore(n.PropertyStore,G.Sortings,function(){return[]}),DataItem_assertThisInitialized(n),r),n.Filters=new z(p.ResolvePropertyStore(n.PropertyStore,G.Filters,function(){return[]}),DataItem_assertThisInitialized(n),r),n}return function DataItem_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DataItem_setPrototypeOf(e,t)}(DataItem,P),function DataItem_createClass(e,t,r){return t&&DataItem_defineProperties(e.prototype,t),r&&DataItem_defineProperties(e,r),e}(DataItem,[{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return F(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.CreateChildComponentsFromPropertyStoreDataItem();case 2:case"end":return e.stop()}},_callee,this)}))}},{key:"CreateChildComponentsFromPropertyStoreDataItem",value:function CreateChildComponentsFromPropertyStoreDataItem(){return F(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.CreateChildComponentsFromPropertyStoreReportItemBase();case 2:return e.next=4,this.Groupings.Initialize();case 4:return e.next=6,this.Sortings.Initialize();case 6:return e.next=8,this.Filters.Initialize();case 8:case"end":return e.stop()}},_callee2,this)}))}},{key:"Accept",value:function Accept(e){e.VisitDataItem(this)}},{key:"DataSourceName",get:function get(){return this.PropertyStore[G.DataSourceName]},set:function set(e){var t,r=this.provider.GetService(I.IDesignerHost);if(r.InTransaction||(t=r.CreateTransaction("Change property '".concat(G.DataSourceName,"' of '").concat(this.Name,"'"))),this.provider.GetService(I.IComponentChangeService).OnComponentChanging(this,null),e){var n=this.PropertyStore[G.DataSourceName];this.PropertyStore[G.DataSourceName]=e,this.RaiseComponentChanged(null,n,e)}else{var o=this.PropertyStore[G.DataSourceName];delete this.PropertyStore[G.DataSourceName],this.RaiseComponentChanged(null,o,void 0)}t&&t.Commit()}}]),DataItem}();function Measure_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var q=function(){function Measure(e){if(!function Measure_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Measure),this.DataType=this.shortenDataType(e[G.DataType]),this.Expandable=e[G.IsExpandable],this.Name=e[G.Name],this.Measures=[],e[G.Measures]){var t=!0,r=!1,n=void 0;try{for(var o,i=e[G.Measures][Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.Measures.push(new Measure(a))}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}}return function Measure_createClass(e,t,r){return t&&Measure_defineProperties(e.prototype,t),r&&Measure_defineProperties(e,r),e}(Measure,[{key:"shortenDataType",value:function shortenDataType(e){if(e){var t=e.indexOf(",");if(-1<t)return e.substring(0,t).replace("System.","")}return e}}]),Measure}();function iia(e){!function DataModelElement_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,iia),this.Name=e[G.Name],this.Expression=e[G.Expression],this.Parent=e[G.Parent],this.Description=e[G.Description],this.Measures=[];var t=e[G.Measures];if(t&&t.length){var r=!0,n=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;this.Measures.push(new q(s))}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}}function DataSource_typeof(e){return(DataSource_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DataSource_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DataSource_getPrototypeOf(e){return(DataSource_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DataSource_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DataSource_setPrototypeOf(e,t){return(DataSource_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var J=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},K=function(){function DataSource(e,t,r){var n;(function DataSource_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,DataSource),(n=function DataSource_possibleConstructorReturn(e,t){return!t||"object"!==DataSource_typeof(t)&&"function"!=typeof t?DataSource_assertThisInitialized(e):t}(this,DataSource_getPrototypeOf(DataSource).call(this,e,t,r,!1))).Parameters=[],n.CalculatedFields=[],n.DataModel=n.createEmptyDataModel(),t&&(t.DataSources.push(DataSource_assertThisInitialized(n)),t.PropertyStore[G.DataSources].includes(n.PropertyStore)||t.PropertyStore[G.DataSources].push(n.PropertyStore));return n}return function DataSource_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DataSource_setPrototypeOf(e,t)}(DataSource,S),function DataSource_createClass(e,t,r){return t&&DataSource_defineProperties(e.prototype,t),r&&DataSource_defineProperties(e,r),e}(DataSource,[{key:"createEmptyDataModel",value:function createEmptyDataModel(){return new iia({})}},{key:"CanContain",value:function CanContain(){return!1}},{key:"Accept",value:function Accept(e){e.VisitDataSource(this)}},{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return J(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.CreateChildComponentsFromPropertyStoreDataSource();case 2:case"end":return e.stop()}},_callee,this)}))}},{key:"CreateChildComponentsFromPropertyStoreDataSource",value:function CreateChildComponentsFromPropertyStoreDataSource(){return J(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createParameters();case 2:return e.next=4,this.createCalculatedFields();case 4:return e.next=6,this.TryInitializeDataModel();case 6:case"end":return e.stop()}},_callee2,this)}))}},{key:"TryInitializeDataModel",value:function TryInitializeDataModel(){return J(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(this.CanLoadDataModel())return e.next=3,this.loadDataModel();e.next=6;break;case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=this.createEmptyDataModel();case 7:this.DataModel=e.t0;case 8:case"end":return e.stop()}},_callee3,this)}))}},{key:"loadDataModel",value:function loadDataModel(){return J(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r,n,o,i,a,s;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return r=this.provider.GetService(I.ISqlDataConnectionService),n=this.Parent,o=n.getValueRaw(G.SchemaKey),i={},jQuery.extend(i,this.PropertyStore,_defineProperty({},G.SchemaKey,o)),_defineProperty(t={},G.NetType,this.Type),_defineProperty(t,G.DataSource,i),a=t,e.prev=6,e.next=9,r.GetDataModel(a).then(function(e){return e.json()});case 9:return s=e.sent,e.abrupt("return",new iia(s));case 13:return e.prev=13,e.t0=e.catch(6),this.provider.GetService(I.Notifications).Error('An error occurred while loading the data schema for "'.concat(this.Name,'": ').concat(e.t0.message),e.t0),e.abrupt("return",this.createEmptyDataModel());case 18:case"end":return e.stop()}},_callee4,this,[[6,13]])}))}},{key:"createParameters",value:function createParameters(){return J(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:this.createCollectionPropertyComponents(G.DataSourceParameters,this.Parameters);case 1:case"end":return e.stop()}},_callee5,this)}))}},{key:"createCalculatedFields",value:function createCalculatedFields(){return J(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:this.createCollectionPropertyComponents(G.CalculatedFields,this.CalculatedFields);case 1:case"end":return e.stop()}},_callee6,this)}))}},{key:"Delete",value:function Delete(){var e=this.Parent,t=e.DataSources.indexOf(this);e.DataSources.splice(t,1);var r=e.PropertyStore[G.DataSources],n=r.indexOf(this.PropertyStore);r.splice(n,1);var o=this.provider.GetService(I.IDesignerHost),i=!0,a=!1,s=void 0;try{for(var c,u=o.Components[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value;l instanceof U&&l.DataSourceName===this.Name&&(l.DataSourceName=null)}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}var p=!0,f=!1,d=void 0;try{for(var y,h=e.ReportParameters[Symbol.iterator]();!(p=(y=h.next()).done);p=!0){var m=y.value,g=m.PropertyStore[G.AvailableValues];g&&g[G.DataSourceName]===this.Name&&delete m.PropertyStore[G.AvailableValues]}}catch(e){f=!0,d=e}finally{try{p||null==h.return||h.return()}finally{if(f)throw d}}this.Designer.Dispose(),this.provider.GetService(I.IComponentChangeService).OnComponentRemoved(this)}}]),DataSource}();function ReportSectionBase_typeof(e){return(ReportSectionBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportSectionBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ReportSectionBase_possibleConstructorReturn(e,t){return!t||"object"!==ReportSectionBase_typeof(t)&&"function"!=typeof t?function ReportSectionBase_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ReportSectionBase_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function ReportSectionBase_getPrototypeOf(e){return(ReportSectionBase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportSectionBase_setPrototypeOf(e,t){return(ReportSectionBase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Q=function(){function ReportSectionBase(){return function ReportSectionBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportSectionBase),ReportSectionBase_possibleConstructorReturn(this,ReportSectionBase_getPrototypeOf(ReportSectionBase).apply(this,arguments))}return function ReportSectionBase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportSectionBase_setPrototypeOf(e,t)}(ReportSectionBase,A),function ReportSectionBase_createClass(e,t,r){return t&&ReportSectionBase_defineProperties(e.prototype,t),r&&ReportSectionBase_defineProperties(e,r),e}(ReportSectionBase,[{key:"CanContain",value:function CanContain(e){var t=this.InstanceFactory.GetInstanceModel(e);return!!(t&&t instanceof P)&&_get(ReportSectionBase_getPrototypeOf(ReportSectionBase.prototype),"CanContain",this).call(this,e)}},{key:"Accept",value:function Accept(e){e.VisitReportSectionBase(this)}}]),ReportSectionBase}();function ReportSection_typeof(e){return(ReportSection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportSection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ReportSection_possibleConstructorReturn(e,t){return!t||"object"!==ReportSection_typeof(t)&&"function"!=typeof t?function ReportSection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportSection_getPrototypeOf(e){return(ReportSection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportSection_setPrototypeOf(e,t){return(ReportSection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Z=function(){function ReportSection(){return function ReportSection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportSection),ReportSection_possibleConstructorReturn(this,ReportSection_getPrototypeOf(ReportSection).apply(this,arguments))}return function ReportSection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportSection_setPrototypeOf(e,t)}(ReportSection,Q),function ReportSection_createClass(e,t,r){return t&&ReportSection_defineProperties(e.prototype,t),r&&ReportSection_defineProperties(e,r),e}(ReportSection,[{key:"Accept",value:function Accept(e){e.VisitReportSection(this)}}]),ReportSection}();function DetailSection_typeof(e){return(DetailSection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DetailSection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DetailSection_possibleConstructorReturn(e,t){return!t||"object"!==DetailSection_typeof(t)&&"function"!=typeof t?function DetailSection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function DetailSection_getPrototypeOf(e){return(DetailSection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DetailSection_setPrototypeOf(e,t){return(DetailSection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var X=function(){function DetailSection(){return function DetailSection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DetailSection),DetailSection_possibleConstructorReturn(this,DetailSection_getPrototypeOf(DetailSection).apply(this,arguments))}return function DetailSection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DetailSection_setPrototypeOf(e,t)}(DetailSection,Z),function DetailSection_createClass(e,t,r){return t&&DetailSection_defineProperties(e.prototype,t),r&&DetailSection_defineProperties(e,r),e}(DetailSection,[{key:"Accept",value:function Accept(e){e.VisitDetailSection(this)}},{key:"CanDelete",value:function CanDelete(){return!1}}]),DetailSection}();function GroupSection_typeof(e){return(GroupSection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GroupSection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GroupSection_possibleConstructorReturn(e,t){return!t||"object"!==GroupSection_typeof(t)&&"function"!=typeof t?function GroupSection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GroupSection_getPrototypeOf(e){return(GroupSection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GroupSection_setPrototypeOf(e,t){return(GroupSection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Y=function(){function GroupSection(e,t,r){return function GroupSection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GroupSection),GroupSection_possibleConstructorReturn(this,GroupSection_getPrototypeOf(GroupSection).call(this,e,t,r,!0))}return function GroupSection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GroupSection_setPrototypeOf(e,t)}(GroupSection,Z),function GroupSection_createClass(e,t,r){return t&&GroupSection_defineProperties(e.prototype,t),r&&GroupSection_defineProperties(e,r),e}(GroupSection,[{key:"Accept",value:function Accept(e){e.VisitGroupSection(this)}},{key:"CanDelete",value:function CanDelete(){return!1}}]),GroupSection}();function Subreport_typeof(e){return(Subreport_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Subreport_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Subreport_possibleConstructorReturn(e,t){return!t||"object"!==Subreport_typeof(t)&&"function"!=typeof t?function Subreport_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Subreport_getPrototypeOf(e){return(Subreport_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Subreport_setPrototypeOf(e,t){return(Subreport_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ee=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},te=function(){function SubReport(e,t,r){var n;return function Subreport_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SubReport),(n=Subreport_possibleConstructorReturn(this,Subreport_getPrototypeOf(SubReport).call(this,e,t,r))).reportSourceParameters=[],n}return function Subreport_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Subreport_setPrototypeOf(e,t)}(SubReport,P),function Subreport_createClass(e,t,r){return t&&Subreport_defineProperties(e.prototype,t),r&&Subreport_defineProperties(e,r),e}(SubReport,[{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return ee(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.CreateChildComponentsFromPropertyStoreReportItemBase();case 2:return e.next=4,this.createReportSourceParameters();case 4:case"end":return e.stop()}},_callee,this)}))}},{key:"createReportSourceParameters",value:function createReportSourceParameters(){return ee(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r,n,o,i,a,s,c,u;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.PropertyStore[G.ReportSource])){e.next=33;break}if(!(r=t[G.Parameters])||0!==this.reportSourceParameters.length){e.next=33;break}o=!(n=!0),i=void 0,e.prev=7,a=r[Symbol.iterator]();case 9:if(n=(s=a.next()).done){e.next=19;break}return(c=s.value)[G.Name]||(c[G.Name]=this.namingService.CreateName(c[G.NetType])),e.next=14,this.CreateNonChildComponent(c);case 14:(u=e.sent)&&this.reportSourceParameters.push(u);case 16:n=!0,e.next=9;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(7),o=!0,i=e.t0;case 25:e.prev=25,e.prev=26,n||null==a.return||a.return();case 28:if(e.prev=28,o)throw i;e.next=31;break;case 31:return e.finish(28);case 32:return e.finish(25);case 33:case"end":return e.stop()}},_callee2,this,[[7,21,25,33],[26,,28,32]])}))}},{key:"Accept",value:function Accept(e){e.VisitSubreport(this)}},{key:"Parameters",get:function get(){return this.reportSourceParameters}}]),SubReport}();function PageSection_typeof(e){return(PageSection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PageSection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PageSection_possibleConstructorReturn(e,t){return!t||"object"!==PageSection_typeof(t)&&"function"!=typeof t?function PageSection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PageSection_get(e,t,r){return(PageSection_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function PageSection_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PageSection_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function PageSection_getPrototypeOf(e){return(PageSection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PageSection_setPrototypeOf(e,t){return(PageSection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var re=function(){function PageSection(){return function PageSection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PageSection),PageSection_possibleConstructorReturn(this,PageSection_getPrototypeOf(PageSection).apply(this,arguments))}return function PageSection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PageSection_setPrototypeOf(e,t)}(PageSection,Q),function PageSection_createClass(e,t,r){return t&&PageSection_defineProperties(e.prototype,t),r&&PageSection_defineProperties(e,r),e}(PageSection,[{key:"CanContain",value:function CanContain(e){var t=this.InstanceFactory.GetInstanceModel(e);return!(!t||t instanceof U||t instanceof te)&&PageSection_get(PageSection_getPrototypeOf(PageSection.prototype),"CanContain",this).call(this,e)}},{key:"Accept",value:function Accept(e){e.VisitPageSection(this)}}]),PageSection}();function PageFooterSection_typeof(e){return(PageFooterSection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PageFooterSection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PageFooterSection_possibleConstructorReturn(e,t){return!t||"object"!==PageFooterSection_typeof(t)&&"function"!=typeof t?function PageFooterSection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PageFooterSection_getPrototypeOf(e){return(PageFooterSection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PageFooterSection_setPrototypeOf(e,t){return(PageFooterSection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ne=function(){function PageFooterSection(){return function PageFooterSection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PageFooterSection),PageFooterSection_possibleConstructorReturn(this,PageFooterSection_getPrototypeOf(PageFooterSection).apply(this,arguments))}return function PageFooterSection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PageFooterSection_setPrototypeOf(e,t)}(PageFooterSection,re),function PageFooterSection_createClass(e,t,r){return t&&PageFooterSection_defineProperties(e.prototype,t),r&&PageFooterSection_defineProperties(e,r),e}(PageFooterSection,[{key:"Accept",value:function Accept(e){e.VisitPageFooterSection(this)}}]),PageFooterSection}();function PageHeaderSection_typeof(e){return(PageHeaderSection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PageHeaderSection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PageHeaderSection_possibleConstructorReturn(e,t){return!t||"object"!==PageHeaderSection_typeof(t)&&"function"!=typeof t?function PageHeaderSection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PageHeaderSection_getPrototypeOf(e){return(PageHeaderSection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PageHeaderSection_setPrototypeOf(e,t){return(PageHeaderSection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var oe=function(){function PageHeaderSection(){return function PageHeaderSection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PageHeaderSection),PageHeaderSection_possibleConstructorReturn(this,PageHeaderSection_getPrototypeOf(PageHeaderSection).apply(this,arguments))}return function PageHeaderSection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PageHeaderSection_setPrototypeOf(e,t)}(PageHeaderSection,re),function PageHeaderSection_createClass(e,t,r){return t&&PageHeaderSection_defineProperties(e.prototype,t),r&&PageHeaderSection_defineProperties(e,r),e}(PageHeaderSection,[{key:"Accept",value:function Accept(e){e.VisitPageHeaderSection(this)}}]),PageHeaderSection}();function ReportFooterSection_typeof(e){return(ReportFooterSection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportFooterSection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ReportFooterSection_possibleConstructorReturn(e,t){return!t||"object"!==ReportFooterSection_typeof(t)&&"function"!=typeof t?function ReportFooterSection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportFooterSection_getPrototypeOf(e){return(ReportFooterSection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportFooterSection_setPrototypeOf(e,t){return(ReportFooterSection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ie=function(){function ReportFooterSection(){return function ReportFooterSection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportFooterSection),ReportFooterSection_possibleConstructorReturn(this,ReportFooterSection_getPrototypeOf(ReportFooterSection).apply(this,arguments))}return function ReportFooterSection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportFooterSection_setPrototypeOf(e,t)}(ReportFooterSection,Z),function ReportFooterSection_createClass(e,t,r){return t&&ReportFooterSection_defineProperties(e.prototype,t),r&&ReportFooterSection_defineProperties(e,r),e}(ReportFooterSection,[{key:"Accept",value:function Accept(e){e.VisitReportFooterSection(this)}}]),ReportFooterSection}();function ReportHeaderSection_typeof(e){return(ReportHeaderSection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportHeaderSection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ReportHeaderSection_possibleConstructorReturn(e,t){return!t||"object"!==ReportHeaderSection_typeof(t)&&"function"!=typeof t?function ReportHeaderSection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportHeaderSection_getPrototypeOf(e){return(ReportHeaderSection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportHeaderSection_setPrototypeOf(e,t){return(ReportHeaderSection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ae=function(){function ReportHeaderSection(){return function ReportHeaderSection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportHeaderSection),ReportHeaderSection_possibleConstructorReturn(this,ReportHeaderSection_getPrototypeOf(ReportHeaderSection).apply(this,arguments))}return function ReportHeaderSection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportHeaderSection_setPrototypeOf(e,t)}(ReportHeaderSection,Z),function ReportHeaderSection_createClass(e,t,r){return t&&ReportHeaderSection_defineProperties(e.prototype,t),r&&ReportHeaderSection_defineProperties(e,r),e}(ReportHeaderSection,[{key:"Accept",value:function Accept(e){e.VisitReportHeaderSection(this)}}]),ReportHeaderSection}();function TocLevel_typeof(e){return(TocLevel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TocLevel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TocLevel_possibleConstructorReturn(e,t){return!t||"object"!==TocLevel_typeof(t)&&"function"!=typeof t?function TocLevel_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TocLevel_getPrototypeOf(e){return(TocLevel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TocLevel_setPrototypeOf(e,t){return(TocLevel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var se=function(){function TocLevel(){return function TocLevel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TocLevel),TocLevel_possibleConstructorReturn(this,TocLevel_getPrototypeOf(TocLevel).apply(this,arguments))}return function TocLevel_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TocLevel_setPrototypeOf(e,t)}(TocLevel,S),function TocLevel_createClass(e,t,r){return t&&TocLevel_defineProperties(e.prototype,t),r&&TocLevel_defineProperties(e,r),e}(TocLevel,[{key:"CanContain",value:function CanContain(){return!1}},{key:"Accept",value:function Accept(e){e.VisitTocLevel(this)}},{key:"LeaderSymbol",get:function get(){return this.PropertyStore[G.LeaderSymbol]||"."}},{key:"Width",get:function get(){var e=this.GetProperty(G.Width);return j.Parse(e.GetValue(this,this.PropertyStore))}},{key:"Height",get:function get(){var e=this.GetProperty(G.Height);return j.Parse(e.GetValue(this,this.PropertyStore))}},{key:"Size",get:function get(){return new M(this.Width,this.Height)},set:function set(e){var t=this.GetProperty(G.Width),r=this.GetProperty(G.Height);t.SetValue(e.Width.ToString(),this,this.PropertyStore),r.SetValue(e.Height.ToString(),this,this.PropertyStore)}},{key:"Visible",get:function get(){return this.GetProperty(G.Visible).GetValue(this,this.PropertyStore)}}]),TocLevel}();function TocSection_typeof(e){return(TocSection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TocSection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TocSection_possibleConstructorReturn(e,t){return!t||"object"!==TocSection_typeof(t)&&"function"!=typeof t?function TocSection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TocSection_getPrototypeOf(e){return(TocSection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TocSection_setPrototypeOf(e,t){return(TocSection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ce=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},ue=function(){function TocSection(e,t,r){return function TocSection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TocSection),TocSection_possibleConstructorReturn(this,TocSection_getPrototypeOf(TocSection).call(this,e,t,r))}return function TocSection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TocSection_setPrototypeOf(e,t)}(TocSection,Z),function TocSection_createClass(e,t,r){return t&&TocSection_defineProperties(e.prototype,t),r&&TocSection_defineProperties(e,r),e}(TocSection,[{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return ce(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o,i,a;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.CreateChildComponentsFromPropertyStoreReportItemBase();case 2:if(!this.PropertyStore[G.Levels]){e.next=29;break}r=!(t=!0),n=void 0,e.prev=6,o=this.PropertyStore[G.Levels][Symbol.iterator]();case 8:if(t=(i=o.next()).done){e.next=15;break}return a=i.value,e.next=12,this.CreateChildComponent(a);case 12:t=!0,e.next=8;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),r=!0,n=e.t0;case 21:e.prev=21,e.prev=22,t||null==o.return||o.return();case 24:if(e.prev=24,r)throw n;e.next=27;break;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}},_callee,this,[[6,17,21,29],[22,,24,28]])}))}},{key:"AddItem",value:function AddItem(e,t){var r=this.PropertyStore;void 0===r[G.Levels]&&(r[G.Levels]=[]);var n=r.Items;t?n.push(e):n.splice(0,0,e)}},{key:"RemoveItem",value:function RemoveItem(e){var t=this.PropertyStore,r=t[G.Levels];if(r){var n=r.indexOf(e);-1<n&&(r.splice(n,1),0===r.length&&delete t[G.Levels])}}},{key:"CanContain",value:function CanContain(e){var t=this.InstanceFactory.GetInstanceModel(e);return!!(t&&t instanceof se)}},{key:"Accept",value:function Accept(e){e.VisitTocSection(this)}},{key:"Title",get:function get(){return this.PropertyStore[G.Title]||""}},{key:"TitleStyle",get:function get(){return this.PropertyStore[G.TitleStyle]}},{key:"Levels",get:function get(){return this.Children}}]),TocSection}();function TocPosition_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var le=function(){function TocPosition(){!function TocPosition_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TocPosition)}return function TocPosition_createClass(e,t,r){return t&&TocPosition_defineProperties(e.prototype,t),r&&TocPosition_defineProperties(e,r),e}(TocPosition,null,[{key:"BeforeReportHeader",get:function get(){return"BeforeReportHeader"}},{key:"AfterReportHeader",get:function get(){return"AfterReportHeader"}},{key:"BeforeReportFooter",get:function get(){return"BeforeReportFooter"}},{key:"AfterReportFooter",get:function get(){return"AfterReportFooter"}}]),TocPosition}();function GroupHeaderSection_typeof(e){return(GroupHeaderSection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GroupHeaderSection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GroupHeaderSection_possibleConstructorReturn(e,t){return!t||"object"!==GroupHeaderSection_typeof(t)&&"function"!=typeof t?function GroupHeaderSection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GroupHeaderSection_getPrototypeOf(e){return(GroupHeaderSection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GroupHeaderSection_setPrototypeOf(e,t){return(GroupHeaderSection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var pe=function(){function GroupHeaderSection(){return function GroupHeaderSection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GroupHeaderSection),GroupHeaderSection_possibleConstructorReturn(this,GroupHeaderSection_getPrototypeOf(GroupHeaderSection).apply(this,arguments))}return function GroupHeaderSection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GroupHeaderSection_setPrototypeOf(e,t)}(GroupHeaderSection,Y),function GroupHeaderSection_createClass(e,t,r){return t&&GroupHeaderSection_defineProperties(e.prototype,t),r&&GroupHeaderSection_defineProperties(e,r),e}(GroupHeaderSection,[{key:"Accept",value:function Accept(e){e.VisitGroupHeaderSection(this)}}]),GroupHeaderSection}();function GroupFooterSection_typeof(e){return(GroupFooterSection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GroupFooterSection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GroupFooterSection_possibleConstructorReturn(e,t){return!t||"object"!==GroupFooterSection_typeof(t)&&"function"!=typeof t?function GroupFooterSection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GroupFooterSection_getPrototypeOf(e){return(GroupFooterSection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GroupFooterSection_setPrototypeOf(e,t){return(GroupFooterSection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var fe=function(){function GroupFooterSection(){return function GroupFooterSection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GroupFooterSection),GroupFooterSection_possibleConstructorReturn(this,GroupFooterSection_getPrototypeOf(GroupFooterSection).apply(this,arguments))}return function GroupFooterSection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GroupFooterSection_setPrototypeOf(e,t)}(GroupFooterSection,Y),function GroupFooterSection_createClass(e,t,r){return t&&GroupFooterSection_defineProperties(e.prototype,t),r&&GroupFooterSection_defineProperties(e,r),e}(GroupFooterSection,[{key:"Accept",value:function Accept(e){e.VisitGroupFooterSection(this)}}]),GroupFooterSection}();function Report_typeof(e){return(Report_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Report_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Report_possibleConstructorReturn(e,t){return!t||"object"!==Report_typeof(t)&&"function"!=typeof t?function Report_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Report_get(e,t,r){return(Report_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function Report_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Report_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Report_getPrototypeOf(e){return(Report_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Report_setPrototypeOf(e,t){return(Report_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var de=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},ye=function(){function Report(e,t,r){var n;return function Report_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Report),(n=Report_possibleConstructorReturn(this,Report_getPrototypeOf(Report).call(this,e,t,r))).DataSources=[],n.PropertyStore[G.DataSources]||(n.PropertyStore[G.DataSources]=[]),n.ReportParameters=[],n.StyleSheet=[],n.ExternalStyleSheets=[],n.Groups=[],n.Watermarks=[],n.StyleRulesCache=new WeakMap,n.height=j.Zero,n.sectionsOrder=[oe,ae,pe,X,fe,ie,ne],n}return function Report_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Report_setPrototypeOf(e,t)}(Report,U),function Report_createClass(e,t,r){return t&&Report_defineProperties(e.prototype,t),r&&Report_defineProperties(e,r),e}(Report,[{key:"ClearStyleRulesCache",value:function ClearStyleRulesCache(){this.StyleRulesCache=new WeakMap}},{key:"CanParent",value:function CanParent(t){var e=this.InstanceFactory.GetInstanceModel(t);return!!e&&(e instanceof K||e instanceof Q&&(e instanceof Y?Report_get(Report_getPrototypeOf(Report.prototype),"CanParent",this).call(this,t):!this.Children.some(function(e){return e.Type===t})))}},{key:"Accept",value:function Accept(e){e.VisitReport(this)}},{key:"RenderDesigner",value:function RenderDesigner(){var e=this.provider.GetService(I.DesignSurface);this.Designer.Render(e.VisualElement);var t=!0,r=!1,n=void 0;try{for(var o,i=this.Children[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.RenderDesigner()}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}this.TocSection&&this.Designer.UpdateChildrenOverlay()}},{key:"UpdateHeight",value:function UpdateHeight(){this.height=j.Zero;var e=!0,t=!1,r=void 0;try{for(var n,o=this.Children[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value,a=j.Parse(i.GetCascadingPropertyValue(G.Height));this.height=this.Height.Add(a)}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}}},{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return de(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createStyleSheet();case 2:return e.next=4,this.createExternalStyleSheets();case 4:return e.next=6,this.createSectionsFromItems();case 6:return e.next=8,this.createGroups();case 8:return this.UpdateHeight(),e.next=11,this.createDataSources();case 11:return e.next=13,this.createReportParameters();case 13:return e.next=15,this.createConditionalFormatting();case 15:return e.next=17,this.createWatermarks();case 17:return e.next=19,this.Groupings.Initialize();case 19:return e.next=21,this.Sortings.Initialize();case 21:return e.next=23,this.Filters.Initialize();case 23:case"end":return e.stop()}},_callee,this)}))}},{key:"createSectionsFromItems",value:function createSectionsFromItems(){return de(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r,n,o,i,a,s;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.PropertyStore[G.Items])){e.next=28;break}n=!(r=!0),o=void 0,e.prev=5,i=t[Symbol.iterator]();case 7:if(r=(a=i.next()).done){e.next=14;break}return s=a.value,e.next=11,this.CreateChildComponent(s);case 11:r=!0,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),n=!0,o=e.t0;case 20:e.prev=20,e.prev=21,r||null==i.return||i.return();case 23:if(e.prev=23,n)throw o;e.next=26;break;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},_callee2,this,[[5,16,20,28],[21,,23,27]])}))}},{key:"createDataSources",value:function createDataSources(){return de(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createCollectionPropertyComponents(G.DataSources,[]));case 1:case"end":return e.stop()}},_callee3,this)}))}},{key:"createReportParameters",value:function createReportParameters(){return de(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createCollectionPropertyComponents(G.ReportParameters,this.ReportParameters));case 1:case"end":return e.stop()}},_callee4,this)}))}},{key:"createStyleSheet",value:function createStyleSheet(){return de(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createCollectionPropertyComponents(G.StyleSheet,this.StyleSheet));case 1:case"end":return e.stop()}},_callee5,this)}))}},{key:"createExternalStyleSheets",value:function createExternalStyleSheets(){return de(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createCollectionPropertyComponents(G.ExternalStyleSheets,this.ExternalStyleSheets));case 1:case"end":return e.stop()}},_callee6,this)}))}},{key:"createGroups",value:function createGroups(){return de(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){return regeneratorRuntime.wrap(function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createCollectionPropertyComponents(G.Groups,this.Groups));case 1:case"end":return e.stop()}},_callee7,this)}))}},{key:"createWatermarks",value:function createWatermarks(){return de(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createCollectionPropertyComponents(G.Watermarks,this.Watermarks,this.PropertyStore[G.PageSettings]));case 1:case"end":return e.stop()}},_callee8,this)}))}},{key:"determineSectionsOrdering",value:function determineSectionsOrdering(e){if(!e)return this.sectionsOrder;var t=e.PropertyStore[G.Position]||le.BeforeReportHeader,r=this.sectionsOrder.slice(),n=0;switch(t){case le.BeforeReportHeader:n=r.indexOf(ae);break;case le.AfterReportHeader:n=r.indexOf(ae)+1;break;case le.BeforeReportFooter:n=r.indexOf(ie);break;case le.AfterReportFooter:n=r.indexOf(ie)+1;break;default:throw new Error("TocPosition not supported.")}return r.splice(n,0,ue),r}},{key:"AddChild",value:function AddChild(e){this.Children.push(e),this.SortSections()}},{key:"RemoveChildAndItem",value:function RemoveChildAndItem(e){e.IsChildOfParent&&Report_get(Report_getPrototypeOf(Report.prototype),"RemoveChildAndItem",this).call(this,e)}},{key:"SortSections",value:function SortSections(){var a=this,s=this.determineSectionsOrdering(this.TocSection);this.Children.sort(function(t,r){var n=t.constructor,o=r.constructor,e=0,i=0;if(n===o){if(n===pe)e=a.Groups.findIndex(function(e){return e.Header===t}),i=a.Groups.findIndex(function(e){return e.Header===r});else{if(n!==fe)throw new Error("Section ".concat(n.name," cannot be repeated."));i=a.Groups.findIndex(function(e){return e.Footer===t}),e=a.Groups.findIndex(function(e){return e.Footer===r})}e<0&&(e=Number.MAX_VALUE),i<0&&(i=Number.MAX_VALUE)}else e=s.findIndex(function(e){return e===n}),i=s.findIndex(function(e){return e===o});return i<e?1:-1})}},{key:"Height",get:function get(){return this.height}},{key:"PageHeaderSection",get:function get(){return this.Children.find(function(e){return e.Type===_.PageHeaderSection})}},{key:"TocSection",get:function get(){return this.Children.find(function(e){return e.Type===_.TocSection})}},{key:"ReportHeaderSection",get:function get(){return this.Children.find(function(e){return e.Type===_.ReportHeaderSection})}},{key:"DetailSection",get:function get(){return this.Children.find(function(e){return e.Type===_.DetailSection})}},{key:"ReportFooterSection",get:function get(){return this.Children.find(function(e){return e.Type===_.ReportFooterSection})}},{key:"PageFooterSection",get:function get(){return this.Children.find(function(e){return e.Type===_.PageFooterSection})}},{key:"UnitOfMeasure",get:function get(){return this.GetPropertyValue(G.UnitOfMeasure)}}]),Report}();function Eia(){!function CommandStatus_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Eia),this.Available=!1,this.Enabled=!1,this.Checked=!1}function CommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var he=function(){function CommandHandler(e){!function CommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CommandHandler),this.commandId=e,this.status=new Eia}return function CommandHandler_createClass(e,t,r){return t&&CommandHandler_defineProperties(e.prototype,t),r&&CommandHandler_defineProperties(e,r),e}(CommandHandler,[{key:"UpdateStatus",value:function UpdateStatus(e){e&&(this.status.Available=e.Available,this.status.Enabled=e.Enabled,this.status.Checked=e.Checked)}},{key:"Reset",value:function Reset(){}},{key:"CommandId",get:function get(){return this.commandId}},{key:"Status",get:function get(){return this.UpdateStatus(this.status),this.status}}]),CommandHandler}();function SelectionCommandHandlerBase_typeof(e){return(SelectionCommandHandlerBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SelectionCommandHandlerBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SelectionCommandHandlerBase_possibleConstructorReturn(e,t){return!t||"object"!==SelectionCommandHandlerBase_typeof(t)&&"function"!=typeof t?function SelectionCommandHandlerBase_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SelectionCommandHandlerBase_getPrototypeOf(e){return(SelectionCommandHandlerBase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SelectionCommandHandlerBase_setPrototypeOf(e,t){return(SelectionCommandHandlerBase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var me=function(){function SelectionCommandHandlerBase(e,t){var r;return function SelectionCommandHandlerBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SelectionCommandHandlerBase),(r=SelectionCommandHandlerBase_possibleConstructorReturn(this,SelectionCommandHandlerBase_getPrototypeOf(SelectionCommandHandlerBase).call(this,t))).Provider=e,r.Status.Available=!0,r.Status.Enabled=!0,r}return function SelectionCommandHandlerBase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SelectionCommandHandlerBase_setPrototypeOf(e,t)}(SelectionCommandHandlerBase,he),function SelectionCommandHandlerBase_createClass(e,t,r){return t&&SelectionCommandHandlerBase_defineProperties(e.prototype,t),r&&SelectionCommandHandlerBase_defineProperties(e,r),e}(SelectionCommandHandlerBase,[{key:"Reset",value:function Reset(){this.selectionService=null}},{key:"UpdateStatus",value:function UpdateStatus(e){e=e||this.status,this.SelectionService&&(e.Enabled=this.isValidSelection(this.selectionService.GetSelectedComponents()))}},{key:"IsValidSelectionCore",value:function IsValidSelectionCore(e){return!this.componentsContainReportItem(e)}},{key:"isValidSelection",value:function isValidSelection(e){return!(!e||0===e.length)&&this.IsValidSelectionCore(e)}},{key:"componentsContainReportItem",value:function componentsContainReportItem(e){var t=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){if(o.value instanceof ye)return!0}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return!1}},{key:"SelectionService",get:function get(){return this.selectionService||(this.selectionService=this.Provider.GetService(I.SelectionService)),this.selectionService}}]),SelectionCommandHandlerBase}();function ClipboardCommandHandler_typeof(e){return(ClipboardCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ClipboardCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ClipboardCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==ClipboardCommandHandler_typeof(t)&&"function"!=typeof t?function ClipboardCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ClipboardCommandHandler_getPrototypeOf(e){return(ClipboardCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ClipboardCommandHandler_setPrototypeOf(e,t){return(ClipboardCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ge=function(){function ClipboardCommandHandler(e,t){return function ClipboardCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ClipboardCommandHandler),ClipboardCommandHandler_possibleConstructorReturn(this,ClipboardCommandHandler_getPrototypeOf(ClipboardCommandHandler).call(this,e,t))}return function ClipboardCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ClipboardCommandHandler_setPrototypeOf(e,t)}(ClipboardCommandHandler,me),function ClipboardCommandHandler_createClass(e,t,r){return t&&ClipboardCommandHandler_defineProperties(e.prototype,t),r&&ClipboardCommandHandler_defineProperties(e,r),e}(ClipboardCommandHandler,[{key:"AddCurrentSelectionToClipboard",value:function AddCurrentSelectionToClipboard(){var e=this.Provider.GetService(I.SelectionService);this.AddToClipboard(e.GetSelectedComponents())}},{key:"AddToClipboard",value:function AddToClipboard(e){this.Provider.GetService(I.ClipboardService).AddComponents(e)}}]),ClipboardCommandHandler}();function CopyCommandHandler_typeof(e){return(CopyCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CopyCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CopyCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==CopyCommandHandler_typeof(t)&&"function"!=typeof t?function CopyCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CopyCommandHandler_get(e,t,r){return(CopyCommandHandler_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CopyCommandHandler_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CopyCommandHandler_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CopyCommandHandler_getPrototypeOf(e){return(CopyCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CopyCommandHandler_setPrototypeOf(e,t){return(CopyCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ve=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},be=function(){function CopyCommandHandler(e){return function CopyCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CopyCommandHandler),CopyCommandHandler_possibleConstructorReturn(this,CopyCommandHandler_getPrototypeOf(CopyCommandHandler).call(this,e,g.CommandCopy))}return function CopyCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CopyCommandHandler_setPrototypeOf(e,t)}(CopyCommandHandler,ge),function CopyCommandHandler_createClass(e,t,r){return t&&CopyCommandHandler_defineProperties(e.prototype,t),r&&CopyCommandHandler_defineProperties(e,r),e}(CopyCommandHandler,[{key:"Execute",value:function Execute(){var e=this,t=Object.create(null,{AddCurrentSelectionToClipboard:{get:function get(){return CopyCommandHandler_get(CopyCommandHandler_getPrototypeOf(CopyCommandHandler.prototype),"AddCurrentSelectionToClipboard",e)}}});return ve(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(this.SelectionService.PrimarySelection){e.next=3;break}return e.abrupt("return");case 3:t.AddCurrentSelectionToClipboard.call(this);case 4:case"end":return e.stop()}},_callee,this)}))}}]),CopyCommandHandler}();function CreateDocumentCommandHandler_typeof(e){return(CreateDocumentCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CreateDocumentCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CreateDocumentCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==CreateDocumentCommandHandler_typeof(t)&&"function"!=typeof t?function CreateDocumentCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CreateDocumentCommandHandler_getPrototypeOf(e){return(CreateDocumentCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CreateDocumentCommandHandler_setPrototypeOf(e,t){return(CreateDocumentCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var _e=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Se=function(){function CreateDocumentCommandHandler(e){var t;return function CreateDocumentCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CreateDocumentCommandHandler),(t=CreateDocumentCommandHandler_possibleConstructorReturn(this,CreateDocumentCommandHandler_getPrototypeOf(CreateDocumentCommandHandler).call(this,g.DocumentCreate))).provider=e,t.Status.Available=!0,t.Status.Enabled=!0,t}return function CreateDocumentCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CreateDocumentCommandHandler_setPrototypeOf(e,t)}(CreateDocumentCommandHandler,he),function CreateDocumentCommandHandler_createClass(e,t,r){return t&&CreateDocumentCommandHandler_defineProperties(e.prototype,t),r&&CreateDocumentCommandHandler_defineProperties(e,r),e}(CreateDocumentCommandHandler,[{key:"Execute",value:function Execute(o){return _e(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=o,r=this.provider.GetService(I.IDesignSurfaceManager),e.next=4,r.GetExistingDocumentIds();case 4:if(e.sent.includes(t))return this.provider.GetService(I.Notifications).Error("A report with name '".concat(t,"' already exists.")),e.abrupt("return");e.next=9;break;case 9:return n=r.CreateDesignSurface(t),e.next=12,n.CreateBlankDocument();case 12:this.provider.GetService(I.TopMenuArea).Update();case 14:case"end":return e.stop()}},_callee,this)}))}}]),CreateDocumentCommandHandler}();function DeleteCommandHandlerBase_typeof(e){return(DeleteCommandHandlerBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DeleteCommandHandlerBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DeleteCommandHandlerBase_possibleConstructorReturn(e,t){return!t||"object"!==DeleteCommandHandlerBase_typeof(t)&&"function"!=typeof t?function DeleteCommandHandlerBase_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function DeleteCommandHandlerBase_getPrototypeOf(e){return(DeleteCommandHandlerBase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DeleteCommandHandlerBase_setPrototypeOf(e,t){return(DeleteCommandHandlerBase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ce=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Pe=function(){function DeleteCommandHandlerBase(e,t){return function DeleteCommandHandlerBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DeleteCommandHandlerBase),DeleteCommandHandlerBase_possibleConstructorReturn(this,DeleteCommandHandlerBase_getPrototypeOf(DeleteCommandHandlerBase).call(this,e,t))}return function DeleteCommandHandlerBase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DeleteCommandHandlerBase_setPrototypeOf(e,t)}(DeleteCommandHandlerBase,ge),function DeleteCommandHandlerBase_createClass(e,t,r){return t&&DeleteCommandHandlerBase_defineProperties(e.prototype,t),r&&DeleteCommandHandlerBase_defineProperties(e,r),e}(DeleteCommandHandlerBase,[{key:"Execute",value:function Execute(){return Ce(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o,i,a,s,c,u,l,p,f,d,y,h,m,g,v,b;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.Provider.GetService(I.SelectionService),r=t.PrimarySelection){e.next=4;break}return e.abrupt("return");case 4:if(0===(n=t.GetSelectedComponents()).length)return e.abrupt("return");e.next=7;break;case 7:this.ProcessSelectedComponents(n),o=this.Provider.GetService(I.IDesignerHost),i=o.CreateTransaction("Delete '".concat(n.map(function(e){return e.Name}).join("', '"),"'")),e.prev=10,a=this.Provider.GetService(I.IDesignSurfaceManager).ActiveDesignSurface,s=this.Provider.GetService(I.IComponentChangeService),u=!(c=!0),l=void 0,e.prev=16,p=n[Symbol.iterator]();case 18:if(c=(f=p.next()).done){e.next=42;break}if(!(d=f.value).CanDelete()){e.next=38;break}if(y=d.Parent,h=y.GetProperty(G.Items),s.OnComponentChanging(y,h),(m=d.Designer).IsTableCell)return e.next=28,a.CreateNewComponent(_.TextBox,null,d.Parent);e.next=34;break;case 28:g=e.sent,v=m.ParentDesigner,b=v.GetCell(d),v.TableLayout.ReplaceCellContentExtended(b,g,null,null),e.next=35;break;case 34:d.Delete();case 35:y.RaiseComponentChanged(h,null,null),e.next=39;break;case 38:throw new Error("Cannot delete '".concat(d.Name,"'."));case 39:c=!0,e.next=18;break;case 42:e.next=48;break;case 44:e.prev=44,e.t0=e.catch(16),u=!0,l=e.t0;case 48:e.prev=48,e.prev=49,c||null==p.return||p.return();case 51:if(e.prev=51,u)throw l;e.next=54;break;case 54:return e.finish(51);case 55:return e.finish(48);case 56:i.Commit(),r.Parent&&t.SetSelectedComponents([r.Parent]),e.next=65;break;case 60:e.prev=60,e.t1=e.catch(10),i.Rollback(),this.Provider.GetService(I.Notifications).Error(e.t1.message,e.t1);case 65:case"end":return e.stop()}},_callee,this,[[10,60],[16,44,48,56],[49,,51,55]])}))}},{key:"ProcessSelectedComponents",value:function ProcessSelectedComponents(){}}]),DeleteCommandHandlerBase}();function CutCommandHandler_typeof(e){return(CutCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CutCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CutCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==CutCommandHandler_typeof(t)&&"function"!=typeof t?function CutCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CutCommandHandler_get(e,t,r){return(CutCommandHandler_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CutCommandHandler_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CutCommandHandler_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CutCommandHandler_getPrototypeOf(e){return(CutCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CutCommandHandler_setPrototypeOf(e,t){return(CutCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var we=function(){function CutCommandHandler(e){return function CutCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CutCommandHandler),CutCommandHandler_possibleConstructorReturn(this,CutCommandHandler_getPrototypeOf(CutCommandHandler).call(this,e,g.CommandCut))}return function CutCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CutCommandHandler_setPrototypeOf(e,t)}(CutCommandHandler,Pe),function CutCommandHandler_createClass(e,t,r){return t&&CutCommandHandler_defineProperties(e.prototype,t),r&&CutCommandHandler_defineProperties(e,r),e}(CutCommandHandler,[{key:"ProcessSelectedComponents",value:function ProcessSelectedComponents(e){CutCommandHandler_get(CutCommandHandler_getPrototypeOf(CutCommandHandler.prototype),"AddToClipboard",this).call(this,e)}}]),CutCommandHandler}();function DeleteCommandHandler_typeof(e){return(DeleteCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DeleteCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==DeleteCommandHandler_typeof(t)&&"function"!=typeof t?function DeleteCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function DeleteCommandHandler_getPrototypeOf(e){return(DeleteCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DeleteCommandHandler_setPrototypeOf(e,t){return(DeleteCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Oe=function(){function DeleteCommandHandler(e){return function DeleteCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DeleteCommandHandler),DeleteCommandHandler_possibleConstructorReturn(this,DeleteCommandHandler_getPrototypeOf(DeleteCommandHandler).call(this,e,g.CommandDelete))}return function DeleteCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DeleteCommandHandler_setPrototypeOf(e,t)}(DeleteCommandHandler,Pe),DeleteCommandHandler}();function DesignDocumentCommandHandler_typeof(e){return(DesignDocumentCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DesignDocumentCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DesignDocumentCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==DesignDocumentCommandHandler_typeof(t)&&"function"!=typeof t?function DesignDocumentCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function DesignDocumentCommandHandler_getPrototypeOf(e){return(DesignDocumentCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DesignDocumentCommandHandler_setPrototypeOf(e,t){return(DesignDocumentCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ee=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},ke=function(){function DesignDocumentCommandHandler(e){var t;return function DesignDocumentCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DesignDocumentCommandHandler),(t=DesignDocumentCommandHandler_possibleConstructorReturn(this,DesignDocumentCommandHandler_getPrototypeOf(DesignDocumentCommandHandler).call(this,g.DocumentDesign))).provider=e,t.Status.Available=!0,t.Status.Enabled=!0,t}return function DesignDocumentCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DesignDocumentCommandHandler_setPrototypeOf(e,t)}(DesignDocumentCommandHandler,he),function DesignDocumentCommandHandler_createClass(e,t,r){return t&&DesignDocumentCommandHandler_defineProperties(e.prototype,t),r&&DesignDocumentCommandHandler_defineProperties(e,r),e}(DesignDocumentCommandHandler,[{key:"Execute",value:function Execute(){return Ee(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:t=this.provider.GetService(I.PreviewArea),r=this.provider.GetService(I.WebReportDesigner),t.Hide(),r.Show();case 4:case"end":return e.stop()}},_callee,this)}))}}]),DesignDocumentCommandHandler}();function NudgeSelectionCommandHandler_typeof(e){return(NudgeSelectionCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NudgeSelectionCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NudgeSelectionCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==NudgeSelectionCommandHandler_typeof(t)&&"function"!=typeof t?function NudgeSelectionCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function NudgeSelectionCommandHandler_getPrototypeOf(e){return(NudgeSelectionCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NudgeSelectionCommandHandler_setPrototypeOf(e,t){return(NudgeSelectionCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Te=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},De=function(){function NudgeSelectionCommandHandler(e,t,r,n,o){var i;return function NudgeSelectionCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NudgeSelectionCommandHandler),(i=NudgeSelectionCommandHandler_possibleConstructorReturn(this,NudgeSelectionCommandHandler_getPrototypeOf(NudgeSelectionCommandHandler).call(this,e,t))).offsetX=r,i.offsetY=n,i.resizing=o,i}return function NudgeSelectionCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NudgeSelectionCommandHandler_setPrototypeOf(e,t)}(NudgeSelectionCommandHandler,me),function NudgeSelectionCommandHandler_createClass(e,t,r){return t&&NudgeSelectionCommandHandler_defineProperties(e.prototype,t),r&&NudgeSelectionCommandHandler_defineProperties(e,r),e}(NudgeSelectionCommandHandler,[{key:"Execute",value:function Execute(){return Te(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:(t=this.Provider.GetService(I.NudgeHelper))&&(t.Initialize(this.resizing),t.Adjust(this.offsetX,this.offsetY));case 2:case"end":return e.stop()}},_callee,this)}))}}]),NudgeSelectionCommandHandler}();function MoveSelectionCommandHandler_typeof(e){return(MoveSelectionCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MoveSelectionCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MoveSelectionCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==MoveSelectionCommandHandler_typeof(t)&&"function"!=typeof t?function MoveSelectionCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function MoveSelectionCommandHandler_getPrototypeOf(e){return(MoveSelectionCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MoveSelectionCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MoveSelectionCommandHandler_setPrototypeOf(e,t)}function MoveSelectionCommandHandler_setPrototypeOf(e,t){return(MoveSelectionCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var xe=function(){function MoveSelectionCommandHandler(e,t,r,n){var o;return MoveSelectionCommandHandler_classCallCheck(this,MoveSelectionCommandHandler),(o=MoveSelectionCommandHandler_possibleConstructorReturn(this,MoveSelectionCommandHandler_getPrototypeOf(MoveSelectionCommandHandler).call(this,e,t,r,n,!1))).offsetX=r,o.offsetY=n,o}return MoveSelectionCommandHandler_inherits(MoveSelectionCommandHandler,De),MoveSelectionCommandHandler}(),Re=function(){function MoveSelectionUpSmallStepHandler(e){return MoveSelectionCommandHandler_classCallCheck(this,MoveSelectionUpSmallStepHandler),MoveSelectionCommandHandler_possibleConstructorReturn(this,MoveSelectionCommandHandler_getPrototypeOf(MoveSelectionUpSmallStepHandler).call(this,e,g.MoveSelectionUpSmallStep,0,-1))}return MoveSelectionCommandHandler_inherits(MoveSelectionUpSmallStepHandler,xe),MoveSelectionUpSmallStepHandler}(),Ie=function(){function MoveSelectionDownSmallStepHandler(e){return MoveSelectionCommandHandler_classCallCheck(this,MoveSelectionDownSmallStepHandler),MoveSelectionCommandHandler_possibleConstructorReturn(this,MoveSelectionCommandHandler_getPrototypeOf(MoveSelectionDownSmallStepHandler).call(this,e,g.MoveSelectionDownSmallStep,0,1))}return MoveSelectionCommandHandler_inherits(MoveSelectionDownSmallStepHandler,xe),MoveSelectionDownSmallStepHandler}(),Ge=function(){function MoveSelectionLeftSmallStepHandler(e){return MoveSelectionCommandHandler_classCallCheck(this,MoveSelectionLeftSmallStepHandler),MoveSelectionCommandHandler_possibleConstructorReturn(this,MoveSelectionCommandHandler_getPrototypeOf(MoveSelectionLeftSmallStepHandler).call(this,e,g.MoveSelectionLeftSmallStep,-1,0))}return MoveSelectionCommandHandler_inherits(MoveSelectionLeftSmallStepHandler,xe),MoveSelectionLeftSmallStepHandler}(),je=function(){function MoveSelectionRightSmallStepHandler(e){return MoveSelectionCommandHandler_classCallCheck(this,MoveSelectionRightSmallStepHandler),MoveSelectionCommandHandler_possibleConstructorReturn(this,MoveSelectionCommandHandler_getPrototypeOf(MoveSelectionRightSmallStepHandler).call(this,e,g.MoveSelectionRightSmallStep,1,0))}return MoveSelectionCommandHandler_inherits(MoveSelectionRightSmallStepHandler,xe),MoveSelectionRightSmallStepHandler}();function GroupBase_typeof(e){return(GroupBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GroupBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GroupBase_getPrototypeOf(e){return(GroupBase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GroupBase_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GroupBase_setPrototypeOf(e,t){return(GroupBase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Be=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Me=function(){function GroupBase(e,t,r){var n;return function GroupBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GroupBase),(n=function GroupBase_possibleConstructorReturn(e,t){return!t||"object"!==GroupBase_typeof(t)&&"function"!=typeof t?GroupBase_assertThisInitialized(e):t}(this,GroupBase_getPrototypeOf(GroupBase).call(this,e,t,r,t))).ChildGroups=[],n.Groupings=new x(p.ResolvePropertyStore(n.PropertyStore,G.Groupings,function(){return[]}),GroupBase_assertThisInitialized(n),r),n.Sortings=new L(p.ResolvePropertyStore(n.PropertyStore,G.Sortings,function(){return[]}),GroupBase_assertThisInitialized(n),r),n.Filters=new z(p.ResolvePropertyStore(n.PropertyStore,G.Filters,function(){return[]}),GroupBase_assertThisInitialized(n),r),n}return function GroupBase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GroupBase_setPrototypeOf(e,t)}(GroupBase,O),function GroupBase_createClass(e,t,r){return t&&GroupBase_defineProperties(e.prototype,t),r&&GroupBase_defineProperties(e,r),e}(GroupBase,[{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return Be(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createChildComponentsFromPropertyStoreBase();case 2:return e.next=4,this.createChildGroups();case 4:case"end":return e.stop()}},_callee,this)}))}},{key:"createChildGroups",value:function createChildGroups(){return Be(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createCollectionPropertyComponents(G.ChildGroups,this.ChildGroups);case 2:case"end":return e.stop()}},_callee2,this)}))}},{key:"Initialize",value:function Initialize(t){return Be(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.InitializeGroupBase(t);case 2:case"end":return e.stop()}},_callee3,this)}))}},{key:"InitializeGroupBase",value:function InitializeGroupBase(t){return Be(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.InitializeBase(t);case 2:return e.next=4,this.Groupings.Initialize();case 4:return e.next=6,this.Sortings.Initialize();case 6:return e.next=8,this.Filters.Initialize();case 8:case"end":return e.stop()}},_callee4,this)}))}},{key:"IsDynamic",value:function IsDynamic(){return 0<this.Groupings.Count}},{key:"IsDetail",value:function IsDetail(){if(0===this.Groupings.Count)return!1;for(var e=0,t=Array.from(this.Groupings);e<t.length;e++){if(!t[e].IsEmpty)return!1}return!0}},{key:"Name",get:function get(){return this.PropertyStore[G.Name]},set:function set(e){this.PropertyStore[G.Name]=e}}]),GroupBase}();function TextItemBase_typeof(e){return(TextItemBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TextItemBase_possibleConstructorReturn(e,t){return!t||"object"!==TextItemBase_typeof(t)&&"function"!=typeof t?function TextItemBase_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TextItemBase_getPrototypeOf(e){return(TextItemBase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TextItemBase_setPrototypeOf(e,t){return(TextItemBase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ae=function(){function TextItemBase(){return function TextItemBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextItemBase),TextItemBase_possibleConstructorReturn(this,TextItemBase_getPrototypeOf(TextItemBase).apply(this,arguments))}return function TextItemBase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TextItemBase_setPrototypeOf(e,t)}(TextItemBase,P),TextItemBase}();function TextBox_typeof(e){return(TextBox_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TextBox_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TextBox_possibleConstructorReturn(e,t){return!t||"object"!==TextBox_typeof(t)&&"function"!=typeof t?function TextBox_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TextBox_getPrototypeOf(e){return(TextBox_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TextBox_setPrototypeOf(e,t){return(TextBox_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ne=function(){function TextBox(){return function TextBox_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextBox),TextBox_possibleConstructorReturn(this,TextBox_getPrototypeOf(TextBox).apply(this,arguments))}return function TextBox_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TextBox_setPrototypeOf(e,t)}(TextBox,Ae),function TextBox_createClass(e,t,r){return t&&TextBox_defineProperties(e.prototype,t),r&&TextBox_defineProperties(e,r),e}(TextBox,[{key:"Accept",value:function Accept(e){e.VisitTextBox(this)}},{key:"Value",get:function get(){return this.GetProperty(G.Value).GetValue(this,this.PropertyStore)},set:function set(e){this.GetProperty(G.Value).SetValue(e,this,this.PropertyStore)}}]),TextBox}();function bja(e,t){!function GetIndicesOfLeavesOfTableGroupResult_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,bja),this.IndexOfFirstLeaf=e,this.IndexOfLastLeaf=t}function TableGroup_typeof(e){return(TableGroup_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TableGroup_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TableGroup_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TableGroup_getPrototypeOf(e){return(TableGroup_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TableGroup_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TableGroup_setPrototypeOf(e,t){return(TableGroup_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var He=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Le=function(){function TableGroup(e,t,r,n){var o;return function TableGroup_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableGroup),(o=function TableGroup_possibleConstructorReturn(e,t){return!t||"object"!==TableGroup_typeof(t)&&"function"!=typeof t?TableGroup_assertThisInitialized(e):t}(this,TableGroup_getPrototypeOf(TableGroup).call(this,e,t,r))).parentGroup=n,o.RowIndex=0,o.ColumnIndex=0,o.ColumnSpan=0,o.RowSpan=0,o.reportItem=null,o.PropertyStore[G.NetType]||(o.PropertyStore[G.NetType]=_.TableGroup),o.PropertyStore[G.ChildGroups]||(o.PropertyStore[G.ChildGroups]=[]),o.ChildGroups=new We(o.PropertyStore[G.ChildGroups],o.Parent,TableGroup_assertThisInitialized(o),o.provider),o.PropertyStore[G.Groupings]||(o.PropertyStore[G.Groupings]=[]),o.Groupings=new x(o.PropertyStore[G.Groupings],TableGroup_assertThisInitialized(o),o.provider),o}return function TableGroup_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TableGroup_setPrototypeOf(e,t)}(TableGroup,Me),function TableGroup_createClass(e,t,r){return t&&TableGroup_defineProperties(e.prototype,t),r&&TableGroup_defineProperties(e,r),e}(TableGroup,[{key:"Initialize",value:function Initialize(){return He(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.InitializeGroupBase(this.Type);case 2:if(this.PropertyStore[G.ReportItem]&&!this.reportItem)return e.next=5,this.Component.CreateChildComponent(this.PropertyStore[G.ReportItem]);e.next=6;break;case 5:this.reportItem=e.sent;case 6:return e.next=8,this.ChildGroups.Initialize();case 8:case"end":return e.stop()}},_callee,this)}))}},{key:"Component",get:function get(){return this.Parent}},{key:"ReportItem",get:function get(){return this.reportItem},set:function set(e){this.reportItem=e,this.PropertyStore[G.ReportItem]=e.PropertyStore}}],[{key:"Visit",value:function Visit(e,t,r){for(var n=0;n<e.Count;n++){var o=e.Get(n);if(r(o,n,t))return!0;if(TableGroup.Visit(o.ChildGroups,t+1,r))return!0}return!1}},{key:"GetLeafGroups",value:function GetLeafGroups(e){var n=[];return TableGroup.Visit(e,0,function(e,t,r){return TableGroup.IsLeafGroup(e)&&n.push(e),!1}),n}},{key:"IsLeafGroup",value:function IsLeafGroup(e){return 0===e.ChildGroups.Count}},{key:"InitDynamicGroup",value:function InitDynamicGroup(e,t,r){e.Name=t,e.Groupings.Clear(),e.Sortings.Clear(),e.Filters.Clear();for(var n=0;n<r.length;n++){var o,i=r[n];if(e.Groupings.Add(i),!i.IsEmpty)e.Sortings.Add(new N((TableGroup_defineProperty(o={},G.Expression,i.Expression),TableGroup_defineProperty(o,G.Direction,R.Asc),o),e,e.provider))}0<r.length&&e.ReportItem instanceof Ne&&r[0].Expression&&(e.ReportItem.Value=TableGroup.EnsureExpression(r[0].Expression))}},{key:"EnsureExpression",value:function EnsureExpression(e){if(!e)throw new Error("Empty expression.");return 0<(e=e.trim()).length&&!e.startsWith("=")?"= "+e:e}},{key:"FindDynamicAncestorOrSelf",value:function FindDynamicAncestorOrSelf(e){for(;e&&!e.IsDynamic();)e=e.parentGroup;return e}},{key:"GetRootGroup",value:function GetRootGroup(e){for(;e&&null!=e.parentGroup;)e=e.parentGroup;return e}},{key:"CountDynamicDescendants",value:function CountDynamicDescendants(e){if(!e||0===e.Count)return 0;for(var t=0,r=0,n=Array.from(e);r<n.length;r++){var o=n[r];o.IsDynamic()&&t++,t+=TableGroup.CountDynamicDescendants(o.ChildGroups)}return t}},{key:"GetIndicesOfLeavesOfTableGroup",value:function GetIndicesOfLeavesOfTableGroup(e,t,r){for(var n=0,o=0,i=Array.from(e);o<i.length;o++){var a=i[o],s=t+n;if(n+=TableGroup.GetLeafCount(a),a===r)return new bja(s,t+n-1);if(!TableGroup.IsLeafGroup(a)){var c=TableGroup.GetIndicesOfLeavesOfTableGroup(a.ChildGroups,s,r);if(c)return c}}return null}},{key:"GetLeafCount",value:function GetLeafCount(e){if(TableGroup.IsLeafGroup(e))return 1;for(var t=0,r=0,n=Array.from(e.ChildGroups);r<n.length;r++){var o=n[r];t+=TableGroup.GetLeafCount(o)}return t}}]),TableGroup}();function TableGroupCollection_typeof(e){return(TableGroupCollection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TableGroupCollection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TableGroupCollection_possibleConstructorReturn(e,t){return!t||"object"!==TableGroupCollection_typeof(t)&&"function"!=typeof t?function TableGroupCollection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TableGroupCollection_getPrototypeOf(e){return(TableGroupCollection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TableGroupCollection_setPrototypeOf(e,t){return(TableGroupCollection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ve=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},We=function(){function TableGroupCollection(e,t,r,n){var o;return function TableGroupCollection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableGroupCollection),(o=TableGroupCollection_possibleConstructorReturn(this,TableGroupCollection_getPrototypeOf(TableGroupCollection).call(this,e,Le,t,n))).parentGroup=r,o}return function TableGroupCollection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TableGroupCollection_setPrototypeOf(e,t)}(TableGroupCollection,w),function TableGroupCollection_createClass(e,t,r){return t&&TableGroupCollection_defineProperties(e.prototype,t),r&&TableGroupCollection_defineProperties(e,r),e}(TableGroupCollection,[{key:"init",value:function init(){}},{key:"Initialize",value:function Initialize(){return Ve(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o,i,a,s,c,u,l;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.Provider.GetService(I.NamingService),n=!(r=!0),o=void 0,e.prev=4,i=this.propertyStore[Symbol.iterator]();!(r=(a=i.next()).done);r=!0)s=a.value,(c=new Le(s,this.parent,this.Provider,this.parentGroup)).Name&&t.RegisterName(c.Name),this.items.push(c);e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),n=!0,o=e.t0;case 12:e.prev=12,e.prev=13,r||null==i.return||i.return();case 15:if(e.prev=15,n)throw o;e.next=18;break;case 18:return e.finish(15);case 19:return e.finish(12);case 20:u=0;case 21:if(u<this.items.length)return l=this.items[u],e.next=25,l.Initialize();e.next=28;break;case 25:u++,e.next=21;break;case 28:case"end":return e.stop()}},_callee,this,[[4,8,12,20],[13,,15,19]])}))}}]),TableGroupCollection}();function ComponentUtils_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ze=function(){function ComponentUtils(){!function ComponentUtils_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ComponentUtils)}return function ComponentUtils_createClass(e,t,r){return t&&ComponentUtils_defineProperties(e.prototype,t),r&&ComponentUtils_defineProperties(e,r),e}(ComponentUtils,null,[{key:"GetContainer",value:function GetContainer(e,t){for(var r=e;null!==r;){var n=!0,o=!0,i=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;if(n=n&&r.CanBeAncestorOf(u,!0))return r}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}r=r.Parent}return null}},{key:"GetContainerForNewItem",value:function GetContainerForNewItem(e,t){for(var r=e;null!==r&&!r.CanParent(t);)r=r.Parent;return r}},{key:"GetContainerByTypeName",value:function GetContainerByTypeName(e,t){for(var r=e;null!==r&&r.Type!==t;)r=r.Parent;return r}},{key:"GetParentByType",value:function GetParentByType(e,t){for(var r=e;null!==r&&!(r instanceof t);)r=r.Parent;return r}},{key:"FindByName",value:function FindByName(e,t,r){if(e.Name===t)return e;for(var n=0,o=Array.from(ComponentUtils.enumItems(e.Children,r));n<o.length;n++){var i=o[n];if(i.Name===t)return i}return null}},{key:"Find",value:regeneratorRuntime.mark(function Find(t,r,n){var o,i,a,s;return regeneratorRuntime.wrap(function Find$(e){for(;;)switch(e.prev=e.next){case 0:if(!((o=t.Children)&&0<o.length)){e.next=11;break}i=0,a=Array.from(ComponentUtils.enumItems(o,n));case 3:if(!(i<a.length)){e.next=11;break}if((s=a[i])instanceof r)return e.next=8,s;e.next=8;break;case 8:i++,e.next=3;break;case 11:case"end":return e.stop()}},Find)})},{key:"enumItems",value:regeneratorRuntime.mark(function enumItems(t,r){var n,o,i,a,s,c;return regeneratorRuntime.wrap(function enumItems$(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=29;break}o=!(n=!0),i=void 0,e.prev=4,a=t[Symbol.iterator]();case 6:if(n=(s=a.next()).done){e.next=15;break}return c=s.value,e.next=10,c;case 10:if(r)return e.delegateYield(Array.from(ComponentUtils.enumItems(c.Children,!0)),"t0",12);e.next=12;break;case 12:n=!0,e.next=6;break;case 15:e.next=21;break;case 17:e.prev=17,e.t1=e.catch(4),o=!0,i=e.t1;case 21:e.prev=21,e.prev=22,n||null==a.return||a.return();case 24:if(e.prev=24,o)throw i;e.next=27;break;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}},enumItems,null,[[4,17,21,29],[22,,24,28]])})},{key:"GetFromCollection",value:function GetFromCollection(e,t){if(e instanceof Array)return e[t];if(e instanceof We)return e.Get(t);var r=0,n=e[Symbol.iterator]();if(n){var o=!0,i=!1,a=void 0;try{for(var s,c=n[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;if(r===t)return u;r++}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}}},{key:"GetAssociatedComponents",value:regeneratorRuntime.mark(function GetAssociatedComponents(t){var r,n,o,i,a,s;return regeneratorRuntime.wrap(function GetAssociatedComponents$(e){for(;;)switch(e.prev=e.next){case 0:if(t)return e.next=3,t;e.next=28;break;case 3:n=!(r=!0),o=void 0,e.prev=6,i=t.Children[Symbol.iterator]();case 8:if(r=(a=i.next()).done){e.next=14;break}return s=a.value,e.delegateYield(Array.from(ComponentUtils.GetAssociatedComponents(s)),"t0",11);case 11:r=!0,e.next=8;break;case 14:e.next=20;break;case 16:e.prev=16,e.t1=e.catch(6),n=!0,o=e.t1;case 20:e.prev=20,e.prev=21,r||null==i.return||i.return();case 23:if(e.prev=23,n)throw o;e.next=26;break;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},GetAssociatedComponents,null,[[6,16,20,28],[21,,23,27]])})}]),ComponentUtils}();function hja(e){!function ReportObject_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,hja),this.PropertyStore=e}function TableBodyColumn_typeof(e){return(TableBodyColumn_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TableBodyColumn_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TableBodyColumn_possibleConstructorReturn(e,t){return!t||"object"!==TableBodyColumn_typeof(t)&&"function"!=typeof t?function TableBodyColumn_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TableBodyColumn_getPrototypeOf(e){return(TableBodyColumn_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TableBodyColumn_setPrototypeOf(e,t){return(TableBodyColumn_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Fe=function(){function TableBodyColumn(e){var t;return function TableBodyColumn_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableBodyColumn),(t=TableBodyColumn_possibleConstructorReturn(this,TableBodyColumn_getPrototypeOf(TableBodyColumn).call(this,e))).width=j.Parse(t.PropertyStore[G.Width]),t}return function TableBodyColumn_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TableBodyColumn_setPrototypeOf(e,t)}(TableBodyColumn,hja),function TableBodyColumn_createClass(e,t,r){return t&&TableBodyColumn_defineProperties(e.prototype,t),r&&TableBodyColumn_defineProperties(e,r),e}(TableBodyColumn,[{key:"Width",get:function get(){return this.width},set:function set(e){this.width=e,this.PropertyStore[G.Width]=e.ToString()}}]),TableBodyColumn}();function ColumnCollection_typeof(e){return(ColumnCollection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ColumnCollection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ColumnCollection_possibleConstructorReturn(e,t){return!t||"object"!==ColumnCollection_typeof(t)&&"function"!=typeof t?function ColumnCollection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ColumnCollection_getPrototypeOf(e){return(ColumnCollection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ColumnCollection_setPrototypeOf(e,t){return(ColumnCollection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ue=function(){function ColumnCollection(e){return function ColumnCollection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ColumnCollection),ColumnCollection_possibleConstructorReturn(this,ColumnCollection_getPrototypeOf(ColumnCollection).call(this,e,Fe))}return function ColumnCollection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ColumnCollection_setPrototypeOf(e,t)}(ColumnCollection,w),function ColumnCollection_createClass(e,t,r){return t&&ColumnCollection_defineProperties(e.prototype,t),r&&ColumnCollection_defineProperties(e,r),e}(ColumnCollection,[{key:"AddByWidth",value:function AddByWidth(e){this.Add(new Fe(function ColumnCollection_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},G.Width,e)))}}]),ColumnCollection}();function TableBodyRow_typeof(e){return(TableBodyRow_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TableBodyRow_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TableBodyRow_possibleConstructorReturn(e,t){return!t||"object"!==TableBodyRow_typeof(t)&&"function"!=typeof t?function TableBodyRow_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TableBodyRow_getPrototypeOf(e){return(TableBodyRow_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TableBodyRow_setPrototypeOf(e,t){return(TableBodyRow_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var $e=function(){function TableBodyRow(e){var t;return function TableBodyRow_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableBodyRow),(t=TableBodyRow_possibleConstructorReturn(this,TableBodyRow_getPrototypeOf(TableBodyRow).call(this,e))).height=j.Parse(t.PropertyStore[G.Height]),t}return function TableBodyRow_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TableBodyRow_setPrototypeOf(e,t)}(TableBodyRow,hja),function TableBodyRow_createClass(e,t,r){return t&&TableBodyRow_defineProperties(e.prototype,t),r&&TableBodyRow_defineProperties(e,r),e}(TableBodyRow,[{key:"Height",get:function get(){return this.height},set:function set(e){this.height=e,this.PropertyStore[G.Height]=e.ToString()}}]),TableBodyRow}();function RowCollection_typeof(e){return(RowCollection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RowCollection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RowCollection_possibleConstructorReturn(e,t){return!t||"object"!==RowCollection_typeof(t)&&"function"!=typeof t?function RowCollection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function RowCollection_getPrototypeOf(e){return(RowCollection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RowCollection_setPrototypeOf(e,t){return(RowCollection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var qe=function(){function RowCollection(e){return function RowCollection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RowCollection),RowCollection_possibleConstructorReturn(this,RowCollection_getPrototypeOf(RowCollection).call(this,e,$e))}return function RowCollection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RowCollection_setPrototypeOf(e,t)}(RowCollection,w),function RowCollection_createClass(e,t,r){return t&&RowCollection_defineProperties(e.prototype,t),r&&RowCollection_defineProperties(e,r),e}(RowCollection,[{key:"AddByHeight",value:function AddByHeight(e){this.Add(new $e(function RowCollection_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},G.Height,e)))}}]),RowCollection}();function TableCell_typeof(e){return(TableCell_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TableCell_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TableCell_possibleConstructorReturn(e,t){return!t||"object"!==TableCell_typeof(t)&&"function"!=typeof t?function TableCell_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TableCell_getPrototypeOf(e){return(TableCell_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TableCell_setPrototypeOf(e,t){return(TableCell_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Je=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Ke=function(){function TableCell(e){var t;return function TableCell_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableCell),t=TableCell_possibleConstructorReturn(this,TableCell_getPrototypeOf(TableCell).call(this,e)),e.hasOwnProperty(G.NetType)||(e[G.NetType]=_.TableCell),t.component=null,t}return function TableCell_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TableCell_setPrototypeOf(e,t)}(TableCell,hja),function TableCell_createClass(e,t,r){return t&&TableCell_defineProperties(e.prototype,t),r&&TableCell_defineProperties(e,r),e}(TableCell,[{key:"DeserializeContent",value:function DeserializeContent(t){return Je(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(this.PropertyStore[G.ReportItem]&&!this.component)return e.next=3,t.CreateChildComponent(this.PropertyStore[G.ReportItem]);e.next=4;break;case 3:this.component=e.sent;case 4:case"end":return e.stop()}},_callee,this)}))}},{key:"Dispose",value:function Dispose(){this.ReportItem&&(this.ReportItem.Parent=null,this.ReportItem=null)}},{key:"RowIndex",get:function get(){return parseInt(this.PropertyStore[G.RowIndex])},set:function set(e){this.PropertyStore[G.RowIndex]=e}},{key:"ColumnIndex",get:function get(){return parseInt(this.PropertyStore[G.ColumnIndex])},set:function set(e){this.PropertyStore[G.ColumnIndex]=e}},{key:"RowSpan",get:function get(){return parseInt(this.PropertyStore[G.RowSpan])},set:function set(e){this.PropertyStore[G.RowSpan]=e}},{key:"ColumnSpan",get:function get(){return parseInt(this.PropertyStore[G.ColumnSpan])},set:function set(e){this.PropertyStore[G.ColumnSpan]=e}},{key:"Component",get:function get(){return this.component}},{key:"ReportItem",get:function get(){return this.component},set:function set(e){(this.component=e)?this.PropertyStore[G.ReportItem]=e.PropertyStore:delete this.PropertyStore[G.ReportItem]}}]),TableCell}();function CellCollection_typeof(e){return(CellCollection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CellCollection_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CellCollection_possibleConstructorReturn(e,t){return!t||"object"!==CellCollection_typeof(t)&&"function"!=typeof t?function CellCollection_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CellCollection_get(e,t,r){return(CellCollection_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CellCollection_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CellCollection_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CellCollection_getPrototypeOf(e){return(CellCollection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CellCollection_setPrototypeOf(e,t){return(CellCollection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Qe=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Ze=function(){function CellCollection(e,t){return function CellCollection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CellCollection),CellCollection_possibleConstructorReturn(this,CellCollection_getPrototypeOf(CellCollection).call(this,e,Ke,t))}return function CellCollection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CellCollection_setPrototypeOf(e,t)}(CellCollection,w),function CellCollection_createClass(e,t,r){return t&&CellCollection_defineProperties(e.prototype,t),r&&CellCollection_defineProperties(e,r),e}(CellCollection,[{key:"init",value:function init(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.propertyStore[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value,a=new Ke(i);this.items.push(a)}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}}},{key:"Initialize",value:function Initialize(){return Qe(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(t<this.items.length)return r=this.items[t],e.next=5,r.DeserializeContent(this.parent);e.next=8;break;case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},_callee,this)}))}},{key:"CreateCell",value:function CreateCell(e,t,r,n,o){var i=this.CreateDummyCell(e,t,r,n,o);return this.Add(i),i}},{key:"CreateDummyCell",value:function CreateDummyCell(e,t,r,n,o){var i=new Ke({});return i.RowIndex=e,i.ColumnIndex=t,i.RowSpan=r,i.ColumnSpan=n,i.ReportItem=o,i}},{key:"FindAll",value:function FindAll(e){if(!e)throw new Error("match");for(var t=[],r=0;r<this.Count;r++){var n=this.Get(r);e(n)&&t.push(n)}return t}},{key:"Remove",value:function Remove(e){for(var t=0;t<this.Count;t++){this.Get(t)===e&&this.RemoveAt(t)}}},{key:"RemoveAt",value:function RemoveAt(e){var t=this.Get(e);CellCollection_get(CellCollection_getPrototypeOf(CellCollection.prototype),"RemoveAt",this).call(this,e),t.ReportItem&&(t.ReportItem.Parent=null)}}]),CellCollection}();function TableCellContainer_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TableCellContainer_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Xe=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Ye=function(){function TableCellContainer(e,t){!function TableCellContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableCellContainer),this.propertyStore=e,this.parent=t,this.propertyStore[G.Cells]||(this.propertyStore[G.Cells]=[]),this.cells=new Ze(e[G.Cells],t)}return function TableCellContainer_createClass(e,t,r){return t&&TableCellContainer_defineProperties(e.prototype,t),r&&TableCellContainer_defineProperties(e,r),e}(TableCellContainer,[{key:"Initialize",value:function Initialize(){return Xe(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cells.Initialize();case 2:case"end":return e.stop()}},_callee,this)}))}},{key:"GetAt",value:function GetAt(e,t){for(var r=0,n=Array.from(this.cells);r<n.length;r++){var o=n[r];if(o.RowIndex===e&&o.ColumnIndex===t)return o}return null}},{key:"ResolveAt",value:function ResolveAt(e,t){var r=this.GetAt(e,t);return null===r?this.cells.CreateDummyCell(e,t,1,1,null):r}},{key:"SetCellContent",value:function SetCellContent(e,t,r){this.SetCellContentExtended(e,t,r,1,1)}},{key:"SetCellContentExtended",value:function SetCellContentExtended(t,r,e,n,o){if(e){for(var i=this.cells.FindAll(function(e){return t<=e.RowIndex&&e.RowIndex<t+n&&r<=e.ColumnIndex&&e.ColumnIndex<r+o}),a=0;a<i.length;a++){var s=i[a];this.Cells.Remove(s),s.Dispose()}var c=this.GetAt(t,r);if(c)(c.ReportItem=e).Parent=this.parent;else{var u,l=new Ke((TableCellContainer_defineProperty(u={},G.RowIndex,t),TableCellContainer_defineProperty(u,G.ColumnIndex,r),TableCellContainer_defineProperty(u,G.RowSpan,n),TableCellContainer_defineProperty(u,G.ColumnSpan,o),u));l.ReportItem=e,this.cells.Add(l)}}}},{key:"Cells",get:function get(){return this.cells}}]),TableCellContainer}();function TableBody_typeof(e){return(TableBody_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TableBody_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TableBody_possibleConstructorReturn(e,t){return!t||"object"!==TableBody_typeof(t)&&"function"!=typeof t?function TableBody_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TableBody_getPrototypeOf(e){return(TableBody_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TableBody_setPrototypeOf(e,t){return(TableBody_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var et=function(){function TableBody(e,t){var r;return function TableBody_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableBody),(r=TableBody_possibleConstructorReturn(this,TableBody_getPrototypeOf(TableBody).call(this,e,t))).initPropertyStore(),r.Columns=new Ue(e[G.Columns]),r.Rows=new qe(e[G.Rows]),r}return function TableBody_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TableBody_setPrototypeOf(e,t)}(TableBody,Ye),function TableBody_createClass(e,t,r){return t&&TableBody_defineProperties(e.prototype,t),r&&TableBody_defineProperties(e,r),e}(TableBody,[{key:"initPropertyStore",value:function initPropertyStore(){this.propertyStore[G.Columns]||(this.propertyStore[G.Columns]=[]),this.propertyStore[G.Rows]||(this.propertyStore[G.Rows]=[])}}]),TableBody}();function Table_typeof(e){return(Table_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Table_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Table_getPrototypeOf(e){return(Table_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Table_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Table_setPrototypeOf(e,t){return(Table_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var tt=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},rt=function(){function Table(e,t,r){var n;return function Table_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Table),(n=function Table_possibleConstructorReturn(e,t){return!t||"object"!==Table_typeof(t)&&"function"!=typeof t?Table_assertThisInitialized(e):t}(this,Table_getPrototypeOf(Table).call(this,e,t,r))).initPropertyStore(),n.rowGroups=new We(n.PropertyStore[G.RowGroups],Table_assertThisInitialized(n),null,r),n.columnGroups=new We(n.PropertyStore[G.ColumnGroups],Table_assertThisInitialized(n),null,r),n.body=new et(n.PropertyStore[G.Body],Table_assertThisInitialized(n)),n.corner=new Ye(n.PropertyStore[G.Corner],Table_assertThisInitialized(n)),n}return function Table_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Table_setPrototypeOf(e,t)}(Table,U),function Table_createClass(e,t,r){return t&&Table_defineProperties(e.prototype,t),r&&Table_defineProperties(e,r),e}(Table,[{key:"initPropertyStore",value:function initPropertyStore(){this.PropertyStore[G.RowGroups]||(this.PropertyStore[G.RowGroups]=[]),this.PropertyStore[G.ColumnGroups]||(this.PropertyStore[G.ColumnGroups]=[]),this.PropertyStore[G.Body]||(this.PropertyStore[G.Body]=new et([],this)),this.PropertyStore[G.Corner]||(this.PropertyStore[G.Corner]=new Ye([],this))}},{key:"CanContain",value:function CanContain(e){var t=this.InstanceFactory.GetInstanceModel(e);return t&&t instanceof P}},{key:"Accept",value:function Accept(e){e.VisitTable(this)}},{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return tt(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.CreateChildComponentsFromPropertyStoreDataItem();case 2:return e.next=4,this.rowGroups.Initialize();case 4:return e.next=6,this.columnGroups.Initialize();case 6:return e.next=8,this.body.Initialize();case 8:return e.next=10,this.corner.Initialize();case 10:case"end":return e.stop()}},_callee,this)}))}},{key:"AddItem",value:function AddItem(){}},{key:"RowGroups",get:function get(){return this.rowGroups}},{key:"ColumnGroups",get:function get(){return this.columnGroups}},{key:"Body",get:function get(){return this.body}},{key:"Corner",get:function get(){return this.corner}}]),Table}();function Wizards_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var nt=function(){function Wizards(){!function Wizards_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Wizards)}return function Wizards_createClass(e,t,r){return t&&Wizards_defineProperties(e.prototype,t),r&&Wizards_defineProperties(e,r),e}(Wizards,null,[{key:"Suffix",get:function get(){return"Wizard"}},{key:"Delimiter",get:function get(){return"_"}},{key:"TableWizard",get:function get(){return"".concat(_.Table).concat(Wizards.Delimiter).concat(Wizards.Suffix)}},{key:"CrosstabWizard",get:function get(){return"".concat(_.Crosstab).concat(Wizards.Delimiter).concat(Wizards.Suffix)}},{key:"SqlDataSourceWizard",get:function get(){return"".concat(_.SqlDataSource).concat(Wizards.Delimiter).concat(Wizards.Suffix)}}]),Wizards}();function CrosstabWizardCategories_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ot=function(){function CrosstabWizardCategories(){!function CrosstabWizardCategories_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CrosstabWizardCategories)}return function CrosstabWizardCategories_createClass(e,t,r){return t&&CrosstabWizardCategories_defineProperties(e.prototype,t),r&&CrosstabWizardCategories_defineProperties(e,r),e}(CrosstabWizardCategories,null,[{key:"Data",get:function get(){return"data"}},{key:"DataSource",get:function get(){return"dataSource"}},{key:"DataSourceFields",get:function get(){return"dataSourceFields"}},{key:"Fields",get:function get(){return"fields"}},{key:"ColumnGroups",get:function get(){return"columnGroups"}},{key:"RowGroups",get:function get(){return"rowGroups"}},{key:"DetailValues",get:function get(){return"detailValues"}},{key:"Appearance",get:function get(){return"appearance"}},{key:"Layout",get:function get(){return"layout"}},{key:"Style",get:function get(){return"style"}}]),CrosstabWizardCategories}();function ContextMenuCommandNames_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var it=function(){function ContextMenuCommandNames(){!function ContextMenuCommandNames_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ContextMenuCommandNames)}return function ContextMenuCommandNames_createClass(e,t,r){return t&&ContextMenuCommandNames_defineProperties(e.prototype,t),r&&ContextMenuCommandNames_defineProperties(e,r),e}(ContextMenuCommandNames,null,[{key:"Edit",get:function get(){return"edit"}},{key:"Copy",get:function get(){return"copy"}},{key:"Cut",get:function get(){return"cut"}},{key:"Paste",get:function get(){return"paste"}},{key:"Delete",get:function get(){return"delete"}},{key:"AggregateFunction",get:function get(){return"addAggregateFunction"}},{key:"RemoveCrosstabItem",get:function get(){return"remove"}}]),ContextMenuCommandNames}();function PageBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var at=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},st=function(){function PageBase(e,t){!function PageBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PageBase),this.$parent=e,this.Provider=t,this.model=void 0,this.Str=this.Provider.GetService(I.WebReportDesignerStrings),this.nextPage=void 0,this.backPage=void 0,this.editableProperties=[]}return function PageBase_createClass(e,t,r){return t&&PageBase_defineProperties(e.prototype,t),r&&PageBase_defineProperties(e,r),e}(PageBase,[{key:"CreatePageModel",value:function CreatePageModel(r){return at(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.CreateModel(r))return e.next=4,t.Initialize();e.next=4;break;case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},_callee,this)}))}},{key:"Init",value:function Init(){var t=this;this.initPage(),this.model&&(this.viewModel=new kendo.data.ObservableObject(p.ModelToJSON(this.model)),this.viewModel.bind("change",function(e){t.model[e.field]=t.viewModel.get(e.field)}),kendo.bind(this.Parent,this.viewModel))}},{key:"IsPageValid",value:function IsPageValid(){return at(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},_callee2)}))}},{key:"OnEnter",value:function OnEnter(t){return at(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(this.model)return e.next=3,this.model.OnEnter(t);e.next=3;break;case 3:case"end":return e.stop()}},_callee3,this)}))}},{key:"TryLeave",value:function TryLeave(t){return at(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.IsPageValid();case 2:if(e.sent&&this.model){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,this.model.OnLeave(t);case 7:return this.DisposePage(),e.abrupt("return",!0);case 9:case"end":return e.stop()}},_callee4,this)}))}},{key:"initPage",value:function initPage(){this.$parent.empty(),this.$parent.append(this.pageTemplate)}},{key:"NextPage",get:function get(){return this.nextPage},set:function set(e){this.nextPage=e}},{key:"BackPage",get:function get(){return this.backPage},set:function set(e){this.backPage=e}},{key:"AllowMoveForward",get:function get(){return!0}},{key:"AllowFinish",get:function get(){return!0}},{key:"EditableProperties",get:function get(){return this.editableProperties}},{key:"Parent",get:function get(){return this.$parent}},{key:"ViewModel",get:function get(){return this.viewModel}}]),PageBase}();function PageModel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ct=function(){function PageModel(e,t){!function PageModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PageModel),this.provider=e,this.properties=t}return function PageModel_createClass(e,t,r){return t&&PageModel_defineProperties(e.prototype,t),r&&PageModel_defineProperties(e,r),e}(PageModel,[{key:"GetEnumValues",value:function GetEnumValues(e){return this.provider.GetService(I.ITypeDescriptorRepository).GetPropertyTypeDescriptor(e).GetEnumValues()}},{key:"IsModelValid",get:function get(){return!0}}]),PageModel}();function SqlPageModel_typeof(e){return(SqlPageModel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlPageModel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlPageModel_possibleConstructorReturn(e,t){return!t||"object"!==SqlPageModel_typeof(t)&&"function"!=typeof t?function SqlPageModel_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlPageModel_getPrototypeOf(e){return(SqlPageModel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlPageModel_setPrototypeOf(e,t){return(SqlPageModel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ut=function(){function SqlPageModel(e,t){var r;return function SqlPageModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlPageModel),(r=SqlPageModel_possibleConstructorReturn(this,SqlPageModel_getPrototypeOf(SqlPageModel).call(this,e,t.Properties))).wizardModel=t,r}return function SqlPageModel_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlPageModel_setPrototypeOf(e,t)}(SqlPageModel,ct),function SqlPageModel_createClass(e,t,r){return t&&SqlPageModel_defineProperties(e.prototype,t),r&&SqlPageModel_defineProperties(e,r),e}(SqlPageModel,[{key:"OutputModel",get:function get(){return this.wizardModel}}]),SqlPageModel}();function Cja(e,t,r){!function ConnectionStringModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Cja),this.Name=e,this.Provider=t,this.ConnectionString=r}function SqlParameter_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var lt=function(){function SqlParameter(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"String",n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;!function SqlParameter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlParameter),this.Name=t,this.DbType=r,n=n?n.Value?n.Value:n:"",this.Value={NetType:"String",Value:n},this.ID=this.setID(e),this.NetType="SqlDataSourceParameter"}return function SqlParameter_createClass(e,t,r){return t&&SqlParameter_defineProperties(e.prototype,t),r&&SqlParameter_defineProperties(e,r),e}(SqlParameter,[{key:"setID",value:function setID(e){var t=0;if(!e.length)return t;var r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;s.ID>t&&(t=s.ID)}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t+1}}]),SqlParameter}();function SqlParametersManager_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var pt=function(){function SqlParametersManager(){!function SqlParametersManager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlParametersManager)}return function SqlParametersManager_createClass(e,t,r){return t&&SqlParametersManager_defineProperties(e.prototype,t),r&&SqlParametersManager_defineProperties(e,r),e}(SqlParametersManager,null,[{key:"UpdateParameters",value:function UpdateParameters(e,r){if(e){var n=new Array,t=!0,o=!1,i=void 0;try{for(var a,s=function _loop(){var t=a.value,e=r.find(function(e){return e.Name==t.Name});e?n.push(new lt(n,t.Name,t.ClientDbType,e.Value[G.Value])):n.push(new lt(n,t.Name,t.ClientDbType))},c=e[Symbol.iterator]();!(t=(a=c.next()).done);t=!0)s()}catch(e){o=!0,i=e}finally{try{t||null==c.return||c.return()}finally{if(o)throw i}}r.splice(0,r.length);for(var u=0,l=n;u<l.length;u++){var p=l[u];r.push(p)}}else r.splice(0,r.length)}},{key:"CloneCollection",value:function CloneCollection(e){var t=new Array;if(!e)return t;var r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;t.push(new lt(t,s.Name,s.DbType,s.Value))}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}},{key:"PrepareDesignTimeParametersObject",value:function PrepareDesignTimeParametersObject(e){var t={},r=new Array,n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value,u=new lt(r,c.Name,c.DbType,null);u.Value=c.Value.Value,r.push(u)}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}for(var l=0,p=r;l<p.length;l++){var f=p[l];t[f.Name]=f.Value}return JSON.stringify(t)}}]),SqlParametersManager}();function CommandModel_typeof(e){return(CommandModel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CommandModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CommandModel_possibleConstructorReturn(e,t){return!t||"object"!==CommandModel_typeof(t)&&"function"!=typeof t?function CommandModel_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CommandModel_getPrototypeOf(e){return(CommandModel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CommandModel_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CommandModel_setPrototypeOf(e,t)}function CommandModel_setPrototypeOf(e,t){return(CommandModel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function Gja(e,t){CommandModel_classCallCheck(this,Gja),this.QueryInfo=e,this.Parameters=t}function Ija(e,t){CommandModel_classCallCheck(this,Ija),this.PreviewDataInfo=e,this.Parameters=t}var ft=function(){function QueryInfo(e,t,r,n,o,i){var a;return CommandModel_classCallCheck(this,QueryInfo),(a=CommandModel_possibleConstructorReturn(this,CommandModel_getPrototypeOf(QueryInfo).call(this,e,t,r))).SelectCommand=n,a.SelectCommandType=o,a.CommandTimeOut=i,a}return CommandModel_inherits(QueryInfo,Cja),QueryInfo}(),dt=function(){function PreviewDataInfo(e,t,r,n,o,i,a){var s;return CommandModel_classCallCheck(this,PreviewDataInfo),(s=CommandModel_possibleConstructorReturn(this,CommandModel_getPrototypeOf(PreviewDataInfo).call(this,e,t,r,n,o,i))).MaxRows=a,s}return CommandModel_inherits(PreviewDataInfo,ft),PreviewDataInfo}();function SqlCommandModel_typeof(e){return(SqlCommandModel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlCommandModel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlCommandModel_possibleConstructorReturn(e,t){return!t||"object"!==SqlCommandModel_typeof(t)&&"function"!=typeof t?function SqlCommandModel_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlCommandModel_getPrototypeOf(e){return(SqlCommandModel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlCommandModel_setPrototypeOf(e,t){return(SqlCommandModel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var yt=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},ht=function(){function SqlCommandModel(e,t){var r;return function SqlCommandModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlCommandModel),(r=SqlCommandModel_possibleConstructorReturn(this,SqlCommandModel_getPrototypeOf(SqlCommandModel).call(this,e,t))).isSelectCommandType=!1,r.isProcedureCommandType=!1,r.Procedures=new Array,r.SelectedProcedure=null,r.SelectStatement=null,r}return function SqlCommandModel_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlCommandModel_setPrototypeOf(e,t)}(SqlCommandModel,ut),function SqlCommandModel_createClass(e,t,r){return t&&SqlCommandModel_defineProperties(e.prototype,t),r&&SqlCommandModel_defineProperties(e,r),e}(SqlCommandModel,[{key:"Initialize",value:function Initialize(){return yt(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:this.selectCommandTypeValues=this.GetEnumValues(_.SqlDataSourceCommandType),t=this.wizardModel.SelectCommand,this.wizardModel.SelectCommandType==this.selectCommandTypeValues[1].Name?(this.IsSelectCommandType=!0,this.SelectStatement=t):(this.IsProcedureCommandType=!0,this.SelectedProcedure=t),this.updateData();case 4:case"end":return e.stop()}},_callee,this)}))}},{key:"OnEnter",value:function OnEnter(){return yt(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return this.connectionString==this.wizardModel.ConnectionString&&this.providerName==this.wizardModel.ProviderName||(this.connectionString=this.wizardModel.ConnectionString,this.providerName=this.wizardModel.ProviderName,this.isValid=!0),e.next=3,this.FillProcedures();case 3:case"end":return e.stop()}},_callee2,this)}))}},{key:"OnLeave",value:function OnLeave(n){return yt(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(this.updateData(),n.Forward)return t=new Gja(new ft(this.wizardModel.ConnectionName,this.providerName,this.connectionString,this.wizardModel.SelectCommand,this.wizardModel.SelectCommandType,60),this.wizardModel.Parameters),e.next=5,this.wizardModel.ConnectionsService.GetParameters(t);e.next=8;break;case 5:r=e.sent,pt.UpdateParameters(r,this.wizardModel.Parameters),this.ShouldConfigureParameters=0<this.wizardModel.Parameters.length;case 8:case"end":return e.stop()}},_callee3,this)}))}},{key:"FillProcedures",value:function FillProcedures(){return yt(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r,n,o,i,a,s,c;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return t=new Cja("",this.OutputModel.ProviderName,this.OutputModel.ConnectionString),e.prev=1,e.next=4,this.wizardModel.ConnectionsService.GetStoredProcedures(t);case 4:if(!(r=e.sent)){e.next=25;break}for(o=!(n=!0),i=void 0,e.prev=9,a=r[Symbol.iterator]();!(n=(s=a.next()).done);n=!0)c=s.value,this.Procedures.push(SqlCommandModel.GenerateProcedureName(c));e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),o=!0,i=e.t0;case 17:e.prev=17,e.prev=18,n||null==a.return||a.return();case 20:if(e.prev=20,o)throw i;e.next=23;break;case 23:return e.finish(20);case 24:return e.finish(17);case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(1),this.provider.GetService(I.Notifications).Error("Could not access the database stored procedures.",e.t1);case 31:case"end":return e.stop()}},_callee4,this,[[1,27],[9,13,17,25],[18,,20,24]])}))}},{key:"updateData",value:function updateData(){var e=this.wizardModel;this.isProcedureCommandType?(e.SelectCommandType=this.selectCommandTypeValues[0].Name,e.SelectCommand=this.SelectedProcedure):(e.SelectCommandType=this.selectCommandTypeValues[1].Name,e.SelectCommand=this.SelectStatement)}},{key:"Save",value:function Save(){return!0}},{key:"IsModelValid",get:function get(){return!!this.SelectStatement}},{key:"IsSelectCommandType",get:function get(){return this.isSelectCommandType},set:function set(e){this.isSelectCommandType=e,this.isProcedureCommandType=!e,this.updateData()}},{key:"IsProcedureCommandType",get:function get(){return this.isProcedureCommandType},set:function set(e){this.isProcedureCommandType=e,this.isSelectCommandType=!e,this.updateData()}}],[{key:"GenerateProcedureName",value:function GenerateProcedureName(e){return e?"".concat(e.SchemaName,".").concat(e.ProcedureName):null}}]),SqlCommandModel}();function SqlCommandPage_typeof(e){return(SqlCommandPage_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlCommandPage_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlCommandPage_possibleConstructorReturn(e,t){return!t||"object"!==SqlCommandPage_typeof(t)&&"function"!=typeof t?function SqlCommandPage_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlCommandPage_set(e,t,r,n){return(SqlCommandPage_set="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function set(e,t,r,n){var o,i=SqlCommandPage_superPropBase(e,t);if(i){if((o=Object.getOwnPropertyDescriptor(i,t)).set)return o.set.call(n,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(n,t)){if(!o.writable)return!1;o.value=r,Object.defineProperty(n,t,o)}else!function SqlCommandPage_defineProperty(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}(n,t,r);return!0})(e,t,r,n)}function SqlCommandPage_get(e,t,r){return(SqlCommandPage_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=SqlCommandPage_superPropBase(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function SqlCommandPage_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SqlCommandPage_getPrototypeOf(e)););return e}function SqlCommandPage_getPrototypeOf(e){return(SqlCommandPage_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlCommandPage_setPrototypeOf(e,t){return(SqlCommandPage_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var mt=function(){function SqlCommandPage(e,t){return function SqlCommandPage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlCommandPage),SqlCommandPage_possibleConstructorReturn(this,SqlCommandPage_getPrototypeOf(SqlCommandPage).call(this,e,t))}return function SqlCommandPage_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlCommandPage_setPrototypeOf(e,t)}(SqlCommandPage,st),function SqlCommandPage_createClass(e,t,r){return t&&SqlCommandPage_defineProperties(e.prototype,t),r&&SqlCommandPage_defineProperties(e,r),e}(SqlCommandPage,[{key:"CreateModel",value:function CreateModel(e){return this.model=new ht(this.Provider,e),this.model}},{key:"ToggleError",value:function ToggleError(e){this.model.IsSelectCommandType&&$("#SQLSelectStatment").closest(".twd-editor").toggleClass("-invalid",e)}},{key:"DisposePage",value:function DisposePage(){}},{key:"NextPage",get:function get(){return this.initialNextPage||(this.initialNextPage=SqlCommandPage_get(SqlCommandPage_getPrototypeOf(SqlCommandPage.prototype),"NextPage",this)),this.model.ShouldConfigureParameters?this.initialNextPage:this.initialNextPage.NextPage.NextPage},set:function set(e){!function _set(e,t,r,n,o){if(!SqlCommandPage_set(e,t,r,n||e)&&o)throw new Error("failed to set property");return r}(SqlCommandPage_getPrototypeOf(SqlCommandPage.prototype),"NextPage",e,this,!0)}},{key:"pageTemplate",get:function get(){var e=this.model;return'<div class="twd-editor -header">\n                    <h3 title="'.concat(this.Str.SQLDataCommandHeader,'">').concat(this.Str.SQLDataCommandHeader,'</h3>\n                    <div class="editor__info">').concat(this.Str.SQLDataCommandSubHeader,'</div>\n                </div>\n                <div class="twd-editor -textarea -top-label -radio-enum">\n                    <div class="editor__content">\n                        <div class="editor__name" >\n                            <input type="radio" name="sql-command" id="SQLSelectStatment" \n                                class="k-radio" value="true" data-type="boolean"\n                                data-bind="checked: ').concat(p.GetPropName(function(){e.IsSelectCommandType}),'" />\n                            <label title="').concat(this.Str.SQLDataCommandSelectStatement,'" class="k-radio-label" for="SQLSelectStatment" >\n                                ').concat(this.Str.SQLDataCommandSelectStatement,'\n                            </label>\n                        </div>\n                        <div class="editor__value">\n                            <div class="twd-editor -textarea">\n                                <label class="editor__content">\n                                    <textarea wrap="hard" class="k-textbox editor__value"\n                                        data-bind="value: ').concat(p.GetPropName(function(){e.SelectStatement}),",\n                                            enabled: ").concat(p.GetPropName(function(){e.IsSelectCommandType}),'"></textarea>\n                                </label>\n                            </div>\n                        </div>\n                        <div class="editor__error">').concat(this.Str.SQLDataParameterNameValidation,'</div>\n                    </div>\n                </div>\n                <div class="twd-editor -top-label -radio-enum">\n                    <div class="editor__content">\n                        <div class="editor__name" >\n                            <input type="radio" name="sql-command" data-type="boolean"\n                                id="SQLStoredProcedure" class="k-radio" value="false"\n                                    data-bind="checked: ').concat(p.GetPropName(function(){e.IsSelectCommandType}),'"/>\n                            <label title="').concat(this.Str.SQLDataCommandStoredProcedure,'" class="k-radio-label" for="SQLStoredProcedure" >\n                                ').concat(this.Str.SQLDataCommandStoredProcedure,'\n                            </label>\n                        </div>\n                         <input class="editor__value"\n                                        data-role="dropdownlist"\n                                        data-auto-bind="true"\n                                        data-value-primitive="true"\n                                        data-option-label="Select stored procedure"\n                                        data-bind="value: ').concat(p.GetPropName(function(){e.SelectedProcedure}),",\n                                            disabled: ").concat(p.GetPropName(function(){e.IsSelectCommandType}),",\n                                            source: ").concat(p.GetPropName(function(){e.Procedures}),'" />\n                    </div>\n                </div>\n')}}]),SqlCommandPage}();function SqlConnectionModel_typeof(e){return(SqlConnectionModel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlConnectionModel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlConnectionModel_possibleConstructorReturn(e,t){return!t||"object"!==SqlConnectionModel_typeof(t)&&"function"!=typeof t?function SqlConnectionModel_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlConnectionModel_getPrototypeOf(e){return(SqlConnectionModel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlConnectionModel_setPrototypeOf(e,t){return(SqlConnectionModel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var gt=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},vt=function(){function SqlConnectionModel(e,t){var r;return function SqlConnectionModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlConnectionModel),(r=SqlConnectionModel_possibleConstructorReturn(this,SqlConnectionModel_getPrototypeOf(SqlConnectionModel).call(this,e,t))).AvailableConnections=null,r.AvailableProviders=null,r.ProviderName=null,r.usePredefinedConnection=!1,r.ConnectionError=null,r}return function SqlConnectionModel_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlConnectionModel_setPrototypeOf(e,t)}(SqlConnectionModel,ut),function SqlConnectionModel_createClass(e,t,r){return t&&SqlConnectionModel_defineProperties(e.prototype,t),r&&SqlConnectionModel_defineProperties(e,r),e}(SqlConnectionModel,[{key:"Initialize",value:function Initialize(){return gt(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r=this;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.AvailableConnections=this.wizardModel.ConnectionStrings,e.next=3,this.wizardModel.ConnectionsService.GetDbProviders();case 3:t=e.sent,this.AvailableProviders=t.map(function(e){return e.Name}),this.SelectedConnection=this.AvailableConnections.find(function(e){return e.Name==r.OutputModel.ConnectionString}),!this.PredefinedConnectionsAvailable||!this.SelectedConnection&&this.OutputModel.ConnectionString?(this.usePredefinedConnection=!1,this.ProviderName=this.OutputModel.ProviderName,this.connectionString=this.OutputModel.ConnectionString):this.usePredefinedConnection=!0,this.PredefinedConnectionsAvailable&&null==this.SelectedConnection&&0<this.AvailableConnections.length&&(this.SelectedConnection=this.AvailableConnections[0]);case 8:case"end":return e.stop()}},_callee,this)}))}},{key:"OnEnter",value:function OnEnter(){return Promise.resolve()}},{key:"OnLeave",value:function OnLeave(){return gt(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:t=this.OutputModel,this.usePredefinedConnection?(r=this.SelectedConnection)?(t.InitialConnectionName=r.Name,t.ConnectionString=r.ConnectionString,t.ProviderName=r.Provider):(t.InitialConnectionName="",t.ConnectionString="",t.ProviderName=""):(t.InitialConnectionName="connectionStringName1",t.ConnectionString=this.connectionString,t.ProviderName=this.ProviderName);case 2:case"end":return e.stop()}},_callee2,this)}))}},{key:"Save",value:function Save(){return!0}},{key:"IsModelValid",get:function get(){return!!this.connectionString}},{key:"ConnectionString",get:function get(){return this.usePredefinedConnection?null:this.connectionString},set:function set(e){this.connectionString=e}},{key:"PredefinedConnectionsAvailable",get:function get(){return 0<this.AvailableConnections.length}},{key:"UsePredefinedConnection",get:function get(){return this.usePredefinedConnection},set:function set(e){(this.usePredefinedConnection=e)||this.ProviderName||(this.ProviderName=this.AvailableProviders[0])}}]),SqlConnectionModel}();function SqlConnectionPage_typeof(e){return(SqlConnectionPage_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlConnectionPage_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlConnectionPage_possibleConstructorReturn(e,t){return!t||"object"!==SqlConnectionPage_typeof(t)&&"function"!=typeof t?function SqlConnectionPage_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlConnectionPage_get(e,t,r){return(SqlConnectionPage_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function SqlConnectionPage_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SqlConnectionPage_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function SqlConnectionPage_getPrototypeOf(e){return(SqlConnectionPage_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlConnectionPage_setPrototypeOf(e,t){return(SqlConnectionPage_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var bt=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},_t=function(){function SqlConnectionPage(e,t){var r;return function SqlConnectionPage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlConnectionPage),(r=SqlConnectionPage_possibleConstructorReturn(this,SqlConnectionPage_getPrototypeOf(SqlConnectionPage).call(this,e,t))).ConnectionsService=t.GetService(I.ISqlDataConnectionService),r}return function SqlConnectionPage_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlConnectionPage_setPrototypeOf(e,t)}(SqlConnectionPage,st),function SqlConnectionPage_createClass(e,t,r){return t&&SqlConnectionPage_defineProperties(e.prototype,t),r&&SqlConnectionPage_defineProperties(e,r),e}(SqlConnectionPage,[{key:"CreateModel",value:function CreateModel(e){return this.model=new vt(this.Provider,e),this.model}},{key:"Init",value:function Init(){var t=this;SqlConnectionPage_get(SqlConnectionPage_getPrototypeOf(SqlConnectionPage.prototype),"Init",this).call(this),this.Parent.on("click",".test-connection",function(e){return bt(t,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isConnectionValid();case 2:e.sent?$(".-connection-success").show():$(".-connection-success").hide();case 4:case"end":return e.stop()}},_callee,this)}))})}},{key:"DisposePage",value:function DisposePage(){this.Parent.off("click",".test-connection")}},{key:"IsPageValid",value:function IsPageValid(){return bt(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.isConnectionValid());case 1:case"end":return e.stop()}},_callee2,this)}))}},{key:"isConnectionValid",value:function isConnectionValid(){return bt(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.model.UsePredefinedConnection?this.model.SelectedConnection:new Cja(null,this.model.ProviderName,this.model.ConnectionString),e.next=3,this.ConnectionsService.TestConnection(t);case 3:if("true"==(r=e.sent))return this.ViewModel.set("ConnectionError",null),e.abrupt("return",!0);e.next=7;break;case 7:return this.ViewModel.set("ConnectionError",r),e.abrupt("return",!1);case 9:case"end":return e.stop()}},_callee3,this)}))}},{key:"pageTemplate",get:function get(){var e=this.model;return'<div class="twd-editor -header">\n                    <h3 title="'.concat(this.Str.SQLDataConnectionHeader,'">').concat(this.Str.SQLDataConnectionHeader,'</h3>\n                </div>\n                <div class="twd-editor -top-label -radio-enum">\n                    <div class="editor__content">\n                        <div class="editor__name" >\n                            <input type="radio" data-type="boolean"\n                                    name="sql-connection" id="existingSQLConnection"\n                                    class="k-radio" data-bind="checked: ').concat(p.GetPropName(function(){e.UsePredefinedConnection}),'" value="true" />\n                            <label title="').concat(this.Str.SQLExistingDataConnection,'" class="k-radio-label" for="existingSQLConnection" >\n                                ').concat(this.Str.SQLExistingDataConnection,'\n                            </label>\n                        </div>\n                        <div class="editor__value">\n                            <div class="twd-editor -enum">\n                                <label class="editor__content">\n                                    <input class="editor__value"\n                                        data-role="dropdownlist"\n                                        data-text-field="Name"\n                                        data-value-field="Name"\n                                        data-auto-bind="false"\n                                        data-bind="value: ').concat(p.GetPropName(function(){e.SelectedConnection}),",\n                                            enabled: ").concat(p.GetPropName(function(){e.UsePredefinedConnection}),",\n                                            source: ").concat(p.GetPropName(function(){e.AvailableConnections}),'" />\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="twd-editor -top-label -radio-enum">\n                    <div class="editor__content">\n                        <div class="editor__name" >\n                            <input type="radio" data-type="boolean" name="sql-connection" id="newSQLConnection" class="k-radio"\n                                data-bind="checked: ').concat(p.GetPropName(function(){e.UsePredefinedConnection}),'" value="false"/>\n                            <label title="').concat(this.Str.SQLNewDataConnection,'" class="k-radio-label" for="newSQLConnection" >\n                                ').concat(this.Str.SQLNewDataConnection,'\n                            </label>\n                        </div>\n                        <div class="editor__value">\n                            <div class="twd-editor -enum">\n                                <label class="editor__content">\n                                    <span data-bind="attr: { data-disabled: ').concat(p.GetPropName(function(){e.UsePredefinedConnection}),'" \n                                            class="editor__name" title="').concat(this.Str.SQLDataProvider,'">').concat(this.Str.SQLDataProvider,'</span>\n                                    <input class="editor__value"\n                                        data-role="dropdownlist"\n                                        data-auto-bind="false"\n                                        data-bind="value: ').concat(p.GetPropName(function(){e.ProviderName}),",\n                                            disabled: ").concat(p.GetPropName(function(){e.UsePredefinedConnection}),",\n                                            source: ").concat(p.GetPropName(function(){e.AvailableProviders}),'" />\n                                </label>\n                            </div>\n                            <div class="twd-editor -textarea">\n                                <label class="editor__content">\n                                    <span data-bind="attr: { data-disabled: ').concat(p.GetPropName(function(){e.UsePredefinedConnection}),'" \n                                            class="editor__name" title="').concat(this.Str.SQLConnectionString,'">').concat(this.Str.SQLConnectionString,'</span>\n                                    <textarea wrap="hard" class="k-textbox editor__value"\n                                        data-bind=" value: ').concat(p.GetPropName(function(){e.ConnectionString}),",\n                                            disabled: ").concat(p.GetPropName(function(){e.UsePredefinedConnection}),'"></textarea>\n                                </label>\n                            </div>\n                            <div class="editor__content -test-connection">\n                                <button class="k-button test-connection"  data-bind="disabled: ').concat(p.GetPropName(function(){e.UsePredefinedConnection}),'">\n                                    ').concat(this.Str.TestSqlConnection,'\n                                </button>\n                            </div>\n                            <div class="editor__content -connection-error">\n                                <div data-bind="visible: ').concat(p.GetPropName(function(){e.ConnectionError}),'">\n                                    ').concat(this.Str.ConnectionError,'\n                                </div>\n                                <div data-bind="visible: ').concat(p.GetPropName(function(){e.ConnectionError}),", text: ").concat(p.GetPropName(function(){e.ConnectionError}),'">\n                                </div>\n                            </div>\n                            <div class="editor__content -connection-success">\n                                <div>').concat(this.Str.ConnectionSuccess,"</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n")}}]),SqlConnectionPage}();function SqlParametersModelBase_typeof(e){return(SqlParametersModelBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlParametersModelBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlParametersModelBase_possibleConstructorReturn(e,t){return!t||"object"!==SqlParametersModelBase_typeof(t)&&"function"!=typeof t?function SqlParametersModelBase_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlParametersModelBase_getPrototypeOf(e){return(SqlParametersModelBase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlParametersModelBase_setPrototypeOf(e,t){return(SqlParametersModelBase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var St=function(){function SqlParametersModelBase(e,t){var r;return function SqlParametersModelBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlParametersModelBase),(r=SqlParametersModelBase_possibleConstructorReturn(this,SqlParametersModelBase_getPrototypeOf(SqlParametersModelBase).call(this,e,t))).str=r.provider.GetService(I.WebReportDesignerStrings),r.parameters=t.Parameters,r}return function SqlParametersModelBase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlParametersModelBase_setPrototypeOf(e,t)}(SqlParametersModelBase,ut),function SqlParametersModelBase_createClass(e,t,r){return t&&SqlParametersModelBase_defineProperties(e.prototype,t),r&&SqlParametersModelBase_defineProperties(e,r),e}(SqlParametersModelBase,[{key:"UpdateParameter",value:function UpdateParameter(e,t){var r=(1<arguments.length&&void 0!==t?t:null)||this.findParameter(e.ID);this.parameters[r].Value=e.Value}},{key:"findParameter",value:function findParameter(e){var t=0;for(var r in this.parameters){if(this.parameters[r].ID===e){t=parseInt(r);break}}return t}},{key:"AddNewParameter",value:function AddNewParameter(){this.parameters.push(new lt(this.parameters))}},{key:"Save",value:function Save(){return!0}},{key:"removeParameter",value:function removeParameter(r){function Bpb(e){var t=n.parameters[e];r.filter(function(e){return e.ID===t.ID}).length||n.parameters.splice(parseInt(e),1)}var n=this;for(var e in this.parameters)Bpb(e)}},{key:"Parameters",get:function get(){return this.parameters},set:function set(e){var t;e.length<this.parameters.length&&this.removeParameter(e);var r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0)t=i.value,this.UpdateParameter(t)}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}}]),SqlParametersModelBase}();function SqlDesignerParametersModel_typeof(e){return(SqlDesignerParametersModel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlDesignerParametersModel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlDesignerParametersModel_possibleConstructorReturn(e,t){return!t||"object"!==SqlDesignerParametersModel_typeof(t)&&"function"!=typeof t?function SqlDesignerParametersModel_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlDesignerParametersModel_getPrototypeOf(e){return(SqlDesignerParametersModel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlDesignerParametersModel_setPrototypeOf(e,t){return(SqlDesignerParametersModel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ct=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Pt=function(){function SqlDesignerParametersMode(e,t){return function SqlDesignerParametersModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlDesignerParametersMode),SqlDesignerParametersModel_possibleConstructorReturn(this,SqlDesignerParametersModel_getPrototypeOf(SqlDesignerParametersMode).call(this,e,t))}return function SqlDesignerParametersModel_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlDesignerParametersModel_setPrototypeOf(e,t)}(SqlDesignerParametersMode,St),function SqlDesignerParametersModel_createClass(e,t,r){return t&&SqlDesignerParametersModel_defineProperties(e.prototype,t),r&&SqlDesignerParametersModel_defineProperties(e,r),e}(SqlDesignerParametersMode,[{key:"Initialize",value:function Initialize(){return Ct(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:this.parameters=this.wizardModel.DesignTimeParameters;case 1:case"end":return e.stop()}},_callee,this)}))}},{key:"OnEnter",value:function OnEnter(){return Promise.resolve()}},{key:"OnLeave",value:function OnLeave(){return Promise.resolve()}}]),SqlDesignerParametersMode}();function SqlParametersPageBase_typeof(e){return(SqlParametersPageBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlParametersPageBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlParametersPageBase_possibleConstructorReturn(e,t){return!t||"object"!==SqlParametersPageBase_typeof(t)&&"function"!=typeof t?function SqlParametersPageBase_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlParametersPageBase_getPrototypeOf(e){return(SqlParametersPageBase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlParametersPageBase_setPrototypeOf(e,t){return(SqlParametersPageBase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var wt=function(){function SqlParametersPageBase(e,t){var r;return function SqlParametersPageBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlParametersPageBase),(r=SqlParametersPageBase_possibleConstructorReturn(this,SqlParametersPageBase_getPrototypeOf(SqlParametersPageBase).call(this,e,t))).expressionPopUpEditor=null,r.Grid=null,r.EditItem=null,r}return function SqlParametersPageBase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlParametersPageBase_setPrototypeOf(e,t)}(SqlParametersPageBase,st),function SqlParametersPageBase_createClass(e,t,r){return t&&SqlParametersPageBase_defineProperties(e.prototype,t),r&&SqlParametersPageBase_defineProperties(e,r),e}(SqlParametersPageBase,[{key:"AdjustGrid",value:function AdjustGrid(){this.Grid.element.find(".k-grid-toolbar").insertAfter(this.Grid.element.find("table[role='grid']"))}},{key:"DisposePage",value:function DisposePage(){this.Grid&&this.Grid.table&&this.Grid.destroy()}},{key:"addParameter",value:function addParameter(){this.model.AddNewParameter(),this.ViewModel.set("Parameters",this.model.Parameters)}}]),SqlParametersPageBase}();function SqlDesignerParametersPage_typeof(e){return(SqlDesignerParametersPage_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlDesignerParametersPage_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlDesignerParametersPage_possibleConstructorReturn(e,t){return!t||"object"!==SqlDesignerParametersPage_typeof(t)&&"function"!=typeof t?function SqlDesignerParametersPage_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlDesignerParametersPage_get(e,t,r){return(SqlDesignerParametersPage_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function SqlDesignerParametersPage_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SqlDesignerParametersPage_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function SqlDesignerParametersPage_getPrototypeOf(e){return(SqlDesignerParametersPage_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlDesignerParametersPage_setPrototypeOf(e,t){return(SqlDesignerParametersPage_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ot=function(){function SqlDesignerParametersPage(){return function SqlDesignerParametersPage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlDesignerParametersPage),SqlDesignerParametersPage_possibleConstructorReturn(this,SqlDesignerParametersPage_getPrototypeOf(SqlDesignerParametersPage).apply(this,arguments))}return function SqlDesignerParametersPage_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlDesignerParametersPage_setPrototypeOf(e,t)}(SqlDesignerParametersPage,wt),function SqlDesignerParametersPage_createClass(e,t,r){return t&&SqlDesignerParametersPage_defineProperties(e.prototype,t),r&&SqlDesignerParametersPage_defineProperties(e,r),e}(SqlDesignerParametersPage,[{key:"Init",value:function Init(){SqlDesignerParametersPage_get(SqlDesignerParametersPage_getPrototypeOf(SqlDesignerParametersPage.prototype),"Init",this).call(this),this.$placeholder=this.Parent.find(".-designer-parameters"),this.AdjustGrid(),this.$error=this.$placeholder.find(".editor__error")}},{key:"AdjustGrid",value:function AdjustGrid(){this.Grid=this.$placeholder.find(".editor__grid-parameters[data-role='grid']").data("kendoGrid")}},{key:"CreateModel",value:function CreateModel(e){return this.model=new Pt(this.Provider,e),this.model}},{key:"pageTemplate",get:function get(){var e=this.model;return'<div class="twd-editor -header">\n                    <h3 title="'.concat(this.Str.SQLDataDesignerParametersHeader,'">').concat(this.Str.SQLDataDesignerParametersHeader,'</h3>\n                    <div class="editor__info">').concat(this.Str.SQLDataDesignerParametersSubHeader,'</div>\n                </div>\n\n                <div class="twd-editor -grid -designer-parameters">\n                    <div class="editor__content">\n                        <div class="editor__grid-parameters" data-role="grid"\n                            data-sortable="false"\n                            data-editable="true" \n                            data-scrollable="false"\n                            data-selectable="false"\n                            data-bind="source: ').concat(p.GetPropName(function(){e.Parameters}),"\"\n                            data-auto-bind=\"false\"\n                            data-columns=\"[\n                                { 'field': 'Name', title: '").concat(this.Str.SQLDataParameterName,"', 'width': '20%'},\n                                { 'field': 'Value.Value', title: '").concat(this.Str.SQLDataParameterValue,"'},\n                            ]\">\n                        </div>\n                    </div>\n                </div>\n        ")}}]),SqlDesignerParametersPage}();function WizardsActionNames_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Et=function(){function WizardsActionNames(){!function WizardsActionNames_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WizardsActionNames)}return function WizardsActionNames_createClass(e,t,r){return t&&WizardsActionNames_defineProperties(e.prototype,t),r&&WizardsActionNames_defineProperties(e,r),e}(WizardsActionNames,null,[{key:"OpenExpressionWindow",get:function get(){return"OpenExpressionWindow"}},{key:"OpenNewParameterWindow",get:function get(){return"OpenNewParameterWindow"}}]),WizardsActionNames}();function Wja(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:300,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:200;!function PopUpWindowDimensions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Wja),this.Width=e,this.Height=t,this.MinWidth=r,this.MinHeight=n}function EditorBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var kt=function(){function EditorBase(e,t){!function EditorBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EditorBase),this.parentElement=e,this.provider=t,this.id=this.createID,this.webDesignerEventsElement=this.provider.GetService(I.WebDesignerEventsElement),this.dsEventsElement=this.provider.GetService(I.DesignSurfaceEventsElement),this.str=this.provider.GetService(I.WebReportDesignerStrings),this.States={Normal:0,ReadOnly:1,Disabled:2},this.state=this.States.Normal}return function EditorBase_createClass(e,t,r){return t&&EditorBase_defineProperties(e.prototype,t),r&&EditorBase_defineProperties(e,r),e}(EditorBase,[{key:"init",value:function init(){this.parentElement.append(this.template),this.$visualElement=$("#"+this.id)}},{key:"initEventListener",value:function initEventListener(r){for(var n=this,o=this,e=function _loop(e){var t=r[e];n.$visualElement.find(t.ElementSelector).off(t.EventType).on(t.EventType,function(e){o[t.Callback](e,$(this))})},t=0;t<r.length;t++)e(t)}},{key:"RefreshOverride",value:function RefreshOverride(){throw new Error("Method not implemented.")}},{key:"Dispose",value:function Dispose(){throw new Error("Method not implemented.")}},{key:"SetTitle",value:function SetTitle(e){this.$visualElement.find(".editor__name").first().attr("title",e).html(e)}},{key:"UpdateStateUI",value:function UpdateStateUI(){}},{key:"createID",get:function get(){var t=window.crypto||window.msCrypto;return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^t.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}},{key:"LocalizedName",get:function get(){return"UNNAMED EDITOR"}},{key:"template",get:function get(){return null}},{key:"VisualElement",get:function get(){return this.$visualElement}},{key:"ParentVisual",get:function get(){return this.parentElement}},{key:"Enabled",get:function get(){return(this.state&this.States.Disabled)!=this.States.Disabled},set:function set(e){this.State=e?this.State&~this.States.Disabled:this.State|this.States.Disabled}},{key:"State",get:function get(){return this.state},set:function set(e){this.state=e,this.UpdateStateUI()}},{key:"StringResources",get:function get(){return this.str}}]),EditorBase}();function PopUpEditor_typeof(e){return(PopUpEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PopUpEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PopUpEditor_possibleConstructorReturn(e,t){return!t||"object"!==PopUpEditor_typeof(t)&&"function"!=typeof t?function PopUpEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PopUpEditor_get(e,t,r){return(PopUpEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function PopUpEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PopUpEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function PopUpEditor_getPrototypeOf(e){return(PopUpEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PopUpEditor_setPrototypeOf(e,t){return(PopUpEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Tt=function(){function PopUpEditor(e,t){var r;return function PopUpEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PopUpEditor),(r=PopUpEditor_possibleConstructorReturn(this,PopUpEditor_getPrototypeOf(PopUpEditor).call(this,e,t))).kendoWidgetInstances=[],r.childEditors=[],r.init(),r}return function PopUpEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PopUpEditor_setPrototypeOf(e,t)}(PopUpEditor,kt),function PopUpEditor_createClass(e,t,r){return t&&PopUpEditor_defineProperties(e.prototype,t),r&&PopUpEditor_defineProperties(e,r),e}(PopUpEditor,[{key:"Open",value:function Open(e,t){var r=1<arguments.length&&void 0!==t?t:"";this.popUp.center().open(),this.popUp.setOptions({title:this.PopUpTitle(r)}),this.opened=!0}},{key:"PopUpTitle",value:function PopUpTitle(e){return"".concat(this.str.Edit," ").concat(e)}},{key:"Close",value:function Close(){this.closePopUp()}},{key:"Dispose",value:function Dispose(){this.kendoWidgetInstances.length&&this.kendoWidgetInstances.forEach(function(e){return e.destroy()}),this.kendoWidgetInstances=[],this.VisualElement&&this.VisualElement.remove()}},{key:"RefreshOverride",value:function RefreshOverride(){}},{key:"ShowError",value:function ShowError(){}},{key:"init",value:function init(){PopUpEditor_get(PopUpEditor_getPrototypeOf(PopUpEditor.prototype),"init",this).call(this),this.initPopUp(),this.opened=!1}},{key:"initPopUp",value:function initPopUp(){var t=this,e=this.windowDimensions;this.popUp=this.VisualElement.kendoWindow({title:this.str.Edit,visible:!1,actions:[],width:e.Width,height:e.Height,minWidth:e.MinWidth,minHeight:e.MinHeight,modal:!0,activate:function activate(){t.focusElement()}}).data("kendoWindow"),$("#".concat(this.id)).off("click",".twd-buttons .k-button").on("click",".twd-buttons .k-button",function(e){t.executeAction(e,$(e.currentTarget))}),this.kendoWidgetInstances.push(this.popUp),this.popUp.element.closest(".k-window").addClass(s.WebDesignerPartsClassName),this.popUp.element.closest(".k-window").find(".k-window-titlebar").addClass(s.ModalWindowHeaderClass)}},{key:"focusElement",value:function focusElement(){}},{key:"saveChanges",value:function saveChanges(){}},{key:"executeAction",value:function executeAction(e,t){e.stopPropagation();var r=t.attr("data-action");this[this.Actions[r]](t)}},{key:"cancelChanges",value:function cancelChanges(){this.closePopUp()}},{key:"closePopUp",value:function closePopUp(){this.popUp.close(),this.opened=!1,this.clearChanges()}},{key:"clearChanges",value:function clearChanges(){}},{key:"template",get:function get(){return'<div id="'.concat(this.id,'" class="').concat(this.ClassName,'">\n                    <div class="twd-editors -no-bg-color">\n                    </div>\n                    <div class="twd-buttons k-window-buttongroup k-widget">\n                        <button class="k-button k-primary" data-action="save" >').concat(this.str.SaveButton,'</button>\n                        <button class="k-button" data-action="cancel" >').concat(this.str.CancelButton,"</button>\n                    </div>\n                </div>")}},{key:"windowDimensions",get:function get(){return new Wja(800,265)}},{key:"ClassName",get:function get(){return s.ModalWindowClasses}},{key:"IsOpen",get:function get(){return this.opened}},{key:"Actions",get:function get(){return{save:"saveChanges",cancel:"cancelChanges"}}}]),PopUpEditor}();function TextareaPopUpEditor_typeof(e){return(TextareaPopUpEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TextareaPopUpEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TextareaPopUpEditor_possibleConstructorReturn(e,t){return!t||"object"!==TextareaPopUpEditor_typeof(t)&&"function"!=typeof t?function TextareaPopUpEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TextareaPopUpEditor_get(e,t,r){return(TextareaPopUpEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function TextareaPopUpEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TextareaPopUpEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function TextareaPopUpEditor_getPrototypeOf(e){return(TextareaPopUpEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TextareaPopUpEditor_setPrototypeOf(e,t){return(TextareaPopUpEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Dt=function(){function TextareaPopUpEditor(){return function TextareaPopUpEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextareaPopUpEditor),TextareaPopUpEditor_possibleConstructorReturn(this,TextareaPopUpEditor_getPrototypeOf(TextareaPopUpEditor).apply(this,arguments))}return function TextareaPopUpEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TextareaPopUpEditor_setPrototypeOf(e,t)}(TextareaPopUpEditor,Tt),function TextareaPopUpEditor_createClass(e,t,r){return t&&TextareaPopUpEditor_defineProperties(e.prototype,t),r&&TextareaPopUpEditor_defineProperties(e,r),e}(TextareaPopUpEditor,[{key:"Open",value:function Open(e,t){var r=1<arguments.length&&void 0!==t?t:"";TextareaPopUpEditor_get(TextareaPopUpEditor_getPrototypeOf(TextareaPopUpEditor.prototype),"Open",this).call(this,e,r),this.$inputDomEl.val(e),this.$inputDomEl[0].setSelectionRange(e.length,e.length)}},{key:"ShowError",value:function ShowError(){this.$inputDomEl.addClass("-error")}},{key:"init",value:function init(){TextareaPopUpEditor_get(TextareaPopUpEditor_getPrototypeOf(TextareaPopUpEditor.prototype),"init",this).call(this),this.initTextarea(),this.$inputDomEl=this.$visualElement.find(".editor__value")}},{key:"initTextarea",value:function initTextarea(){this.VisualElement.find(".twd-editors").append(this.textareaTemplate)}},{key:"focusElement",value:function focusElement(){this.$inputDomEl.focus()}},{key:"saveChanges",value:function saveChanges(){this.ParentVisual.trigger(y.PopUpUpdateValue,this.$inputDomEl.val())}},{key:"closePopUp",value:function closePopUp(){TextareaPopUpEditor_get(TextareaPopUpEditor_getPrototypeOf(TextareaPopUpEditor.prototype),"closePopUp",this).call(this),this.$inputDomEl.removeClass("-error")}},{key:"textareaTemplate",get:function get(){return'<div class="twd-editor -textarea">\n                    <label class="editor__content">\n                        <textarea wrap="hard" class="k-textbox editor__value" ></textarea>\n                    </label>\n                </div>'}}]),TextareaPopUpEditor}();function NodeNamingManager_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var xt=function(){function NodeNamingManager(){!function NodeNamingManager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NodeNamingManager)}return function NodeNamingManager_createClass(e,t,r){return t&&NodeNamingManager_defineProperties(e.prototype,t),r&&NodeNamingManager_defineProperties(e,r),e}(NodeNamingManager,null,[{key:"Separator",value:function Separator(){return"->"}},{key:"FormatText",value:function FormatText(e,t,r){var n=NodeNamingManager.Separator(),o=e?e.Name:"";if(null==o&&(o=(o=e.NetType)||"(".concat(e.constructor.name,")")),t){var i=t.join(n);""!==o&&(i="".concat(i).concat(n).concat(o)),o=i}return null!=r&&(o="".concat(o).concat(n).concat(r)),o}},{key:"FormatFakeNodeText",value:function FormatFakeNodeText(e){return"[".concat(e,"]")}}]),NodeNamingManager}();function _ja(e,t,r){!function TreeNode_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_ja),this.text=e,this.fullName=t,this.spriteCssClass=r,this.nodes=[],this.selected=!1,this.expanded=!0}function DataSourceSchema_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Rt=function(){function DataSourceSchema(e){!function DataSourceSchema_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DataSourceSchema),this.schemaService=e}return function DataSourceSchema_createClass(e,t,r){return t&&DataSourceSchema_defineProperties(e.prototype,t),r&&DataSourceSchema_defineProperties(e,r),e}(DataSourceSchema,[{key:"CreateDataSourcesNode",value:function CreateDataSourcesNode(e,t,r){var n=[t,G.DataSources],o=this.schemaService.GetFullIconClass(_.DataSourceCollection),i=xt.FormatFakeNodeText(r),a=new _ja(i,xt.FormatText(null,this.insertDesignerInPath(n),null),o);if(e)for(var s=0;s<e.length;s++){var c=e[s],u=xt.FormatText(null,n,s);a.nodes.push(this.CreateDataSourceNode(c,u))}return a}},{key:"CreateDataSourceNode",value:function CreateDataSourceNode(e,t){var r=new _ja(e.Name,t,this.schemaService.GetFullIconClass(e.Type));return this.createMeasureNodes(r,[r.fullName,G.DataModel,G.Measures],e.DataModel.Measures),r}},{key:"createMeasureNodes",value:function createMeasureNodes(e,t,r){for(var n=0;n<r.length;n++){var o=r[n],i=new _ja(o.Name,xt.FormatText(null,t,n),this.schemaService.GetFullIconClass(o.DataType));o.Measures.length&&(t.push(n,G.Measures),this.createMeasureNodes(i,t,o.Measures),t.splice(t.length-2,2)),i.expanded=!1,e.nodes.push(i)}}},{key:"insertDesignerInPath",value:function insertDesignerInPath(e){var t=Array.from(e);return t.splice(1,0,"Designer"),t}}]),DataSourceSchema}();function BindingScope_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var It=function(){function BindingScope(){!function BindingScope_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BindingScope)}return function BindingScope_createClass(e,t,r){return t&&BindingScope_defineProperties(e.prototype,t),r&&BindingScope_defineProperties(e,r),e}(BindingScope,null,[{key:"NotSet",get:function get(){return"NotSet"}},{key:"ParentDataSource",get:function get(){return"ParentDataSource"}},{key:"Self",get:function get(){return"Self"}},{key:"ChildDataSource",get:function get(){return"ChildDataSource"}}]),BindingScope}();function ExpressionEditorDataSchema_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Gt=function(){function ExpressionEditorDataSchema(e){!function ExpressionEditorDataSchema_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ExpressionEditorDataSchema),this.provider=e}return function ExpressionEditorDataSchema_createClass(e,t,r){return t&&ExpressionEditorDataSchema_defineProperties(e.prototype,t),r&&ExpressionEditorDataSchema_defineProperties(e,r),e}(ExpressionEditorDataSchema,[{key:"GetDatasourceFields",value:function GetDatasourceFields(e,t,r){var n=new Rt(e),o=this.provider.GetService(I.SelectionService).PrimarySelection,i=o.GetProperty(r),a=i?i.BindingScope:It.NotSet,s=this.resolveSelectionDataContext(a,o);if(s){var c=t.find(function(e){return e.Name==s});if(c){var u=n.CreateDataSourceNode(c,"Fields");return u.name="Fields - "+u.text,u.spriteCssClass=null,u}}return this.dummyDataNode()}},{key:"resolveSelectionDataContext",value:function resolveSelectionDataContext(e,t){var r=null;switch(e){case It.ChildDataSource:r=t;break;case It.NotSet:r=t instanceof U?t:ze.GetParentByType(t,U);break;case It.ParentDataSource:r=t.Parent}return r instanceof U?r.DataSourceName:null}},{key:"dummyDataNode",value:function dummyDataNode(){var e=new _ja("Fields","","");return e.name=e.text,e}}]),ExpressionEditorDataSchema}();function ExpressionPopUpEditor_typeof(e){return(ExpressionPopUpEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ExpressionPopUpEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ExpressionPopUpEditor_possibleConstructorReturn(e,t){return!t||"object"!==ExpressionPopUpEditor_typeof(t)&&"function"!=typeof t?function ExpressionPopUpEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ExpressionPopUpEditor_get(e,t,r){return(ExpressionPopUpEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function ExpressionPopUpEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ExpressionPopUpEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function ExpressionPopUpEditor_getPrototypeOf(e){return(ExpressionPopUpEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ExpressionPopUpEditor_setPrototypeOf(e,t){return(ExpressionPopUpEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var jt=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Bt=function(){function ExpressionPopUpEditor(){return function ExpressionPopUpEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ExpressionPopUpEditor),ExpressionPopUpEditor_possibleConstructorReturn(this,ExpressionPopUpEditor_getPrototypeOf(ExpressionPopUpEditor).apply(this,arguments))}return function ExpressionPopUpEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ExpressionPopUpEditor_setPrototypeOf(e,t)}(ExpressionPopUpEditor,Dt),function ExpressionPopUpEditor_createClass(e,t,r){return t&&ExpressionPopUpEditor_defineProperties(e.prototype,t),r&&ExpressionPopUpEditor_defineProperties(e,r),e}(ExpressionPopUpEditor,[{key:"Open",value:function Open(t,e){var r=this,n=1<arguments.length&&void 0!==e?e:"",o=Object.create(null,{Open:{get:function get(){return ExpressionPopUpEditor_get(ExpressionPopUpEditor_getPrototypeOf(ExpressionPopUpEditor.prototype),"Open",r)}}});return jt(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getExpressionBuilderHierarchy(n);case 2:this.expressionSchema&&(this.initExpressionModel(),o.Open.call(this,t,n));case 3:case"end":return e.stop()}},_callee,this)}))}},{key:"init",value:function init(){ExpressionPopUpEditor_get(ExpressionPopUpEditor_getPrototypeOf(ExpressionPopUpEditor.prototype),"init",this).call(this),this.expressionSchema=null,this.fields=null,this.selectedField=null,this.values=null,this.selectedValue=null,this.description=null,this.isInitialized=!1}},{key:"getExpressionBuilderHierarchy",value:function getExpressionBuilderHierarchy(i){return jt(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r,n,o;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.ISchemaService),e.next=3,t.GetExpressionBuilderSchema();case 3:return this.schema=e.sent,r=this.getReport(),e.next=7,this.GetCategoriesCopyWithParameters(t,r.ReportParameters);case 7:n=e.sent,i&&(o=new Gt(this.provider).GetDatasourceFields(t,r.DataSources,i),n.splice(1,0,o)),this.expressionSchema=this.createKendoHierarchicalDataSource(n,"categories");case 10:case"end":return e.stop()}},_callee2,this)}))}},{key:"GetCategoriesCopyWithParameters",value:function GetCategoriesCopyWithParameters(n,o){return jt(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.GetExpressionBuilderParametersSchema(o);case 2:return t=e.sent,(r=JSON.parse(JSON.stringify(this.schema.categories))).splice(-1,0,t),e.abrupt("return",r);case 6:case"end":return e.stop()}},_callee3,this)}))}},{key:"getReport",value:function getReport(){return this.provider.GetService(I.IDesignerHost).RootComponent}},{key:"createKendoHierarchicalDataSource",value:function createKendoHierarchicalDataSource(e,t){return new kendo.data.HierarchicalDataSource({data:e,schema:{model:{children:t}}})}},{key:"initExpressionModel",value:function initExpressionModel(){var t=this;if(this.isInitialized)this.updateExpressionModel();else{this.VisualElement.find(".twd-editors").append(this.extendTemplate);var e=this.VisualElement.find(".editor__fields");this.values=this.VisualElement.find(".editor__values"),this.description=this.VisualElement.find(".editor__description"),this.fields=e.kendoTreeView({dataSource:this.expressionSchema,dataTextField:["name"],select:function select(e){t.selectedField=e.sender.dataItem(e.node),t.updateValuesModel(),t.updateDescriptionModel()}}).data("kendoTreeView"),this.isInitialized=!0}}},{key:"updateExpressionModel",value:function updateExpressionModel(){this.fields.setDataSource(this.expressionSchema)}},{key:"updateFieldsModel",value:function updateFieldsModel(){}},{key:"updateValuesModel",value:function updateValuesModel(){var r=this;if(this.selectedValue=null,this.values.children.length&&(kendo.destroy(this.values),this.values.html("<div></div>")),this.selectedField.nodes&&this.selectedField.nodes.length){var e=this.createKendoHierarchicalDataSource(this.selectedField.nodes,"nodes");this.values.find("div").kendoTreeView({dataSource:e,select:function select(e){r.selectedValue=e.sender.dataItem(e.node),r.updateDescriptionModel()}}).data("kendoTreeView").element.on("dblclick",".k-item",function(e){var t="Fields.".concat(e.currentTarget.innerText);r.addValue(t),e.stopPropagation()})}else if(this.selectedField.items&&this.selectedField.items.length){var t=new kendo.data.DataSource({data:this.selectedField.items});this.values.find("div").kendoListView({dataSource:t,selectable:"single",change:function change(e){r.selectedValue=e.sender.dataItem(e.sender.select()),r.updateDescriptionModel()},template:kendo.template("<div data-value='#:value#' class='list-item'>#:name#</div>")}).data("kendoListView").wrapper.off("dblclick").on("dblclick",".list-item",function(e){e.preventDefault(),r.addValue($(e.currentTarget).attr("data-value"))})}}},{key:"updateDescriptionModel",value:function updateDescriptionModel(){var e=this.selectedValue?this.selectedValue:this.selectedField,t=e.description?e.description:e.name;this.description.html(t)}},{key:"addValue",value:function addValue(e){var t=this.$inputDomEl.prop("selectionStart"),r=this.$inputDomEl.val().trim();r.length||(r="= ",t=2);var n=r.substring(0,t),o=r.substring(t,r.length);t+=e.length,this.$inputDomEl.val(n+e+o).focus().prop("selectionStart",t).prop("selectionEnd",t)}},{key:"extendTemplate",get:function get(){return'<div class="twd-editor -expression-builder">\n                    <div class="editor__content">\n                        <div class="editor__item k-widget">\n                            <div class="editor__fields"></div>\n                        </div>\n                        <div class="editor__item k-widget">\n                            <div class="editor__values"></div>\n                        </div>\n                        <div class="editor__item -last k-widget">\n                            <div class="editor__description"></div>\n                        </div>\n                    </div>\n                </div>'}},{key:"windowDimensions",get:function get(){return new Wja(800,600)}}]),ExpressionPopUpEditor}();function SqlParametersModel_typeof(e){return(SqlParametersModel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlParametersModel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlParametersModel_possibleConstructorReturn(e,t){return!t||"object"!==SqlParametersModel_typeof(t)&&"function"!=typeof t?function SqlParametersModel_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlParametersModel_get(e,t,r){return(SqlParametersModel_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function SqlParametersModel_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SqlParametersModel_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function SqlParametersModel_getPrototypeOf(e){return(SqlParametersModel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlParametersModel_setPrototypeOf(e,t){return(SqlParametersModel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Mt=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},At=function(){function SqlParametersModel(e,t){var r;return function SqlParametersModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlParametersModel),(r=SqlParametersModel_possibleConstructorReturn(this,SqlParametersModel_getPrototypeOf(SqlParametersModel).call(this,e,t))).rootComponent=e.GetService(I.IDesignerHost).RootComponent,r.reportParameters=r.rootComponent.GetProperty("ReportParameters").GetValue(r.rootComponent,r.rootComponent.PropertyStore),r.availableNames=null,r.dBTypes=null,r.values=[{Name:r.str.SQLDataParameterValueBlank,Value:""},{Name:r.str.SQLDataParameterValueExpression,Value:null,action:Et.OpenExpressionWindow}],r}return function SqlParametersModel_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlParametersModel_setPrototypeOf(e,t)}(SqlParametersModel,St),function SqlParametersModel_createClass(e,t,r){return t&&SqlParametersModel_defineProperties(e.prototype,t),r&&SqlParametersModel_defineProperties(e,r),e}(SqlParametersModel,[{key:"UpdateParameter",value:function UpdateParameter(e){var t=this.findParameter(e.ID);SqlParametersModel_get(SqlParametersModel_getPrototypeOf(SqlParametersModel.prototype),"UpdateParameter",this).call(this,e,t),this.parameters[t].Name=e.Name,this.parameters[t].DbType=e.DbType}},{key:"Initialize",value:function Initialize(){return Mt(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:this.parameters=this.wizardModel.Parameters,this.availableValues(this.reportParameters),this.dBTypes=this.GetEnumValues("DbType");case 3:case"end":return e.stop()}},_callee,this)}))}},{key:"OnEnter",value:function OnEnter(){return Promise.resolve()}},{key:"OnLeave",value:function OnLeave(t){return Mt(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:t.Forward&&pt.UpdateParameters(this.wizardModel.Parameters,this.wizardModel.DesignTimeParameters);case 1:case"end":return e.stop()}},_callee2,this)}))}},{key:"resolveAvailableNames",value:function resolveAvailableNames(){var e=[],t=!0,r=!1,n=void 0;try{for(var o,i=this.Parameters[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.push({Name:a.Name,Value:a.Name})}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e}},{key:"availableValues",value:function availableValues(e){var r=this,t=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value,c="= Parameters.".concat(s.Name,".Value");this.values.push({Name:c,Value:c})}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}var u=!0,l=!1,p=void 0;try{for(var f,d=this.parameters[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var y=f.value;y.Value&&function(){var t="".concat(y.Value.Value);r.values.filter(function(e){return e.Value!==t}).length===r.values.length&&r.values.push({Name:t,Value:t})}()}}catch(e){l=!0,p=e}finally{try{u||null==d.return||d.return()}finally{if(l)throw p}}}},{key:"DBTypes",get:function get(){return this.dBTypes}},{key:"Values",get:function get(){return this.values}},{key:"AvailableNames",get:function get(){return this.availableNames||(this.availableNames=this.resolveAvailableNames()),this.availableNames}}]),SqlParametersModel}();function SqlParametersPage_typeof(e){return(SqlParametersPage_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlParametersPage_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlParametersPage_possibleConstructorReturn(e,t){return!t||"object"!==SqlParametersPage_typeof(t)&&"function"!=typeof t?function SqlParametersPage_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlParametersPage_get(e,t,r){return(SqlParametersPage_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function SqlParametersPage_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SqlParametersPage_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function SqlParametersPage_getPrototypeOf(e){return(SqlParametersPage_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlParametersPage_setPrototypeOf(e,t){return(SqlParametersPage_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Nt=function(){function SqlParametersPage(){return function SqlParametersPage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlParametersPage),SqlParametersPage_possibleConstructorReturn(this,SqlParametersPage_getPrototypeOf(SqlParametersPage).apply(this,arguments))}return function SqlParametersPage_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlParametersPage_setPrototypeOf(e,t)}(SqlParametersPage,wt),function SqlParametersPage_createClass(e,t,r){return t&&SqlParametersPage_defineProperties(e.prototype,t),r&&SqlParametersPage_defineProperties(e,r),e}(SqlParametersPage,[{key:"Init",value:function Init(){var r=this;SqlParametersPage_get(SqlParametersPage_getPrototypeOf(SqlParametersPage.prototype),"Init",this).call(this),this.$placeholder=this.Parent.find(".-parameters"),this.$placeholder.on(y.PopUpUpdateValue,function(e,t){r.updateValue(t)}),this.AdjustGrid(),this.$error=this.$placeholder.find(".editor__error")}},{key:"AdjustGrid",value:function AdjustGrid(){var r=this;this.Grid=this.$placeholder.find(".editor__grid-parameters[data-role='grid']").data("kendoGrid"),$.each(this.Grid.columns,function(e,t){switch(t.field){case"Name":t.editor=r.nameEditor.bind(r);break;case"Value.Value":t.editor=r.valueEditor.bind(r);break;case"DbType":t.editor=r.dbTypeEditor.bind(r)}}),this.Grid.bind("dataBinding",this.saveErrorRows.bind(this)),this.Grid.bind("dataBound",this.updateGridErrorStyle.bind(this)),this.Grid.element.find(".k-grid-toolbar").on("click",".k-button",this.addParameter.bind(this)),SqlParametersPage_get(SqlParametersPage_getPrototypeOf(SqlParametersPage.prototype),"AdjustGrid",this).call(this)}},{key:"DisposePage",value:function DisposePage(){SqlParametersPage_get(SqlParametersPage_getPrototypeOf(SqlParametersPage.prototype),"DisposePage",this).call(this),this.$placeholder&&this.$placeholder.off(y.PopUpUpdateValue)}},{key:"CreateModel",value:function CreateModel(e){return this.model=new At(this.Provider,e),this.model}},{key:"saveErrorRows",value:function saveErrorRows(e){var r=this;this.gridAction=e.action;var t=this.Grid.element.find("tbody tr:visible");this.errorRows=[],t.each(function(e,t){$(t).hasClass("k-state-error")&&r.errorRows.push(e)}),this.newItemIsAdded=e.items.length>t.length}},{key:"updateGridErrorStyle",value:function updateGridErrorStyle(){var s=this;this.errorRows.length&&("remove"===this.gridAction||this.newItemIsAdded)&&this.Grid.element.find("tbody tr").each(function(e,t){var r=!0,n=!1,o=void 0;try{for(var i,a=s.errorRows[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){e===i.value&&(s.editRow=$(t),s.validateName())}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}});this.Grid.element.find(".k-alt").removeClass("k-alt"),this.editRow=null,this.gridAction=null}},{key:"nameEditor",value:function nameEditor(e,t){var r=this;$("<input name='"+t.field+"'/>").appendTo(e).kendoComboBox({dataSource:{data:t.model.parent().parent().AvailableNames},change:function change(){r.validateName()},clearButton:!1,filter:"contains",dataTextField:"Name",dataValueField:"Value"})}},{key:"valueEditor",value:function valueEditor(e,t){var r=this;$("<input name='"+t.field+"'/>").appendTo(e).kendoComboBox({dataSource:{data:t.model.parent().parent().Values},change:function change(e){var t=e.sender.dataSource.data()[e.sender.selectedIndex];if(t&&t.action)switch(r.EditItem=r.Grid.dataItem(r.Grid.element.find(".k-grid-edit-row")),t.action){case Et.OpenExpressionWindow:r.openExpressionWindow(t);break;case Et.OpenNewParameterWindow:r.openNewParameterWindow(t)}else;},clearButton:!1,filter:"contains",dataTextField:"Name",dataValueField:"Value"})}},{key:"validateName",value:function validateName(){this.editRow=this.editRow||this.Grid.element.find(".k-grid-edit-row");var e,t=this.Grid.dataItem(this.editRow),r=!1,n=this.model.Parameters,o=!0,i=!1,a=void 0;try{for(var s,c=n[Symbol.iterator]();!(o=(s=c.next()).done);o=!0)if(e=s.value,t.get("Name")===e.Name&&t.get("ID")!==e.ID){r=!0;break}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}this.ToggleError(r),r||(this.editRow=null)}},{key:"ToggleError",value:function ToggleError(e){this.editRow.toggleClass("k-state-error",e);var t=0<this.Grid.element.find(".k-state-error").length;this.$error.toggleClass("-show",e||t)}},{key:"dbTypeEditor",value:function dbTypeEditor(e,t){$("<input name='"+t.field+"'/>").appendTo(e).kendoDropDownList({dataSource:{data:t.model.parent().parent().DBTypes},value:t.model.DbType,dataTextField:"Name",dataValueField:"Name"})}},{key:"updateValue",value:function updateValue(e){this.EditItem.set("Value.Value",e),this.expressionPopUp.Close()}},{key:"openExpressionWindow",value:function openExpressionWindow(){var e=this.EditItem.get("Value"),t="".concat(this.Str.Edit," ").concat(this.Str.Expression);this.expressionPopUp.Open(e.Value,t)}},{key:"openNewParameterWindow",value:function openNewParameterWindow(){}},{key:"pageTemplate",get:function get(){var e=this.model;return'<div class="twd-editor -header">\n                    <h3 title="'.concat(this.Str.SQLDataParametersHeader,'">').concat(this.Str.SQLDataParametersHeader,'</h3>\n                    <div class="editor__info">').concat(this.Str.SQLDataParametersSubHeader,'</div>\n                </div>\n\n                <div class="twd-editor -grid -parameters">\n                    <div class="editor__content">\n                        <div class="editor__grid-parameters" data-role="grid"\n                            data-sortable="false"\n                            data-editable="true" \n                            data-scrollable="false"\n                            data-selectable="false"\n                            data-toolbar="[{\'text\':\'').concat(this.Str.SQLDataAddparameters,"', iconClass: 'k-icon k-i-plus', 'name':'addParameter'}]\"\n                            data-bind=\"source: ").concat(p.GetPropName(function(){e.Parameters}),"\"\n                            data-auto-bind=\"false\"\n                            data-columns=\"[\n                                { 'field': 'Name', title: '").concat(this.Str.SQLDataParameterName,"', 'width': '20%'},\n                                { 'field': 'DbType', title: '").concat(this.Str.SQLDataParameterDBType,"', 'width': '20%'},\n                                { 'field': 'Value.Value', title: '").concat(this.Str.SQLDataParameterValue,"'},\n                                { 'command': [{\n                                    name: 'destroy', \n                                    text: '', \n                                    className: 'k-button-icon',\n                                    iconClass: 'k-icon k-i-delete'\n                                }], 'width': 50, title: '").concat(this.Str.SQLDataParameterDelete,'\', }\n                            ]">\n                        </div>\n\n                       <div class="editor__error">').concat(this.Str.SQLDataParameterNameValidation,"</div>\n                    </div>\n                </div>\n        ")}},{key:"expressionPopUp",get:function get(){return this.expressionPopUpEditor||(this.expressionPopUpEditor=new Bt(this.$placeholder,this.Provider)),this.expressionPopUpEditor}}]),SqlParametersPage}();function SqlPreviewModel_typeof(e){return(SqlPreviewModel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlPreviewModel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlPreviewModel_possibleConstructorReturn(e,t){return!t||"object"!==SqlPreviewModel_typeof(t)&&"function"!=typeof t?function SqlPreviewModel_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlPreviewModel_getPrototypeOf(e){return(SqlPreviewModel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlPreviewModel_setPrototypeOf(e,t){return(SqlPreviewModel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ht=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Lt=function(){function SqlPreviewModel(){return function SqlPreviewModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlPreviewModel),SqlPreviewModel_possibleConstructorReturn(this,SqlPreviewModel_getPrototypeOf(SqlPreviewModel).apply(this,arguments))}return function SqlPreviewModel_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlPreviewModel_setPrototypeOf(e,t)}(SqlPreviewModel,St),function SqlPreviewModel_createClass(e,t,r){return t&&SqlPreviewModel_defineProperties(e.prototype,t),r&&SqlPreviewModel_defineProperties(e,r),e}(SqlPreviewModel,[{key:"Initialize",value:function Initialize(){return Ht(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:this.rows=10,this.queryDataSource=[];case 2:case"end":return e.stop()}},_callee,this)}))}},{key:"ExecuteQuery",value:function ExecuteQuery(){return Ht(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r,n,o,i,a,s,c,u;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:for(t=new Array,n=!(r=!0),o=void 0,e.prev=4,i=this.wizardModel.DesignTimeParameters[Symbol.iterator]();!(r=(a=i.next()).done);r=!0)s=a.value,(c=new lt(t,s.Name,s.DbType,null)).Value=s.Value.Value,t.push(c);e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),n=!0,o=e.t0;case 12:e.prev=12,e.prev=13,r||null==i.return||i.return();case 15:if(e.prev=15,n)throw o;e.next=18;break;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return u=new Ija(new dt(this.wizardModel.ConnectionName,this.wizardModel.ProviderName,this.wizardModel.ConnectionString,this.wizardModel.SelectCommand,this.wizardModel.SelectCommandType,60,this.rows),t),e.next=23,this.wizardModel.ConnectionsService.GetPreviewData(u);case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}},_callee2,this,[[4,8,12,20],[13,,15,19]])}))}},{key:"OnEnter",value:function OnEnter(){return Promise.resolve()}},{key:"OnLeave",value:function OnLeave(){return Promise.resolve()}},{key:"Rows",get:function get(){return this.rows},set:function set(e){this.rows=e}},{key:"QueryDataSource",get:function get(){return this.queryDataSource},set:function set(e){this.queryDataSource=e}}]),SqlPreviewModel}();function SqlPreviewPage_typeof(e){return(SqlPreviewPage_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlPreviewPage_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlPreviewPage_possibleConstructorReturn(e,t){return!t||"object"!==SqlPreviewPage_typeof(t)&&"function"!=typeof t?function SqlPreviewPage_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlPreviewPage_get(e,t,r){return(SqlPreviewPage_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function SqlPreviewPage_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SqlPreviewPage_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function SqlPreviewPage_getPrototypeOf(e){return(SqlPreviewPage_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlPreviewPage_setPrototypeOf(e,t){return(SqlPreviewPage_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Vt=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Wt=function(){function SqlPreviewPage(e,t){var r;return function SqlPreviewPage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlPreviewPage),(r=SqlPreviewPage_possibleConstructorReturn(this,SqlPreviewPage_getPrototypeOf(SqlPreviewPage).call(this,e,t))).str=t.GetService(I.WebReportDesignerStrings),r}return function SqlPreviewPage_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlPreviewPage_setPrototypeOf(e,t)}(SqlPreviewPage,st),function SqlPreviewPage_createClass(e,t,r){return t&&SqlPreviewPage_defineProperties(e.prototype,t),r&&SqlPreviewPage_defineProperties(e,r),e}(SqlPreviewPage,[{key:"Init",value:function Init(){SqlPreviewPage_get(SqlPreviewPage_getPrototypeOf(SqlPreviewPage.prototype),"Init",this).call(this),this.$placeholder=this.Parent.find(".-data-preview .editor__preview-wrapper"),this.$error=this.$placeholder.find(".editor__error"),this.initListeners()}},{key:"CreateModel",value:function CreateModel(e){return this.model=new Lt(this.Provider,e),this.model}},{key:"DisposePage",value:function DisposePage(){this.Parent.off("change",".data-rows").off("click",".data-execute-query")}},{key:"ToggleError",value:function ToggleError(e){this.$placeholder.closest(".twd-editor").toggleClass("-invalid",e)}},{key:"initListeners",value:function initListeners(){var t=this;this.Parent.on("change",".data-rows",function(e){t.model.Rows=parseInt($(e.target).val())}),this.Parent.on("click",".data-execute-query",function(e){return Vt(t,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t=this;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:this.model.ExecuteQuery().then(function(o){return Vt(t,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(o.ok)return e.next=3,o.json();e.next=10;break;case 3:0===(t=e.sent).length&&(r=$.parseHTML(this.noDataPopUpTemplate),(n=$(r).kendoWindow({title:this.str.SqlPreviewQueryResultsHeader,visible:!1,actions:["Close"],modal:!0,width:450,minWidth:300,minHeight:160}).data("kendoWindow")).element.closest(".k-window").addClass(s.WebDesignerPartsClassName),n.element.closest(".k-window").find(".k-window-titlebar").addClass(s.ModalWindowHeaderClass),n.center().open()),this.ViewModel.set(p.GetPropName(function(){this.model.QueryDataSource}),t),this.$placeholder.addClass("-showData"),this.ToggleError(!1),e.next=11;break;case 10:this.ToggleError(!0);case 11:case"end":return e.stop()}},_callee,this)}))});case 1:case"end":return e.stop()}},_callee2,this)}))})}},{key:"pageTemplate",get:function get(){var e=this.model;return'<div class="twd-editor -header">\n                    <h3 title="'.concat(this.Str.SQLDataPreviewHeader,'">').concat(this.Str.SQLDataPreviewHeader,'</h3>\n                    <div class="editor__info">').concat(this.Str.SQLDataPreviewSubHeader,'</div>\n                </div>\n                <div class="twd-editor -data-query">\n                    <div class="editor__content">\n                        <div class="editor__name" >\n                            <div>').concat(this.Str.SQLDataPreviewShowRows,' <input type="number" class="k-textbox data-rows" data-bind="value: ').concat(p.GetPropName(function(){e.Rows}),'" /> ').concat(this.Str.SQLDataPreviewRows,'</div>\n                            <button class="k-button data-execute-query">').concat(this.Str.SQLDataPreviewQueryButton,'</button>\n                        </div>\n                    </div>\n                </div>\n                <div class="twd-editor -data-preview -sql-data-preview">\n                    <div class="editor__content">\n                        <div class="k-widget editor__preview-wrapper" >\n                            <span>').concat(this.Str.SQLDataPreviewQuery,'</span>\n                            <div class="editor__grid-parameters" data-role="grid"\n                                data-sortable="false"\n                                data-editable="false"\n                                data-scrollable="false"\n                                data-selectable="false"\n                                data-bind="source: ').concat(p.GetPropName(function(){e.QueryDataSource}),'"\n                                data-auto-bind="false">\n                            </div>\n                        </div>\n                        <div class="editor__error">').concat(this.Str.SQLDataPreviewValidation,"</div>\n                    </div>\n                </div>\n")}},{key:"noDataPopUpTemplate",get:function get(){return'<div class="'.concat(s.ConfirmWindowClasses,'">\n                    <div class="twd-editors -no-bg-color">\n                       ').concat(this.str.SqlPreviewQueryNoDataMessage,"\n                    </div>\n                </div>")}}]),SqlPreviewPage}();function SqlSaveConnectionModel_typeof(e){return(SqlSaveConnectionModel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlSaveConnectionModel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlSaveConnectionModel_possibleConstructorReturn(e,t){return!t||"object"!==SqlSaveConnectionModel_typeof(t)&&"function"!=typeof t?function SqlSaveConnectionModel_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlSaveConnectionModel_getPrototypeOf(e){return(SqlSaveConnectionModel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlSaveConnectionModel_setPrototypeOf(e,t){return(SqlSaveConnectionModel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var zt=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Ft=function(){function SqlSaveConnectionModel(e,t){var r;return function SqlSaveConnectionModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlSaveConnectionModel),(r=SqlSaveConnectionModel_possibleConstructorReturn(this,SqlSaveConnectionModel_getPrototypeOf(SqlSaveConnectionModel).call(this,e,t))).initialConnectionName=null,r.providerName=null,r.connectionString=null,r.connectionName=null,r.connectionName=null,r.sharedDescription=null,r.embeddedDescription=null,r.canEmbeddedConnection=!1,r.canAddConnection=!1,r}return function SqlSaveConnectionModel_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlSaveConnectionModel_setPrototypeOf(e,t)}(SqlSaveConnectionModel,ut),function SqlSaveConnectionModel_createClass(e,t,r){return t&&SqlSaveConnectionModel_defineProperties(e.prototype,t),r&&SqlSaveConnectionModel_defineProperties(e,r),e}(SqlSaveConnectionModel,[{key:"Initialize",value:function Initialize(){return zt(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:this.updateData(),this.canEmbeddedConnection=this.wizardModel.CanEmbeddedConnection,this.canAddConnection=this.wizardModel.CanAddConnection;case 3:case"end":return e.stop()}},_callee,this)}))}},{key:"OnEnter",value:function OnEnter(){return zt(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r,n,o,i;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:t=this.wizardModel,this.initialConnectionName==t.InitialConnectionName&&this.connectionString==t.ConnectionString&&this.providerName==t.ProviderName||(this.initialConnectionName=t.InitialConnectionName,this.connectionString=t.ConnectionString,this.providerName=t.ProviderName,this.ConnectionName=this.initialConnectionName,r=t.GetPropertyValue("ConnectionString"),n=t.GetPropertyValue("ProviderName"),o=!(this.initialConnectionName&&r==this.initialConnectionName||r==this.connectionString&&n==this.providerName),i=this.connectionExist(this.connectionName),this.SharedEnabled=this.wizardModel.CanAddConnection||i,this.useAsShared=this.SharedEnabled&&(o||i||this.UseAsShared),!i&&this.wizardModel.CanAddConnection&&this.ensureConnectionName(),this.initializeSharedDescription(i),this.updateData());case 2:case"end":return e.stop()}},_callee2,this)}))}},{key:"OnLeave",value:function OnLeave(){return Promise.resolve()}},{key:"Save",value:function Save(){}},{key:"initializeSharedDescription",value:function initializeSharedDescription(e){var t=this.provider.GetService(I.WebReportDesignerStrings);e?this.sharedDescription=t.SqlDataSourceSaveConnectionPageExist:this.wizardModel.CanAddConnection?this.sharedDescription=t.SqlDataSourceSaveConnectionPageSaveOnServer:this.sharedDescription=t.SqlDataSourceSaveConnectionPageNoCreatePermissions,this.embeddedDescription=this.wizardModel.CanEmbeddedConnection?t.SQLDataEmbeddedConnectionInfo:t.SqlDataSourceSaveConnectionPageNoEmbeddedConnections}},{key:"ensureConnectionName",value:function ensureConnectionName(){for(;!this.ensureUniqueConnectionName();)this.ConnectionName="Connection1"}},{key:"ensureUniqueConnectionName",value:function ensureUniqueConnectionName(){return!this.connectionExist(this.connectionName)}},{key:"connectionExist",value:function connectionExist(t){if(!t)return!0;var e=this.wizardModel.ConnectionStrings.find(function(e){return e.Name==t});return null!=e&&e.ConnectionString==this.connectionString&&e.Provider==this.providerName}},{key:"updateData",value:function updateData(){var e=this.OutputModel;e.ConnectionName=this.useAsShared?this.connectionName:null;var t=this.connectionExist(this.connectionName);e.SaveConnection=this.useAsShared&&!t;var r=!this.useAsShared||t;r||(r=this.wizardModel.CanAddConnection)&&(e.SaveConnection=!0),this.isModelValid=r}},{key:"IsModelValid",get:function get(){return this.isModelValid}},{key:"SharedEnabled",get:function get(){return this.sharedEnabled},set:function set(e){this.sharedEnabled=e}},{key:"SharedDescription",get:function get(){return this.sharedDescription}},{key:"EmbeddedDescription",get:function get(){return this.embeddedDescription}},{key:"UseAsShared",get:function get(){return this.useAsShared},set:function set(e){this.useAsShared=e,this.updateData()}},{key:"ConnectionNameEnabled",get:function get(){return this.useAsShared&&this.wizardModel.CanAddConnection}},{key:"ConnectionName",get:function get(){return this.connectionName},set:function set(e){this.connectionName=e,this.updateData()}},{key:"CanEmbeddedConnection",get:function get(){return this.canEmbeddedConnection}},{key:"CanAddConnection",get:function get(){return this.canAddConnection&&this.useAsShared}}]),SqlSaveConnectionModel}();function SqlSaveConnectionPage_typeof(e){return(SqlSaveConnectionPage_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlSaveConnectionPage_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlSaveConnectionPage_possibleConstructorReturn(e,t){return!t||"object"!==SqlSaveConnectionPage_typeof(t)&&"function"!=typeof t?function SqlSaveConnectionPage_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlSaveConnectionPage_getPrototypeOf(e){return(SqlSaveConnectionPage_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlSaveConnectionPage_setPrototypeOf(e,t){return(SqlSaveConnectionPage_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ut=function(){function SqlSaveConnectionPage(e,t){return function SqlSaveConnectionPage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlSaveConnectionPage),SqlSaveConnectionPage_possibleConstructorReturn(this,SqlSaveConnectionPage_getPrototypeOf(SqlSaveConnectionPage).call(this,e,t))}return function SqlSaveConnectionPage_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlSaveConnectionPage_setPrototypeOf(e,t)}(SqlSaveConnectionPage,st),function SqlSaveConnectionPage_createClass(e,t,r){return t&&SqlSaveConnectionPage_defineProperties(e.prototype,t),r&&SqlSaveConnectionPage_defineProperties(e,r),e}(SqlSaveConnectionPage,[{key:"DisposePage",value:function DisposePage(){}},{key:"CreateModel",value:function CreateModel(e){return this.model=new Ft(this.Provider,e),this.model}},{key:"pageTemplate",get:function get(){var e=this.model;return'<div class="twd-editor -header">\n                    <h3 title="'.concat(this.Str.SQLDataSourceSaveConnectionHeader,'">').concat(this.Str.SQLDataSourceSaveConnectionHeader,'</h3>\n                </div>\n                <div class="twd-editor -top-label -radio-enum">\n                    <div class="editor__content">\n                        <div class="editor__name" >\n                            <input type="radio" data-type="boolean" value="true"  \n                                name="sql-connection-option" id="SQLConnectionOption" class="k-radio" data-bind="checked: ').concat(p.GetPropName(function(){e.UseAsShared}),'" />\n                            <label title="').concat(this.Str.SQLDataSourceSharedConnection,'" class="k-radio-label" for="SQLConnectionOption" >\n                                ').concat(this.Str.SQLDataSourceSharedConnection,'\n                            </label>\n                            <div class="editor__info">').concat(e.SharedDescription,'</div>\n                        </div>\n                        <div class="editor__value">\n                            <div class="twd-editor">\n                                <label class="editor__content">\n                                    <span class="editor__name" title="').concat(this.Str.SQLDataSourceConnectionAlias,'">').concat(this.Str.SQLDataSourceConnectionAlias,'</span>\n                                    <input type="text" data-bind="value: ').concat(p.GetPropName(function(){e.ConnectionName}),", enabled: ").concat(p.GetPropName(function(){e.CanAddConnection}),'," class="k-textbox editor__value" />\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="twd-editor -top-label -radio-enum">\n                    <div class="editor__content">\n                        <div class="editor__name" >\n                            <input type="radio" data-type="boolean" value="false" name="sql-connection-option"\n                                id="existingSQLConnection" class="k-radio"\n                                data-bind="checked: ').concat(p.GetPropName(function(){e.UseAsShared}),", enabled: ").concat(p.GetPropName(function(){e.CanEmbeddedConnection}),'" />\n                            <label title="').concat(this.Str.SQLDataEmbeddedConnection,'" class="k-radio-label" for="existingSQLConnection" >\n                                ').concat(this.Str.SQLDataEmbeddedConnection,'\n                            </label>\n                            <div class="editor__info">').concat(e.EmbeddedDescription,"</div>\n                        </div>\n                    </div>\n                </div>\n")}}]),SqlSaveConnectionPage}();function WizardsPageNames_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var $t=function(){function WizardsPageNames(){!function WizardsPageNames_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WizardsPageNames)}return function WizardsPageNames_createClass(e,t,r){return t&&WizardsPageNames_defineProperties(e.prototype,t),r&&WizardsPageNames_defineProperties(e,r),e}(WizardsPageNames,null,[{key:"SqlConnectionPage",get:function get(){return"SqlConnectionPage"}},{key:"SqlSaveConnectionPage",get:function get(){return"SqlSaveConnectionPage"}},{key:"SqlCommandPage",get:function get(){return"SqlCommandPage"}},{key:"SqlParametersPage",get:function get(){return"SqlParametersPage"}},{key:"SqlDesignerParametersPage",get:function get(){return"SqlDesignerParametersPage"}},{key:"SqlPreviewPage",get:function get(){return"SqlPreviewPage"}}]),WizardsPageNames}();function WizardsPageOrder_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var qt=function(){function WizardsPageOrder(){!function WizardsPageOrder_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WizardsPageOrder)}return function WizardsPageOrder_createClass(e,t,r){return t&&WizardsPageOrder_defineProperties(e.prototype,t),r&&WizardsPageOrder_defineProperties(e,r),e}(WizardsPageOrder,null,[{key:"SqlDataSourceWizard",get:function get(){var e=new Map;return e.set($t.SqlConnectionPage,_t),e.set($t.SqlSaveConnectionPage,Ut),e.set($t.SqlCommandPage,mt),e.set($t.SqlParametersPage,Nt),e.set($t.SqlDesignerParametersPage,Ot),e.set($t.SqlPreviewPage,Wt),e}}]),WizardsPageOrder}();function EventsArgs_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rka(e){EventsArgs_classCallCheck(this,rka),this.Forward=e}function ska(e){EventsArgs_classCallCheck(this,ska),this.Forward=e}function WizardSteps_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Jt=function(){function WizardSteps(e,t,r){!function WizardSteps_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WizardSteps),this.steps=e,this.$parent=t,this.$parent[r](this.template),this.currentPage=1,this.$visualElement=this.$parent.find(".twd-wizard-steps"),this.initSteps()}return function WizardSteps_createClass(e,t,r){return t&&WizardSteps_defineProperties(e.prototype,t),r&&WizardSteps_defineProperties(e,r),e}(WizardSteps,[{key:"UpdateCurrentStep",value:function UpdateCurrentStep(e){this.$visualElement.find(".wizard-steps__item").removeClass("k-state-selected");for(var t=this.$visualElement.find(".wizard-steps__step").removeClass("-set -selected"),r=1;r<=this.steps;r++)r<e&&$(t[r-1]).addClass("-set"),e===r&&$(t[r-1]).addClass("-selected").find(".k-item").addClass("k-state-selected")}},{key:"stepTemplate",value:function stepTemplate(e){return'<div class="wizard-steps__step k-list">\n                <span class="wizard-steps__item k-item k-widget '.concat(this.currentPage===e?"k-state-selected":"",'">').concat(e,'</span>\n                <span class="wizard-steps__separator k-widget"></span>\n            </div>')}},{key:"initSteps",value:function initSteps(){for(var e=1;e<=this.steps;e++)this.$visualElement.append(this.stepTemplate(e))}},{key:"template",get:function get(){return'<div class="twd-wizard-steps"></div>'}},{key:"VisualElement",get:function get(){return this.$visualElement}}]),WizardSteps}();function WizardViewModel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Kt=function(){function WizardViewModel(){!function WizardViewModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WizardViewModel),this.activePage=void 0}return function WizardViewModel_createClass(e,t,r){return t&&WizardViewModel_defineProperties(e.prototype,t),r&&WizardViewModel_defineProperties(e,r),e}(WizardViewModel,[{key:"ActivePage",get:function get(){return this.activePage},set:function set(e){e&&(this.activePage=e).Init()}}]),WizardViewModel}();function WizardViewBase_typeof(e){return(WizardViewBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function WizardViewBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WizardViewBase_possibleConstructorReturn(e,t){return!t||"object"!==WizardViewBase_typeof(t)&&"function"!=typeof t?function WizardViewBase_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function WizardViewBase_get(e,t,r){return(WizardViewBase_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function WizardViewBase_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=WizardViewBase_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function WizardViewBase_getPrototypeOf(e){return(WizardViewBase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WizardViewBase_setPrototypeOf(e,t){return(WizardViewBase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Qt=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Zt=function(){function WizardViewBase(e,t){var r;!function WizardViewBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WizardViewBase),(r=WizardViewBase_possibleConstructorReturn(this,WizardViewBase_getPrototypeOf(WizardViewBase).call(this,e,t))).wizardSteps=null,r.pages=[];for(var n=r.PagePlaceholder,o=0,i=Array.from(r.PageOrder);o<i.length;o++){var a=_slicedToArray(i[o],2),s=(a[0],a[1]);r.pages.push(new s(n,t))}for(var c=0;c<r.pages.length;c++)r.pages[c].NextPage=r.pages[c+1];return r.previousButton=r.$visualElement.find('[data-action="previous"]'),r.nextButton=r.$visualElement.find('[data-action="next"]'),r.finishButton=r.$visualElement.find('[data-action="save"]'),r}return function WizardViewBase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WizardViewBase_setPrototypeOf(e,t)}(WizardViewBase,Tt),function WizardViewBase_createClass(e,t,r){return t&&WizardViewBase_defineProperties(e.prototype,t),r&&WizardViewBase_defineProperties(e,r),e}(WizardViewBase,[{key:"OpenWizard",value:function OpenWizard(l,e){var p=1<arguments.length&&void 0!==e?e:"";return Qt(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o,i,a,s,c,u=this;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.CreateModel(l);case 2:for(t=e.sent,r=new Array,o=!(n=!0),i=void 0,e.prev=7,a=this.pages[Symbol.iterator]();!(n=(s=a.next()).done);n=!0)c=s.value,r.push(c.CreatePageModel(t));e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),o=!0,i=e.t0;case 15:e.prev=15,e.prev=16,n||null==a.return||a.return();case 18:if(e.prev=18,o)throw i;e.next=21;break;case 21:return e.finish(18);case 22:return e.finish(15);case 23:Promise.all(r).then(function(e){u.Open("",p)});case 24:case"end":return e.stop()}},_callee,this,[[7,11,15,23],[16,,18,22]])}))}},{key:"PopUpTitle",value:function PopUpTitle(e){return"".concat(this.str.Configure," ").concat(e)}},{key:"CreateModel",value:function CreateModel(){return Qt(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return e.stop()}},_callee2)}))}},{key:"Open",value:function Open(e,t){var r=1<arguments.length&&void 0!==t?t:"";this.viewModel=new Kt,this.viewModel.ActivePage=this.pages[0],this.updateButtonVisibility(),this.updateStep(),WizardViewBase_get(WizardViewBase_getPrototypeOf(WizardViewBase.prototype),"Open",this).call(this,e,r)}},{key:"cancelChanges",value:function cancelChanges(){var t=this,e=$.parseHTML(this.confirmPopUpTemplate),r=$(e).kendoWindow({title:this.str.QuitWizardDialogueTitle,visible:!1,actions:[],appendTo:$("body"),modal:!0,width:450,minWidth:300,minHeight:160}).data("kendoWindow");r.element.off("click",".k-button").on("click",".k-button",function(e){event.stopPropagation(),"closeWizard"===$(e.target).attr("data-action")?(r.close(),t.closePopUp()):r.close()}),r.element.closest(".k-window").addClass(s.WebDesignerPartsClassName),r.element.closest(".k-window").find(".k-window-titlebar").addClass(s.ModalWindowHeaderClass),r.center().open()}},{key:"InitWizardSteps",value:function InitWizardSteps(){this.wizardSteps=new Jt(this.pages.length,this.$visualElement,"prepend")}},{key:"updateButtonVisibility",value:function updateButtonVisibility(){this.$visualElement.find(".twd-buttons .k-button").removeClass("-hidden"),this.hasPreviousPage||this.previousButton.addClass("-hidden"),this.hasMorePages||this.nextButton.addClass("-hidden"),this.canFinish||this.finishButton.addClass("-hidden")}},{key:"getPreviousPage",value:function getPreviousPage(){return Qt(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.viewModel.ActivePage,e.next=3,t.TryLeave(new ska(!1));case 3:if(r=t.BackPage)return e.next=7,r.OnEnter(new rka(!1));e.next=11;break;case 7:r.NextPage=t,this.viewModel.ActivePage=r,this.updateStep(),this.updateButtonVisibility();case 11:case"end":return e.stop()}},_callee3,this)}))}},{key:"getNextPage",value:function getNextPage(){return Qt(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.viewModel.ActivePage,e.next=3,t.TryLeave(new ska(!0));case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:if(r=t.NextPage)return e.next=10,r.OnEnter(new rka(!0));e.next=14;break;case 10:r.BackPage=t,this.viewModel.ActivePage=r,this.updateStep(),this.updateButtonVisibility();case 14:case"end":return e.stop()}},_callee4,this)}))}},{key:"updateStep",value:function updateStep(){if(this.wizardSteps){var e=this.pages.indexOf(this.viewModel.ActivePage)+1;this.wizardSteps.UpdateCurrentStep(e)}}},{key:"clearChanges",value:function clearChanges(){this.Pages.forEach(function(e){return e.DisposePage()})}},{key:"saveChanges",value:function saveChanges(){return Qt(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.viewModel.ActivePage.TryLeave(new ska(!0));case 2:return e.sent&&this.Close(),e.next=6,this.model.Save();case 6:case"end":return e.stop()}},_callee5,this)}))}},{key:"goToPage",value:function goToPage(e){var t=!0,r=!1,n=void 0;try{for(var o,i=this.pages[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;for(var s in a.EditableProperties)if(e==s)return void(this.viewModel.ActivePage=a)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"GoToPage",value:function GoToPage(e){var t=this.viewModel.ActivePage;if(null==t)throw new Error("No active page.");for(var r=t;!e(r);){if(null==r&&p.LogError("Page cannot be found."),!r.TryLeave(new ska(!0)))return p.LogError("Cannot leave ".concat(r," page")),this.viewModel.ActivePage=r,!1;null!=(r=r.NextPage)&&r.OnEnter(new rka(!0))}return this.viewModel.ActivePage!==r&&(this.viewModel.ActivePage=r),!0}},{key:"PageOrder",get:function get(){return new Map}},{key:"PagePlaceholder",get:function get(){return this.$visualElement.find(".twd-editors")}},{key:"template",get:function get(){return'<div id="'.concat(this.id,'" class="').concat(this.ClassName,'">\n                    <div class="twd-editors">\n                    </div>\n                    <div class="twd-buttons k-window-buttongroup k-widget">\n                        <button class="k-button k-button-icontext -left" data-action="previous">\n                            <span class="k-icon k-i-arrow-chevron-left"></span>\n                            ').concat(this.str.BackButton,'\n                        </button>\n                        <button class="k-button k-button-icontext right-icon" data-action="next">\n                            ').concat(this.str.NextButton,'\n                            <span class="k-icon k-i-arrow-chevron-right"></span>\n                        </button>\n                        <button class="k-button k-primary" data-action="save">').concat(this.str.FinishButton,'</button>\n                        <button class="k-button" data-action="cancel" >').concat(this.str.CancelButton,"</button>\n                    </div>\n                </div>")}},{key:"TypeHandler",get:function get(){return""}},{key:"Pages",get:function get(){return this.pages}},{key:"Actions",get:function get(){var e=WizardViewBase_get(WizardViewBase_getPrototypeOf(WizardViewBase.prototype),"Actions",this);return e.next="getNextPage",e.previous="getPreviousPage",e}},{key:"windowDimensions",get:function get(){return new Wja(800,600,300,230)}},{key:"ClassName",get:function get(){return"".concat(s.ModalWindowClasses," ").concat(s.WizardWindowClasses)}},{key:"hasMorePages",get:function get(){return!!this.viewModel.ActivePage.NextPage}},{key:"hasPreviousPage",get:function get(){return!!this.viewModel.ActivePage.BackPage}},{key:"canFinish",get:function get(){var e=this.viewModel.ActivePage;return!(!e||!e.AllowMoveForward)&&(!this.hasMorePages||e.AllowFinish)}},{key:"confirmPopUpTemplate",get:function get(){return'<div class="'.concat(s.ConfirmWindowClasses,'">\n                    <div class="twd-editors -no-bg-color">\n                       ').concat(this.str.QuitWizardDialogueConfirmationMessage,'\n                    </div>\n                    <div class="twd-buttons k-window-buttongroup k-widget">\n                        <button class="k-button k-primary" data-action="closeWizard" >').concat(this.str.QuitWizardButton,'</button>\n                        <button class="k-button" data-action="cancel" >').concat(this.str.CancelQuitWizardButton,"</button>\n                    </div>\n                </div>")}}]),WizardViewBase}();function WizardModelBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Xt=function(){function WizardModelBase(e,t){!function WizardModelBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WizardModelBase),this.Properties=e,this.provider=t,this.pageModels=new Array}return function WizardModelBase_createClass(e,t,r){return t&&WizardModelBase_defineProperties(e.prototype,t),r&&WizardModelBase_defineProperties(e,r),e}(WizardModelBase,[{key:"Save",value:function Save(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.pageModels[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){n.value.Save()}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}}},{key:"GetPropertyValue",value:function GetPropertyValue(e){var t=this.getProperty(e);return t?t.GetValue():null}},{key:"SetPropertyValue",value:function SetPropertyValue(e,t){this.getProperty(e).SetValue(t)}},{key:"getProperty",value:function getProperty(t){return this.Properties.find(function(e){return e.Name==t})}}]),WizardModelBase}();function SqlWizardModel_typeof(e){return(SqlWizardModel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlWizardModel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlWizardModel_possibleConstructorReturn(e,t){return!t||"object"!==SqlWizardModel_typeof(t)&&"function"!=typeof t?function SqlWizardModel_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlWizardModel_getPrototypeOf(e){return(SqlWizardModel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlWizardModel_setPrototypeOf(e,t){return(SqlWizardModel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Yt=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},er=function(){function SqlWizardModel(e,t){var r;return function SqlWizardModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlWizardModel),(r=SqlWizardModel_possibleConstructorReturn(this,SqlWizardModel_getPrototypeOf(SqlWizardModel).call(this,e,t))).ConnectionsService=t.GetService(I.ISqlDataConnectionService),r.ResolvedTempParameters=null,r.InitialConnectionName=null,r.ConnectionName=null,r.ConnectionString=r.GetPropertyValue(G.ConnectionString),r.ProviderName=r.GetPropertyValue(G.ProviderName),r.SaveConnection=null,r.SelectCommandType=r.GetPropertyValue(G.SelectCommandType),r.SelectCommand=r.GetPropertyValue(G.SelectCommand),r.Parameters=pt.CloneCollection(r.GetPropertyValue(G.Parameters)),r.DesignTimeParameters=new Array,r.fillDesignTimeParameters(),r.ConnectionStrings=null,r.CanAddConnection=null,r.CanEmbeddedConnection=null,r}return function SqlWizardModel_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlWizardModel_setPrototypeOf(e,t)}(SqlWizardModel,Xt),function SqlWizardModel_createClass(e,t,r){return t&&SqlWizardModel_defineProperties(e.prototype,t),r&&SqlWizardModel_defineProperties(e,r),e}(SqlWizardModel,[{key:"fillDesignTimeParameters",value:function fillDesignTimeParameters(){var e=this.GetPropertyValue(G.ParameterValues);if(e){var t=JSON.parse(e);if(t){var r=!0,n=!1,o=void 0;try{for(var i,a=this.Parameters[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;this.DesignTimeParameters.push(new lt(this.DesignTimeParameters,s.Name,null,t[s.Name]))}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}}}},{key:"Initialize",value:function Initialize(){return Yt(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ConnectionsService.GetConnectionStrings();case 2:return this.ConnectionStrings=e.sent,e.next=5,this.ConnectionsService.ConnectionsPermissions();case 5:t=e.sent,this.CanAddConnection=t.canAddSharedConnection,this.CanEmbeddedConnection=t.canEmbeddedConnection;case 8:case"end":return e.stop()}},_callee,this)}))}},{key:"Save",value:function Save(){return Yt(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.IDesignerHost),r=t.CreateTransaction("SqlDataSource Wizard"),e.prev=2,e.next=5,this.saveConnection();case 5:this.SetPropertyValue(G.ProviderName,this.ProviderName),this.SetPropertyValue(G.ConnectionString,null==this.ConnectionName?this.ConnectionString:this.ConnectionName),this.SetPropertyValue(G.SelectCommand,this.SelectCommand),this.SetPropertyValue(G.SelectCommandType,this.SelectCommandType),this.SetPropertyValue(G.Parameters,pt.CloneCollection(this.Parameters)),this.SetPropertyValue(G.ParameterValues,pt.PrepareDesignTimeParametersObject(this.DesignTimeParameters)),r.Commit(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.Rollback();case 17:case"end":return e.stop()}},_callee2,this,[[2,14]])}))}},{key:"PrepareModel",value:function PrepareModel(){}},{key:"saveConnection",value:function saveConnection(){return Yt(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(this.SaveConnection)return t=this.provider.GetService(I.ISqlDataConnectionService),r=new Cja(this.ConnectionName,this.ProviderName,this.ConnectionString),e.next=5,t.AddConnectionString(r);e.next=6;break;case 5:this.ConnectionString=this.ConnectionName;case 6:case"end":return e.stop()}},_callee3,this)}))}},{key:"IsModelValid",get:function get(){return!(!this.ConnectionString&&!this.ConnectionName||!this.SelectCommand)}}]),SqlWizardModel}();function SqlDataSourceWizard_typeof(e){return(SqlDataSourceWizard_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlDataSourceWizard_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlDataSourceWizard_possibleConstructorReturn(e,t){return!t||"object"!==SqlDataSourceWizard_typeof(t)&&"function"!=typeof t?function SqlDataSourceWizard_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlDataSourceWizard_getPrototypeOf(e){return(SqlDataSourceWizard_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlDataSourceWizard_setPrototypeOf(e,t){return(SqlDataSourceWizard_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var tr=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},rr=function(){function SqlDataSourceWizard(e,t){var r;return function SqlDataSourceWizard_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlDataSourceWizard),(r=SqlDataSourceWizard_possibleConstructorReturn(this,SqlDataSourceWizard_getPrototypeOf(SqlDataSourceWizard).call(this,e,t))).InitWizardSteps(),r}return function SqlDataSourceWizard_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlDataSourceWizard_setPrototypeOf(e,t)}(SqlDataSourceWizard,Zt),function SqlDataSourceWizard_createClass(e,t,r){return t&&SqlDataSourceWizard_defineProperties(e.prototype,t),r&&SqlDataSourceWizard_defineProperties(e,r),e}(SqlDataSourceWizard,[{key:"CreateModel",value:function CreateModel(t){return tr(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.model=new er(t,this.provider),e.next=3,this.model.Initialize();case 3:return e.abrupt("return",this.model);case 4:case"end":return e.stop()}},_callee,this)}))}},{key:"PageOrder",get:function get(){return qt.SqlDataSourceWizard}},{key:"TypeHandler",get:function get(){return"SqlDataSource"}}]),SqlDataSourceWizard}();function UiCommand_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var nr=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},or=function(){function UiCommand(e,t){!function UiCommand_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UiCommand),this.commandId=e,this.provider=t,this.targetCommandManager=this.provider.GetService(I.TargetCommandManager),this.Available=!0,this.Enabled=!0,this.Checked=!0}return function UiCommand_createClass(e,t,r){return t&&UiCommand_defineProperties(e.prototype,t),r&&UiCommand_defineProperties(e,r),e}(UiCommand,[{key:"Execute",value:function Execute(e){this.targetCommandManager.TryExecuteCommand(this.commandId,e)}},{key:"ExecuteAsync",value:function ExecuteAsync(t){return nr(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.targetCommandManager.TryExecuteCommandAsync(this.commandId,t);case 2:case"end":return e.stop()}},_callee,this)}))}},{key:"UpdateStatus",value:function UpdateStatus(e){var t=this.targetCommandManager.QueryCommandStatus(this.commandId,e);this.UpdateStatusCore(t)}},{key:"UpdateStatusCore",value:function UpdateStatusCore(e){this.Available=e.Available,this.Enabled=e.Enabled,this.Checked=e.Checked}},{key:"ID",get:function get(){return this.commandId}}]),UiCommand}();function MenuCommand_typeof(e){return(MenuCommand_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MenuCommand_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MenuCommand_possibleConstructorReturn(e,t){return!t||"object"!==MenuCommand_typeof(t)&&"function"!=typeof t?function MenuCommand_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function MenuCommand_getPrototypeOf(e){return(MenuCommand_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MenuCommand_setPrototypeOf(e,t){return(MenuCommand_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ir=function(){function MenuCommand(e,t,r){var n;return function MenuCommand_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MenuCommand),(n=MenuCommand_possibleConstructorReturn(this,MenuCommand_getPrototypeOf(MenuCommand).call(this,t,r))).$visualElement=$(e),n.visualControl=null,n.init(),n}return function MenuCommand_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MenuCommand_setPrototypeOf(e,t)}(MenuCommand,or),function MenuCommand_createClass(e,t,r){return t&&MenuCommand_defineProperties(e.prototype,t),r&&MenuCommand_defineProperties(e,r),e}(MenuCommand,[{key:"UpdateStatusCore",value:function UpdateStatusCore(e){this.Enabled=e.Enabled,this.toggleDisabled()}},{key:"toggleDisabled",value:function toggleDisabled(){this.visualControl.enable(this.Enabled)}},{key:"init",value:function init(){this.InitControl(),this.toggleDisabled(),this.initEvent()}},{key:"InitControl",value:function InitControl(){this.visualControl=this.$visualElement.kendoButton().data("kendoButton")}},{key:"initEvent",value:function initEvent(){var t=this;this.$visualElement.off("click").on("click",function(e){t.Execute(null)}).off("keydown").on("keydown",function(e){13===e.which&&t.Execute(null)})}},{key:"VisualElement",get:function get(){return this.$visualElement}}]),MenuCommand}();function ContextMenuCommand_typeof(e){return(ContextMenuCommand_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ContextMenuCommand_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ContextMenuCommand_possibleConstructorReturn(e,t){return!t||"object"!==ContextMenuCommand_typeof(t)&&"function"!=typeof t?function ContextMenuCommand_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ContextMenuCommand_getPrototypeOf(e){return(ContextMenuCommand_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ContextMenuCommand_setPrototypeOf(e,t){return(ContextMenuCommand_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ar=function(){function ContextMenuCommand(e,t,r,n){var o;return function ContextMenuCommand_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ContextMenuCommand),(o=ContextMenuCommand_possibleConstructorReturn(this,ContextMenuCommand_getPrototypeOf(ContextMenuCommand).call(this,n.element.find(e),t,r))).parent=n,o.selector=e,o.toggleDisabled(),o}return function ContextMenuCommand_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ContextMenuCommand_setPrototypeOf(e,t)}(ContextMenuCommand,ir),function ContextMenuCommand_createClass(e,t,r){return t&&ContextMenuCommand_defineProperties(e.prototype,t),r&&ContextMenuCommand_defineProperties(e,r),e}(ContextMenuCommand,[{key:"init",value:function init(){this.InitControl(),this.initEvent()}},{key:"toggleDisabled",value:function toggleDisabled(){this.parent&&this.parent.enable(this.selector,this.Enabled)}},{key:"InitControl",value:function InitControl(){}}]),ContextMenuCommand}();function CopyCommand_typeof(e){return(CopyCommand_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CopyCommand_possibleConstructorReturn(e,t){return!t||"object"!==CopyCommand_typeof(t)&&"function"!=typeof t?function CopyCommand_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CopyCommand_getPrototypeOf(e){return(CopyCommand_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CopyCommand_setPrototypeOf(e,t){return(CopyCommand_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var sr=function(){function CopyCommand(e,t,r){return function CopyCommand_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CopyCommand),CopyCommand_possibleConstructorReturn(this,CopyCommand_getPrototypeOf(CopyCommand).call(this,e,g.CommandCopy,t,r))}return function CopyCommand_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CopyCommand_setPrototypeOf(e,t)}(CopyCommand,ar),CopyCommand}();function CutCommand_typeof(e){return(CutCommand_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CutCommand_possibleConstructorReturn(e,t){return!t||"object"!==CutCommand_typeof(t)&&"function"!=typeof t?function CutCommand_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CutCommand_getPrototypeOf(e){return(CutCommand_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CutCommand_setPrototypeOf(e,t){return(CutCommand_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var cr=function(){function CutCommand(e,t,r){return function CutCommand_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CutCommand),CutCommand_possibleConstructorReturn(this,CutCommand_getPrototypeOf(CutCommand).call(this,e,g.CommandCut,t,r))}return function CutCommand_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CutCommand_setPrototypeOf(e,t)}(CutCommand,ar),CutCommand}();function DeleteCommand_typeof(e){return(DeleteCommand_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DeleteCommand_possibleConstructorReturn(e,t){return!t||"object"!==DeleteCommand_typeof(t)&&"function"!=typeof t?function DeleteCommand_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function DeleteCommand_getPrototypeOf(e){return(DeleteCommand_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DeleteCommand_setPrototypeOf(e,t){return(DeleteCommand_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ur=function(){function DeleteCommand(e,t,r){return function DeleteCommand_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DeleteCommand),DeleteCommand_possibleConstructorReturn(this,DeleteCommand_getPrototypeOf(DeleteCommand).call(this,e,g.CommandDelete,t,r))}return function DeleteCommand_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DeleteCommand_setPrototypeOf(e,t)}(DeleteCommand,ar),DeleteCommand}();function PasteCommand_typeof(e){return(PasteCommand_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PasteCommand_possibleConstructorReturn(e,t){return!t||"object"!==PasteCommand_typeof(t)&&"function"!=typeof t?function PasteCommand_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PasteCommand_getPrototypeOf(e){return(PasteCommand_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PasteCommand_setPrototypeOf(e,t){return(PasteCommand_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var lr=function(){function PasteCommand(e,t,r){return function PasteCommand_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PasteCommand),PasteCommand_possibleConstructorReturn(this,PasteCommand_getPrototypeOf(PasteCommand).call(this,e,g.CommandPaste,t,r))}return function PasteCommand_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PasteCommand_setPrototypeOf(e,t)}(PasteCommand,ar),PasteCommand}();function Kka(e,t,r,n){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"",i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null;!function MenuItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Kka),this.Name=e,this.Title=t,this.ShortCut=r,this.Visible=n,this.ClassName=o,this.SubMenu=i,this.Items=a}function ContextMenu_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var pr=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},fr=function(){function ContextMenu(e,t,r){!function ContextMenu_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ContextMenu),this.$parent=e,this.provider=t,this.target=r,this.selectionSvc=this.provider.GetService(I.SelectionService),this.selectedComponent=this.selectionSvc.PrimarySelection,this.str=this.provider.GetService(I.WebReportDesignerStrings),this.$visualElement=null,this.widget=null,this.wizards=new Map}return function ContextMenu_createClass(e,t,r){return t&&ContextMenu_defineProperties(e.prototype,t),r&&ContextMenu_defineProperties(e,r),e}(ContextMenu,[{key:"VisualElement",value:function VisualElement(){return this.$visualElement}},{key:"Context",value:function Context(e){this.selectedComponent=e}},{key:"Dispose",value:function Dispose(){this.widget&&this.widget.destroy(),this.widget&&this.widget.element&&this.widget.element.remove(),this.widget=null,this.$parent.empty()}},{key:"Close",value:function Close(){this.widget.close()}},{key:"Update",value:function Update(){this.widget.setOptions({target:this.target})}},{key:"Init",value:function Init(){return pr(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:this.$parent.append(this.template),this.$visualElement=this.$parent.find(".twd-context-menu"),this.InitItems(),this.InitKendoContextMenu("right"),(t=this.provider.GetService(I.UiCommandManager)).RegisterCommand(new cr(".-".concat(it.Cut),this.provider,this.widget)),t.RegisterCommand(new sr(".-".concat(it.Copy),this.provider,this.widget)),t.RegisterCommand(new lr(".-".concat(it.Paste),this.provider,this.widget)),t.RegisterCommand(new ur(".-".concat(it.Delete),this.provider,this.widget));case 9:case"end":return e.stop()}},_callee,this)}))}},{key:"InitItems",value:function InitItems(){var e=this.$visualElement,t=this.menuItems;for(var r in t){var n=t[r];n.Visible&&(e.append(this.itemTemplate(n)),n.SubMenu&&this[n.SubMenu](e.find("> li").last(),n))}}},{key:"InitKendoContextMenu",value:function InitKendoContextMenu(e){var t=this,r=0<arguments.length&&void 0!==e?e:"right";this.widget=this.$visualElement.kendoContextMenu({target:this.target,direction:r,alignToAnchor:!0,showOn:"click",copyAnchorStyles:!1,closeOnClick:!0,appendTo:".designer__content",select:function select(e){t.OnSelect(e)},open:function open(e){t.HideItemsByContext(e)}}).data("kendoContextMenu")}},{key:"OnSelect",value:function OnSelect(e){var t=$(e.item).attr("data-action");this[t]&&this[t](e)}},{key:"itemTemplate",value:function itemTemplate(e){return'<li data-action="'.concat(e.Name,'" class="context-menu__item k-widget -').concat(e.Name," ").concat(e.ClassName?e.ClassName:"",'">\n                    <span class="context-menu__text">').concat(e.Title,'</span>\n                    <span class="context-menu__short-cut">').concat(e.ShortCut,"</span>\n                </li>")}},{key:"HideItemsByContext",value:function HideItemsByContext(){var r=this,e=this.selectedComponent.Designer;if(e){var n=e.GetContextMenuCommands(),t=!0,o=!1,i=void 0;try{for(var a,s=function _loop(){var t=a.value,e=r.widget.element.find('[data-action="'.concat(t.Name,'"]'));-1!=n.findIndex(function(e){return e==t.Name})?e.removeClass("-hidden"):e.addClass("-hidden")},c=this.menuItems[Symbol.iterator]();!(t=(a=c.next()).done);t=!0)s()}catch(e){o=!0,i=e}finally{try{t||null==c.return||c.return()}finally{if(o)throw i}}}}},{key:"edit",value:function edit(){return pr(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:t=this.selectedComponent,(r=this.wizards.get(nt.SqlDataSourceWizard))||(r=new rr(this.$parent,this.provider),this.wizards.set(nt.SqlDataSourceWizard,r)),r.OpenWizard(t.PropertyWrappers,t.Name);case 4:case"end":return e.stop()}},_callee2,this)}))}},{key:"template",get:function get(){return'<ul class="twd-context-menu twd-designer-parts"></ul>'}},{key:"menuItems",get:function get(){return[new Kka(it.Edit,this.str.Edit,"",!0,"-border-bottom"),new Kka(it.Cut,this.str.CutButton,"Ctrl+X",!0),new Kka(it.Copy,this.str.CopyButton,"Ctrl+C",!0),new Kka(it.Paste,this.str.PasteButton,"Ctrl+V",!0,"-border-bottom"),new Kka(it.Delete,this.str.DeleteButton,"Delete",!0)]}},{key:"UIControl",get:function get(){return this.widget}}]),ContextMenu}();function CrosstabContextMenu_typeof(e){return(CrosstabContextMenu_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CrosstabContextMenu_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CrosstabContextMenu_possibleConstructorReturn(e,t){return!t||"object"!==CrosstabContextMenu_typeof(t)&&"function"!=typeof t?function CrosstabContextMenu_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CrosstabContextMenu_get(e,t,r){return(CrosstabContextMenu_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CrosstabContextMenu_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CrosstabContextMenu_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CrosstabContextMenu_getPrototypeOf(e){return(CrosstabContextMenu_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CrosstabContextMenu_setPrototypeOf(e,t){return(CrosstabContextMenu_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var dr=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},yr=function(){function CrosstabContextMenu(e,t,r,n){var o;return function CrosstabContextMenu_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CrosstabContextMenu),(o=CrosstabContextMenu_possibleConstructorReturn(this,CrosstabContextMenu_getPrototypeOf(CrosstabContextMenu).call(this,e,t,r))).model=n,o.aggregateFunctions=null,o.getAggregateFunctions(),o.webDesignerEventsElement=o.provider.GetService(I.WebDesignerEventsElement),o}return function CrosstabContextMenu_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CrosstabContextMenu_setPrototypeOf(e,t)}(CrosstabContextMenu,fr),function CrosstabContextMenu_createClass(e,t,r){return t&&CrosstabContextMenu_defineProperties(e.prototype,t),r&&CrosstabContextMenu_defineProperties(e,r),e}(CrosstabContextMenu,[{key:"Init",value:function Init(){return dr(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAggregateFunctions();case 2:this.$parent.append(this.template),this.$visualElement=this.$parent.find(".twd-context-menu"),this.InitItems(),this.InitKendoContextMenu("left");case 6:case"end":return e.stop()}},_callee,this)}))}},{key:"InitKendoContextMenu",value:function InitKendoContextMenu(e){CrosstabContextMenu_get(CrosstabContextMenu_getPrototypeOf(CrosstabContextMenu.prototype),"InitKendoContextMenu",this).call(this,e)}},{key:"HideItemsByContext",value:function HideItemsByContext(e){var t=$(e.target).closest(".twd-editor").attr("data-group")!==ot.DetailValues||!this.model.HasLayoutType;this.UIControl.element.find(".-".concat(it.AggregateFunction)).toggleClass("-hidden",t),this.UIControl.element.css("right",this.adjustMenuPosition(e)+"px")}},{key:"adjustMenuPosition",value:function adjustMenuPosition(e){return this.webDesignerEventsElement.getBoundingClientRect().right-$(e.target)[0].getBoundingClientRect().right}},{key:"subItemTemplate",value:function subItemTemplate(e,t){return'<li data-action="'.concat(t,'" data-document-id="').concat(e,'" class="main-menu__item">\n                    <span>').concat(e,"</span>\n                </li>")}},{key:"getAggregateFunctions",value:function getAggregateFunctions(){return dr(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.model.GetAggregateFunctions();case 2:this.aggregateFunctions=e.sent,this.aggregateFunctions.unshift("None");case 4:case"end":return e.stop()}},_callee2,this)}))}},{key:"initSubMenu",value:function initSubMenu(e,t){e.append(this.menuTemplate);var r=e.find("ul"),n=!0,o=!1,i=void 0;try{for(var a,s=t.Items[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;r.append(this.subItemTemplate(c,t.Name))}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}},{key:"addAggregateFunction",value:function addAggregateFunction(e){var t=this.targetCollectionData(e),r=this.model.DetailValues[t.selectedIndex],n=$(e.item).text().trim();"None"===n&&(n=""),r.AggregateFunction=n,this.webDesignerEventsElement.dispatchEvent(new Event(y.CrosstabWizardUpdateUI))}},{key:"remove",value:function remove(e){this.webDesignerEventsElement.dispatchEvent(new CustomEvent(y.CrosstabWizardRemoveItem,{detail:this.targetCollectionData(e)}))}},{key:"targetCollectionData",value:function targetCollectionData(e){var t=$(e.target),r=t.closest(".editor__list-item");return{selectedIndex:t.closest(".editor__list").find(".editor__list-item").index(r),groupName:t.closest(".twd-editor").attr("data-group")}}},{key:"menuItems",get:function get(){return[new Kka(it.AggregateFunction,this.str.Function,"",!0,"",this.initSubMenu.name,this.aggregateFunctions),new Kka(it.RemoveCrosstabItem,this.str.Remove,"",!0)]}},{key:"menuTemplate",get:function get(){return"<ul></ul>"}}]),CrosstabContextMenu}();function DesignStyleSheet_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var hr=function(){function DesignStyleSheet(e,t,r){!function DesignStyleSheet_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DesignStyleSheet),this.GlobalName=e,this.DisplayName=e,this.ResourceName=t,this.TableNormal="".concat(e,".TableNormal"),this.TableHeader="".concat(e,".TableHeader"),this.TableGroup="".concat(e,".TableGroup"),this.TableCorner="".concat(e,".TableCorner"),this.TableBody="".concat(e,".TableBody"),this.SubTotal="".concat(e,".SubTotal"),this.GrandTotal="".concat(e,".GrandTotal"),this.ColorScheme=r,this.StyleSheet=null}return function DesignStyleSheet_createClass(e,t,r){return t&&DesignStyleSheet_defineProperties(e.prototype,t),r&&DesignStyleSheet_defineProperties(e,r),e}(DesignStyleSheet,null,[{key:"Normal",get:function get(){return"Normal"}},{key:"BlueOpal",get:function get(){return"BlueOpal"}},{key:"Apex",get:function get(){return"Apex"}},{key:"Aspect",get:function get(){return"Aspect"}},{key:"Civic",get:function get(){return"Civic"}},{key:"Corporate",get:function get(){return"Corporate"}},{key:"Office",get:function get(){return"Office"}},{key:"Solstice",get:function get(){return"Solstice"}}]),DesignStyleSheet}();function CrosstabComponentFactory_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CrosstabComponentFactory_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}hr.StyleSheets=[new hr(hr.Normal,"NormalStyleSheet",["#FFFFFF","#FFFFFF","#FFFFFF"]),new hr(hr.BlueOpal,"BlueOpalSheet",["#E9F4F9","#7CD0F2","#61B4D6"]),new hr(hr.Apex,"ApexStyleSheet",["#D7D7D8","#69676D","#CEB968"]),new hr(hr.Aspect,"AspectStyleSheet",["#F1EEE8","#94938F","#323232"]),new hr(hr.Civic,"CivicStyleSheet",["#F1F5F5","#C5D6D6","#8CAEAD"]),new hr(hr.Corporate,"CorporateStyleSheet",["#E3E6ED","#8D9CB7","#1C3A70"]),new hr(hr.Office,"OfficeStyleSheet",["#EEF4FB","#79A7E3","#235CA9"]),new hr(hr.Solstice,"SolsticeStyleSheet",["#E7DEC9","#D5CABD","#4F271C"])];var mr=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},gr=function(){function CrosstabComponentFactory(e,t,r){!function CrosstabComponentFactory_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CrosstabComponentFactory),this.component=e,this.styleSheet=t,this.provider=r,this.designSurfaceManager=r.GetService(I.IDesignSurfaceManager),this.designSurface=this.designSurfaceManager.ActiveDesignSurface,this.defaultSize=new M(new j(76.8),new j(19.2))}return function CrosstabComponentFactory_createClass(e,t,r){return t&&CrosstabComponentFactory_defineProperties(e.prototype,t),r&&CrosstabComponentFactory_defineProperties(e,r),e}(CrosstabComponentFactory,[{key:"CreateTextBox",value:function CreateTextBox(){return mr(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.designSurface.CreateNewComponent(_.TextBox,null,this.component);case 2:return(t=e.sent).PropertyStore[G.Width]=this.defaultSize.Width.ToString(),t.PropertyStore[G.Height]=this.defaultSize.Height.ToString(),e.abrupt("return",t);case 6:case"end":return e.stop()}},_callee,this)}))}},{key:"CreateTableRow",value:function CreateTableRow(){var e;return new $e((CrosstabComponentFactory_defineProperty(e={},G.NetType,_.Row),CrosstabComponentFactory_defineProperty(e,G.Height,this.defaultSize.Height.ToString()),e))}},{key:"CreateTableColumn",value:function CreateTableColumn(){var e;return new Fe((CrosstabComponentFactory_defineProperty(e={},G.NetType,_.Column),CrosstabComponentFactory_defineProperty(e,G.Width,this.defaultSize.Width.ToString()),e))}},{key:"ApplyStylePreset",value:function ApplyStylePreset(){return mr(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r,n,o,i,a,s,c,u,l,p,f,d,y,h,m,g,v,b,_,S,C,P;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.provider.GetService(I.IDesignerHost),r=t.RootComponent,this.styleSheet.StyleSheet){e.next=27;break}return n=this.provider.GetService(I.ISchemaService),e.next=6,n.GetWizardStyleSheets(this.component.Type);case 6:for(o=e.sent,a=!(i=!0),s=void 0,e.prev=10,c=function _loop(){var t=l.value;t.StyleSheet=o[G.StyleSheets].find(function(e){return e[G.GlobalName]===t.GlobalName})[G.StyleSheet]},u=hr.StyleSheets[Symbol.iterator]();!(i=(l=u.next()).done);i=!0)c();e.next=19;break;case 15:e.prev=15,e.t0=e.catch(10),a=!0,s=e.t0;case 19:e.prev=19,e.prev=20,i||null==u.return||u.return();case 22:if(e.prev=22,a)throw s;e.next=25;break;case 25:return e.finish(22);case 26:return e.finish(19);case 27:p=!0,f=r.StyleSheet.filter(function(e){return e.Selectors.find(function(e){return e[G.StyleName]})}).map(function(e){return e.Selectors}).reduce(function(e,t){return e.concat(t)},[]),y=!(d=!0),h=void 0,e.prev=32,m=f[Symbol.iterator]();case 34:if(d=(g=m.next()).done){e.next=42;break}if(g.value[G.StyleName].includes(this.styleSheet.GlobalName))return p=!1,e.abrupt("break",42);e.next=39;break;case 39:d=!0,e.next=34;break;case 42:e.next=48;break;case 44:e.prev=44,e.t1=e.catch(32),y=!0,h=e.t1;case 48:e.prev=48,e.prev=49,d||null==m.return||m.return();case 51:if(e.prev=51,y)throw h;e.next=54;break;case 54:return e.finish(51);case 55:return e.finish(48);case 56:if(!p){e.next=83;break}b=!(v=!0),_=void 0,e.prev=60,S=this.styleSheet.StyleSheet[Symbol.iterator]();case 62:if(v=(C=S.next()).done){e.next=69;break}return P=C.value,e.next=66,this.createStyleRule(P,r);case 66:v=!0,e.next=62;break;case 69:e.next=75;break;case 71:e.prev=71,e.t2=e.catch(60),b=!0,_=e.t2;case 75:e.prev=75,e.prev=76,v||null==S.return||S.return();case 78:if(e.prev=78,b)throw _;e.next=81;break;case 81:return e.finish(78);case 82:return e.finish(75);case 83:case"end":return e.stop()}},_callee2,this,[[10,15,19,27],[20,,22,26],[32,44,48,56],[49,,51,55],[60,71,75,83],[76,,78,82]])}))}},{key:"createStyleRule",value:function createStyleRule(i,a){return mr(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r,n,o;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.IDesignerHost),r=null,t.InTransaction||(r=t.CreateTransaction("Add new '".concat(_.StyleRule,"' item"))),n=this.provider.GetService(I.NamingService),i[G.Name]=n.CreateName(i[G.NetType]),e.next=7,this.component.CreateNonChildComponent(i);case 7:(o=e.sent)&&(a.StyleSheet.push(o),a.PropertyStore[G.StyleSheet]||(a.PropertyStore[G.StyleSheet]=[]),a.PropertyStore[G.StyleSheet].push(i)),r&&r.Commit();case 10:case"end":return e.stop()}},_callee3,this)}))}}]),CrosstabComponentFactory}();function TableLayoutEngine_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var vr=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},br=function(){function TableLayoutEngine(e,t,r){!function TableLayoutEngine_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableLayoutEngine),this.provider=e,this.component=t,this.model=r,this.DataSource=r.DataSource,this.StyleSheet=r.StyleSheet,this.ColumnGroups=r.ColumnGroups,this.RowGroups=r.RowGroups,this.DetailValues=r.DetailValues,this.uniqueNameGenerator=this.provider.GetService(I.NamingService),this.ComponentFactory=new gr(this.component,this.StyleSheet,this.provider)}return function TableLayoutEngine_createClass(e,t,r){return t&&TableLayoutEngine_defineProperties(e.prototype,t),r&&TableLayoutEngine_defineProperties(e,r),e}(TableLayoutEngine,[{key:"CreateTableLayout",value:function CreateTableLayout(){return vr(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.component,e.next=3,this.CreateTableContent(t);case 3:return t.StyleName||(t.StyleName=this.StyleSheet.TableNormal),e.next=6,this.ComponentFactory.ApplyStylePreset();case 6:t.DataSourceName=this.DataSource.Name;case 7:case"end":return e.stop()}},_callee,this)}))}},{key:"CreateTableContent",value:function CreateTableContent(){return vr(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},_callee2)}))}},{key:"CreateTableRow",value:function CreateTableRow(){return this.ComponentFactory.CreateTableRow()}},{key:"CreateTableColumn",value:function CreateTableColumn(){return this.ComponentFactory.CreateTableColumn()}},{key:"CreateLogicGroup",value:function CreateLogicGroup(e,t){var r=new Le({},this.component,this.provider,t),n=new T({},r,this.provider),o=new N({},r,this.provider),i=Le.EnsureExpression(e.Expression);return r.Name=this.uniqueNameGenerator.CreateName(e.Name),n.Expression=i,o.Expression=i,r.Groupings.Add(n),r.Sortings.Add(o),r}},{key:"CreateFieldGroup",value:function CreateFieldGroup(n,o,i){return vr(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return t=new Le({},this.component,this.provider,i),e.next=3,this.CreateBoundTextBox(n,o);case 3:return r=e.sent,t.Name=this.uniqueNameGenerator.CreateName(n.Name),t.ReportItem=r,e.abrupt("return",t);case 7:case"end":return e.stop()}},_callee3,this)}))}},{key:"CreateDetailGroup",value:function CreateDetailGroup(e){var t=new Le({},this.component,this.provider,e),r=new T({},t,this.provider);return t.Name="detail",t.Groupings.Add(r),t}},{key:"CreateBoundGroup",value:function CreateBoundGroup(a,s,c){return vr(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r,n,o,i;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return t=new Le({},this.component,this.provider,c),r=new T({},t,this.provider),n=new N({},t,this.provider),o=Le.EnsureExpression(a.Expression),e.next=6,this.CreateBoundTextBox(a,s);case 6:return i=e.sent,t.Name=this.uniqueNameGenerator.CreateName(a.Name),t.ReportItem=i,r.Expression=o,n.Expression=o,t.Groupings.Add(r),t.Sortings.Add(n),e.abrupt("return",t);case 14:case"end":return e.stop()}},_callee4,this)}))}},{key:"CreateStaticGroup",value:function CreateStaticGroup(n,o,i){return vr(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var t,r;return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return t=new Le({},this.component,this.provider,i),e.next=3,this.CreateStaticTextBox(n,o);case 3:return r=e.sent,t.Name=this.uniqueNameGenerator.CreateName(n),t.ReportItem=r,e.abrupt("return",t);case 7:case"end":return e.stop()}},_callee5,this)}))}},{key:"CreateBoundTextBox",value:function CreateBoundTextBox(n,o){return vr(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var t,r;return regeneratorRuntime.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return t=Le.EnsureExpression(n.Expression),e.next=3,this.CreateStaticTextBox(t,o);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},_callee6,this)}))}},{key:"CreateStaticTextBox",value:function CreateStaticTextBox(r,n){return vr(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var t;return regeneratorRuntime.wrap(function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ComponentFactory.CreateTextBox();case 2:return(t=e.sent).Value=r,t.StyleName=n,e.abrupt("return",t);case 6:case"end":return e.stop()}},_callee7,this)}))}},{key:"CreateTotalTextBox",value:function CreateTotalTextBox(n,o){return vr(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){var t,r;return regeneratorRuntime.wrap(function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.GetFieldAggregate(n),e.next=3,this.CreateStaticTextBox(t,o);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},_callee8,this)}))}},{key:"GetFieldAggregate",value:function GetFieldAggregate(e){return Le.EnsureExpression(e.Expression)}},{key:"HasColumnGroups",get:function get(){return 0<this.ColumnGroups.length}},{key:"HasRowGroups",get:function get(){return 0<this.RowGroups.length}},{key:"HasDetailValues",get:function get(){return 0<this.DetailValues.length}},{key:"HasManyValues",get:function get(){return 1<this.DetailValues.length}}]),TableLayoutEngine}();function ComplexLayoutEngine_typeof(e){return(ComplexLayoutEngine_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ComplexLayoutEngine_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ComplexLayoutEngine_possibleConstructorReturn(e,t){return!t||"object"!==ComplexLayoutEngine_typeof(t)&&"function"!=typeof t?function ComplexLayoutEngine_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ComplexLayoutEngine_getPrototypeOf(e){return(ComplexLayoutEngine_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ComplexLayoutEngine_setPrototypeOf(e,t){return(ComplexLayoutEngine_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var _r=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Sr=function(){function ComplexLayoutEngine(e,t,r){var n;return function ComplexLayoutEngine_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ComplexLayoutEngine),(n=ComplexLayoutEngine_possibleConstructorReturn(this,ComplexLayoutEngine_getPrototypeOf(ComplexLayoutEngine).call(this,e,t,r))).str=n.provider.GetService(I.WebReportDesignerStrings),n}return function ComplexLayoutEngine_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ComplexLayoutEngine_setPrototypeOf(e,t)}(ComplexLayoutEngine,br),function ComplexLayoutEngine_createClass(e,t,r){return t&&ComplexLayoutEngine_defineProperties(e.prototype,t),r&&ComplexLayoutEngine_defineProperties(e,r),e}(ComplexLayoutEngine,[{key:"CreateTableContent",value:function CreateTableContent(t){return _r(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.CreateColumnGroups(t.ColumnGroups);case 2:return e.next=4,this.CreateColumnTotals(t.ColumnGroups);case 4:return e.next=6,this.CreateRowGroups(t.RowGroups);case 6:return e.next=8,this.CreateRowTotals(t.RowGroups);case 8:return e.next=10,this.CreateCornerItems(t.Corner);case 10:return e.next=12,this.CreateBodyItems(t.Body);case 12:case"end":return e.stop()}},_callee,this)}))}},{key:"CreateColumnGroups",value:function CreateColumnGroups(p){return _r(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r,n,o,i,a,s,c,u,l;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasColumnGroups){e.next=42;break}t=this.StyleSheet.TableGroup,r=[],i=!(o=!(n=null)),a=void 0,e.prev=7,s=this.ColumnGroups[Symbol.iterator]();case 9:if(o=(c=s.next()).done){e.next=21;break}return u=c.value,e.next=13,this.CreateBoundGroup(u,t,n);case 13:l=e.sent,r.push(l),p.Add(l),p=l.ChildGroups,n=l;case 18:o=!0,e.next=9;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(7),i=!0,a=e.t0;case 27:e.prev=27,e.prev=28,o||null==s.return||s.return();case 30:if(e.prev=30,i)throw a;e.next=33;break;case 33:return e.finish(30);case 34:return e.finish(27);case 35:if(this.HasManyValues)return e.next=38,this.CreateHeaderGroups(p);e.next=38;break;case 38:return e.next=40,this.CreateGroupTotals(r);case 40:e.next=44;break;case 42:return e.next=44,this.CreateHeaderGroups(p);case 44:case"end":return e.stop()}},_callee2,this,[[7,23,27,35],[28,,30,34]])}))}},{key:"CreateGroupTotals",value:function CreateGroupTotals(u){return _r(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r,n,o,i,a,s,c;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasDetailValues){e.next=21;break}t=this.StyleSheet.SubTotal,r=u.length-1,n=0;case 4:if(n<r)return o=u[n],i=o.ChildGroups,e.next=9,this.CreateStaticGroup(this.str.Total,t,i.parentGroup);e.next=21;break;case 9:if(a=e.sent,s=a.ReportItem,c=r-n,s.Height=s.Height.Multiply(c),i.Add(a),i=a.ChildGroups,this.HasManyValues)return e.next=18,this.CreateHeaderGroups(i);e.next=18;break;case 18:n++,e.next=4;break;case 21:case"end":return e.stop()}},_callee3,this)}))}},{key:"CreateColumnTotals",value:function CreateColumnTotals(i){return _r(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r,n,o;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:if(this.HasColumnGroups&&this.HasDetailValues)return t=this.StyleSheet.GrandTotal,e.next=4,this.CreateStaticGroup(this.str.Total,t,i.parentGroup);e.next=13;break;case 4:if(r=e.sent,n=r.ReportItem,o=this.ColumnGroups.length,n.Height=n.Height.Multiply(o),i.Add(r),i=r.ChildGroups,this.HasManyValues)return e.next=13,this.CreateHeaderGroups(i);e.next=13;break;case 13:case"end":return e.stop()}},_callee4,this)}))}},{key:"CreateHeaderGroups",value:function CreateHeaderGroups(u){return _r(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var t,r,n,o,i,a,s,c;return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasDetailValues){e.next=30;break}t=this.StyleSheet.TableHeader,n=!(r=!0),o=void 0,e.prev=5,i=this.DetailValues[Symbol.iterator]();case 7:if(r=(a=i.next()).done){e.next=16;break}return s=a.value,e.next=11,this.CreateStaticGroup(s.Name,t,u.parentGroup);case 11:c=e.sent,u.Add(c);case 13:r=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),n=!0,o=e.t0;case 22:e.prev=22,e.prev=23,r||null==i.return||i.return();case 25:if(e.prev=25,n)throw o;e.next=28;break;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}},_callee5,this,[[5,18,22,30],[23,,25,29]])}))}},{key:"CreateSubTotals",value:function CreateSubTotals(u){return _r(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var t,r,n,o,i,a,s,c;return regeneratorRuntime.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasDetailValues){e.next=17;break}t=this.StyleSheet.SubTotal,r=u.length-1,n=0;case 4:if(n<r)return o=u[n],i=o.ChildGroups,e.next=9,this.CreateStaticGroup(this.str.Total,t,o);e.next=17;break;case 9:a=e.sent,s=a.ReportItem,c=r-n,s.Width=s.Width.Multiply(c),i.Add(a);case 14:n++,e.next=4;break;case 17:case"end":return e.stop()}},_callee6,this)}))}},{key:"CreateRowTotals",value:function CreateRowTotals(i){return _r(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var t,r,n,o;return regeneratorRuntime.wrap(function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:if(this.HasRowGroups&&this.HasDetailValues)return t=this.StyleSheet.GrandTotal,e.next=4,this.CreateStaticGroup(this.str.Total,t,i.parentGroup);e.next=9;break;case 4:r=e.sent,n=r.ReportItem,o=this.RowGroups.length,n.Width=n.Width.Multiply(o),i.Add(r);case 9:case"end":return e.stop()}},_callee7,this)}))}},{key:"CreateCornerItems",value:function CreateCornerItems(t){return _r(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasRowGroups){e.next=16;break}if(!this.HasColumnGroups){e.next=13;break}if(this.HasManyValues)return e.next=5,this.CreateEmptyCorner(t);e.next=9;break;case 5:return e.next=7,this.CreateSmallHeader(t);case 7:e.next=11;break;case 9:return e.next=11,this.CreateLargeHeader(t);case 11:e.next=16;break;case 13:if(this.HasDetailValues)return e.next=16,this.CreateSmallHeader(t);e.next=16;break;case 16:case"end":return e.stop()}},_callee8,this)}))}},{key:"CreateEmptyCorner",value:function CreateEmptyCorner(i){return _r(this,void 0,void 0,regeneratorRuntime.mark(function _callee9(){var t,r,n,o;return regeneratorRuntime.wrap(function _callee9$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.StyleSheet.TableCorner,r=this.ColumnGroups.length,n=this.RowGroups.length,e.next=5,this.CreateStaticTextBox("",t);case 5:o=e.sent,i.SetCellContentExtended(0,0,o,r,n);case 7:case"end":return e.stop()}},_callee9,this)}))}},{key:"CreateLargeHeader",value:function CreateLargeHeader(s){return _r(this,void 0,void 0,regeneratorRuntime.mark(function _callee10(){var t,r,n,o,i,a;return regeneratorRuntime.wrap(function _callee10$(e){for(;;)switch(e.prev=e.next){case 0:t=this.StyleSheet.TableHeader,r=this.ColumnGroups.length,n=this.RowGroups.length,o=0;case 4:if(o<n)return i=this.RowGroups[o],e.next=8,this.CreateStaticTextBox(i.Name,t);e.next=13;break;case 8:a=e.sent,s.SetCellContentExtended(0,o,a,r,1);case 10:o++,e.next=4;break;case 13:case"end":return e.stop()}},_callee10,this)}))}},{key:"CreateSmallHeader",value:function CreateSmallHeader(s){return _r(this,void 0,void 0,regeneratorRuntime.mark(function _callee11(){var t,r,n,o,i,a;return regeneratorRuntime.wrap(function _callee11$(e){for(;;)switch(e.prev=e.next){case 0:t=this.StyleSheet.TableHeader,r=this.ColumnGroups.length,n=this.RowGroups.length,o=0;case 4:if(o<n)return i=this.RowGroups[o],e.next=8,this.CreateStaticTextBox(i.Name,t);e.next=13;break;case 8:a=e.sent,s.SetCellContent(r,o,a);case 10:o++,e.next=4;break;case 13:case"end":return e.stop()}},_callee11,this)}))}},{key:"CreateColumnItems",value:function CreateColumnItems(e){for(var t=this.ColumnGroups.length,r=this.DetailValues.length,n=0;n<r;n++)for(var o=0;o<=t;o++)e.Columns.Add(this.CreateTableColumn())}},{key:"CreateDetailItems",value:function CreateDetailItems(m){return _r(this,void 0,void 0,regeneratorRuntime.mark(function _callee12(){var t,r,n,o,i,a,s,c,u,l,p,f,d,y,h;return regeneratorRuntime.wrap(function _callee12$(e){for(;;)switch(e.prev=e.next){case 0:t=this.StyleSheet.TableBody,r=this.StyleSheet.SubTotal,n=this.StyleSheet.GrandTotal,o=m.Rows.Count,i=this.ColumnGroups.length,a=this.DetailValues.length,m.Rows.Add(this.CreateTableRow()),s=0;case 8:if(!(s<a)){e.next=39;break}if(c=this.DetailValues[s],this.HasColumnGroups)return e.next=13,this.CreateTotalTextBox(c,t);e.next=32;break;case 13:u=e.sent,m.SetCellContent(o,s,u),l=1;case 16:if(l<i)return e.next=19,this.CreateTotalTextBox(c,r);e.next=25;break;case 19:p=e.sent,f=l*a+s,m.SetCellContent(o,f,p);case 22:l++,e.next=16;break;case 25:return e.next=27,this.CreateTotalTextBox(c,n);case 27:d=e.sent,y=i*a+s,m.SetCellContent(o,y,d),e.next=36;break;case 32:return e.next=34,this.CreateBoundTextBox(c,t);case 34:h=e.sent,m.SetCellContent(o,s,h);case 36:s++,e.next=8;break;case 39:case"end":return e.stop()}},_callee12,this)}))}},{key:"CreateTotalItems",value:function CreateTotalItems(m){return _r(this,void 0,void 0,regeneratorRuntime.mark(function _callee13(){var t,r,n,o,i,a,s,c,u,l,p,f,d,y,h;return regeneratorRuntime.wrap(function _callee13$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasRowGroups){e.next=42;break}t=this.StyleSheet.SubTotal,r=this.StyleSheet.GrandTotal,n=this.ColumnGroups.length,o=this.RowGroups.length,i=this.DetailValues.length,this.HasColumnGroups&&o--,a=0;case 8:if(!(a<o)){e.next=42;break}s=m.Rows.Count,m.Rows.Add(this.CreateTableRow()),c=0;case 12:if(!(c<i)){e.next=39;break}if(u=this.DetailValues[c],!this.HasColumnGroups){e.next=32;break}l=0;case 16:if(l<n)return e.next=19,this.CreateTotalTextBox(u,t);e.next=25;break;case 19:p=e.sent,f=l*i+c,m.SetCellContent(s,f,p);case 22:l++,e.next=16;break;case 25:return e.next=27,this.CreateTotalTextBox(u,r);case 27:d=e.sent,y=n*i+c,m.SetCellContent(s,y,d),e.next=36;break;case 32:return e.next=34,this.CreateTotalTextBox(u,t);case 34:h=e.sent,m.SetCellContent(s,c,h);case 36:c++,e.next=12;break;case 39:a++,e.next=8;break;case 42:case"end":return e.stop()}},_callee13,this)}))}},{key:"CreateGrandItems",value:function CreateGrandItems(l){return _r(this,void 0,void 0,regeneratorRuntime.mark(function _callee14(){var t,r,n,o,i,a,s,c,u;return regeneratorRuntime.wrap(function _callee14$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasRowGroups){e.next=22;break}t=this.StyleSheet.GrandTotal,r=l.Rows.Count,n=this.ColumnGroups.length,o=this.DetailValues.length,l.Rows.Add(this.CreateTableRow()),i=0;case 7:if(!(i<o)){e.next=22;break}a=this.DetailValues[i],s=0;case 10:if(s<=n)return e.next=13,this.CreateTotalTextBox(a,t);e.next=19;break;case 13:c=e.sent,u=s*o+i,l.SetCellContent(r,u,c);case 16:s++,e.next=10;break;case 19:i++,e.next=7;break;case 22:case"end":return e.stop()}},_callee14,this)}))}}]),ComplexLayoutEngine}();function BlockedAboveEngine_typeof(e){return(BlockedAboveEngine_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BlockedAboveEngine_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BlockedAboveEngine_possibleConstructorReturn(e,t){return!t||"object"!==BlockedAboveEngine_typeof(t)&&"function"!=typeof t?function BlockedAboveEngine_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function BlockedAboveEngine_getPrototypeOf(e){return(BlockedAboveEngine_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BlockedAboveEngine_setPrototypeOf(e,t){return(BlockedAboveEngine_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Cr=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Pr=function(){function BlockedAboveEngine(e,t,r){return function BlockedAboveEngine_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BlockedAboveEngine),BlockedAboveEngine_possibleConstructorReturn(this,BlockedAboveEngine_getPrototypeOf(BlockedAboveEngine).call(this,e,t,r))}return function BlockedAboveEngine_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BlockedAboveEngine_setPrototypeOf(e,t)}(BlockedAboveEngine,Sr),function BlockedAboveEngine_createClass(e,t,r){return t&&BlockedAboveEngine_defineProperties(e.prototype,t),r&&BlockedAboveEngine_defineProperties(e,r),e}(BlockedAboveEngine,[{key:"CreateRowGroups",value:function CreateRowGroups(y){return Cr(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o,i,a,s,c,u,l,p,f,d;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasRowGroups){e.next=36;break}t=this.StyleSheet.TableGroup,r=[],i=!(o=!(n=null)),a=void 0,e.prev=7,s=this.RowGroups[Symbol.iterator]();case 9:if(o=(c=s.next()).done){e.next=19;break}return u=c.value,e.next=13,this.CreateBoundGroup(u,t,n);case 13:l=e.sent,r.push(l),n=l;case 16:o=!0,e.next=9;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(7),i=!0,a=e.t0;case 25:e.prev=25,e.prev=26,o||null==s.return||s.return();case 28:if(e.prev=28,i)throw a;e.next=31;break;case 31:return e.finish(28);case 32:return e.finish(25);case 33:return e.next=35,this.CreateSubTotals(r);case 35:for(p=0,f=r;p<f.length;p++)d=f[p],y.Add(d),y=d.ChildGroups;case 36:this.CreateDetailGroups(y);case 37:case"end":return e.stop()}},_callee,this,[[7,21,25,33],[26,,28,32]])}))}},{key:"CreateDetailGroups",value:function CreateDetailGroups(e){this.HasDetailValues&&(this.HasColumnGroups?this.HasRowGroups||e.Add(new Le({},this.component,this.provider,e.ParentGroup)):(this.HasRowGroups&&e.Add(new Le({},this.component,this.provider,e.ParentGroup)),e.Add(this.CreateDetailGroup(e.ParentGroup))))}},{key:"CreateBodyItems",value:function CreateBodyItems(t){return Cr(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(this.HasDetailValues)return this.CreateColumnItems(t),e.next=4,this.CreateTotalItems(t);e.next=8;break;case 4:return e.next=6,this.CreateDetailItems(t);case 6:return e.next=8,this.CreateGrandItems(t);case 8:case"end":return e.stop()}},_callee2,this)}))}}]),BlockedAboveEngine}();function BlockedBelowEngine_typeof(e){return(BlockedBelowEngine_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BlockedBelowEngine_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BlockedBelowEngine_possibleConstructorReturn(e,t){return!t||"object"!==BlockedBelowEngine_typeof(t)&&"function"!=typeof t?function BlockedBelowEngine_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function BlockedBelowEngine_getPrototypeOf(e){return(BlockedBelowEngine_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BlockedBelowEngine_setPrototypeOf(e,t){return(BlockedBelowEngine_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var wr=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Or=function(){function BlockedBelowEngine(e,t,r){return function BlockedBelowEngine_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BlockedBelowEngine),BlockedBelowEngine_possibleConstructorReturn(this,BlockedBelowEngine_getPrototypeOf(BlockedBelowEngine).call(this,e,t,r))}return function BlockedBelowEngine_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BlockedBelowEngine_setPrototypeOf(e,t)}(BlockedBelowEngine,Sr),function BlockedBelowEngine_createClass(e,t,r){return t&&BlockedBelowEngine_defineProperties(e.prototype,t),r&&BlockedBelowEngine_defineProperties(e,r),e}(BlockedBelowEngine,[{key:"CreateRowGroups",value:function CreateRowGroups(p){return wr(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o,i,a,s,c,u,l;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasRowGroups){e.next=40;break}t=this.StyleSheet.TableGroup,r=[],i=!(o=!(n=null)),a=void 0,e.prev=7,s=this.RowGroups[Symbol.iterator]();case 9:if(o=(c=s.next()).done){e.next=21;break}return u=c.value,e.next=13,this.CreateBoundGroup(u,t,n);case 13:l=e.sent,r.push(l),p.Add(l),p=l.ChildGroups,n=l;case 18:o=!0,e.next=9;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(7),i=!0,a=e.t0;case 27:e.prev=27,e.prev=28,o||null==s.return||s.return();case 30:if(e.prev=30,i)throw a;e.next=33;break;case 33:return e.finish(30);case 34:return e.finish(27);case 35:return this.CreateDetailGroups(p),e.next=38,this.CreateSubTotals(r);case 38:e.next=41;break;case 40:this.CreateDetailGroups(p);case 41:case"end":return e.stop()}},_callee,this,[[7,23,27,35],[28,,30,34]])}))}},{key:"CreateDetailGroups",value:function CreateDetailGroups(e){this.HasDetailValues&&(this.HasColumnGroups?this.HasRowGroups||e.Add(new Le({},this.component,this.provider,e.ParentGroup)):(e.Add(this.CreateDetailGroup(e.ParentGroup)),this.HasRowGroups&&e.Add(new Le({},this.component,this.provider,e.ParentGroup))))}},{key:"CreateBodyItems",value:function CreateBodyItems(t){return wr(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(this.HasDetailValues)return this.CreateColumnItems(t),e.next=4,this.CreateDetailItems(t);e.next=8;break;case 4:return e.next=6,this.CreateTotalItems(t);case 6:return e.next=8,this.CreateGrandItems(t);case 8:case"end":return e.stop()}},_callee2,this)}))}}]),BlockedBelowEngine}();function CrosstabLayoutType_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Er=function(){function CrosstabLayoutType(){!function CrosstabLayoutType_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CrosstabLayoutType)}return function CrosstabLayoutType_createClass(e,t,r){return t&&CrosstabLayoutType_defineProperties(e.prototype,t),r&&CrosstabLayoutType_defineProperties(e,r),e}(CrosstabLayoutType,null,[{key:"SimpleLayout",get:function get(){return"No subtotals and grand totals"}},{key:"BlockedBelow",get:function get(){return"Blocked layout, subtotals below"}},{key:"BlockedAbove",get:function get(){return"Blocked layout, subtotals above"}},{key:"SteppedAbove",get:function get(){return"Stepped layout, subtotals above"}}]),CrosstabLayoutType}();function Expressions_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var kr=function(){function Expressions(){!function Expressions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Expressions)}return function Expressions_createClass(e,t,r){return t&&Expressions_defineProperties(e.prototype,t),r&&Expressions_defineProperties(e,r),e}(Expressions,null,[{key:"Categories",get:function get(){return"categories"}},{key:"Functions",get:function get(){return"Functions"}},{key:"Aggregates",get:function get(){return"Aggregates"}},{key:"Items",get:function get(){return"items"}},{key:"Value",get:function get(){return"value"}}]),Expressions}();function CrosstabWizardDataField_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Tr=function(){function CrosstabWizardDataField(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";!function CrosstabWizardDataField_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CrosstabWizardDataField),this.aggregateFunction=t.replace("()",""),this.Name=e}return function CrosstabWizardDataField_createClass(e,t,r){return t&&CrosstabWizardDataField_defineProperties(e.prototype,t),r&&CrosstabWizardDataField_defineProperties(e,r),e}(CrosstabWizardDataField,[{key:"Expression",get:function get(){return this.AggregateFunction?"".concat(this.AggregateFunction,"(Fields.[").concat(this.Name,"])"):"Fields.[".concat(this.Name,"]")}},{key:"AggregateFunction",get:function get(){return this.aggregateFunction},set:function set(e){this.aggregateFunction=e.replace("()","")}}]),CrosstabWizardDataField}();function CrosstabModel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Dr=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},xr=function(){function CrosstabModel(e,t){!function CrosstabModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CrosstabModel),this.provider=e,this.component=t;var r=this.provider.GetService(I.IDesignerHost).RootComponent;this.DataSources=r.DataSources,this.DataSource=null,this.ColumnGroups=[],this.RowGroups=[],this.DetailValues=[],this.LayoutTypes=[Er.SimpleLayout,Er.BlockedBelow,Er.BlockedAbove,Er.SteppedAbove],this.LayoutType=this.LayoutTypes[0],this.StyleSheets=hr.StyleSheets,this.StyleSheet=this.StyleSheets[0]}return function CrosstabModel_createClass(e,t,r){return t&&CrosstabModel_defineProperties(e.prototype,t),r&&CrosstabModel_defineProperties(e,r),e}(CrosstabModel,[{key:"GetAggregateFunctions",value:function GetAggregateFunctions(){return Dr(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o,i,a;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.ISchemaService),e.next=3,t.GetExpressionBuilderSchema();case 3:return r=e.sent,n=r[kr.Categories],o=n.find(function(e){return e.name===kr.Functions}),i=o[kr.Categories],a=i.find(function(e){return e.name===kr.Aggregates}),e.abrupt("return",a[kr.Items].map(function(e){return e[kr.Value]}));case 9:case"end":return e.stop()}},_callee,this)}))}},{key:"DataFields",get:function get(){var e=[];if(this.DataSource){var t=!0,r=!1,n=void 0;try{for(var o,i=this.DataSource.DataModel.Measures[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.push(new Tr(a.Name))}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e}return[]}},{key:"HasSelection",get:function get(){return 0<this.DetailValues.length}},{key:"HasLayoutType",get:function get(){return this.component.Type===_.Crosstab}}]),CrosstabModel}();function SimpleLayoutEngine_typeof(e){return(SimpleLayoutEngine_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SimpleLayoutEngine_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SimpleLayoutEngine_possibleConstructorReturn(e,t){return!t||"object"!==SimpleLayoutEngine_typeof(t)&&"function"!=typeof t?function SimpleLayoutEngine_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SimpleLayoutEngine_getPrototypeOf(e){return(SimpleLayoutEngine_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SimpleLayoutEngine_setPrototypeOf(e,t){return(SimpleLayoutEngine_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Rr=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Ir=function(){function SimpleLayoutEngine(e,t,r){return function SimpleLayoutEngine_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SimpleLayoutEngine),SimpleLayoutEngine_possibleConstructorReturn(this,SimpleLayoutEngine_getPrototypeOf(SimpleLayoutEngine).call(this,e,t,r))}return function SimpleLayoutEngine_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SimpleLayoutEngine_setPrototypeOf(e,t)}(SimpleLayoutEngine,br),function SimpleLayoutEngine_createClass(e,t,r){return t&&SimpleLayoutEngine_defineProperties(e.prototype,t),r&&SimpleLayoutEngine_defineProperties(e,r),e}(SimpleLayoutEngine,[{key:"CreateTableContent",value:function CreateTableContent(t){return Rr(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.CreateColumnGroups(t.ColumnGroups);case 2:return e.next=4,this.CreateRowGroups(t.RowGroups);case 4:return e.next=6,this.CreateCornerItems(t.Corner);case 6:return e.next=8,this.CreateBodyItems(t.Body);case 8:case"end":return e.stop()}},_callee,this)}))}},{key:"CreateColumnGroups",value:function CreateColumnGroups(l){return Rr(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r,n,o,i,a,s,c,u;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasColumnGroups){e.next=38;break}t=this.StyleSheet.TableGroup,o=!(n=!(r=null)),i=void 0,e.prev=6,a=this.ColumnGroups[Symbol.iterator]();case 8:if(n=(s=a.next()).done){e.next=19;break}return c=s.value,e.next=12,this.CreateBoundGroup(c,t,r);case 12:u=e.sent,l.Add(u),l=u.ChildGroups,r=u;case 16:n=!0,e.next=8;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(6),o=!0,i=e.t0;case 25:e.prev=25,e.prev=26,n||null==a.return||a.return();case 28:if(e.prev=28,o)throw i;e.next=31;break;case 31:return e.finish(28);case 32:return e.finish(25);case 33:if(this.HasManyValues)return e.next=36,this.CreateHeaderGroups(l);e.next=36;break;case 36:e.next=40;break;case 38:return e.next=40,this.CreateHeaderGroups(l);case 40:case"end":return e.stop()}},_callee2,this,[[6,21,25,33],[26,,28,32]])}))}},{key:"CreateHeaderGroups",value:function CreateHeaderGroups(u){return Rr(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r,n,o,i,a,s,c;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasDetailValues){e.next=30;break}t=this.StyleSheet.TableHeader,n=!(r=!0),o=void 0,e.prev=5,i=this.DetailValues[Symbol.iterator]();case 7:if(r=(a=i.next()).done){e.next=16;break}return s=a.value,e.next=11,this.CreateStaticGroup(s.Name,t,u.ParentGroup);case 11:c=e.sent,u.Add(c);case 13:r=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),n=!0,o=e.t0;case 22:e.prev=22,e.prev=23,r||null==i.return||i.return();case 25:if(e.prev=25,n)throw o;e.next=28;break;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}},_callee3,this,[[5,18,22,30],[23,,25,29]])}))}},{key:"CreateRowGroups",value:function CreateRowGroups(l){return Rr(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r,n,o,i,a,s,c,u;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasRowGroups){e.next=33;break}t=this.StyleSheet.TableGroup,o=!(n=!(r=null)),i=void 0,e.prev=6,a=this.RowGroups[Symbol.iterator]();case 8:if(n=(s=a.next()).done){e.next=19;break}return c=s.value,e.next=12,this.CreateBoundGroup(c,t,r);case 12:u=e.sent,l.Add(u),l=u.ChildGroups,r=u;case 16:n=!0,e.next=8;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(6),o=!0,i=e.t0;case 25:e.prev=25,e.prev=26,n||null==a.return||a.return();case 28:if(e.prev=28,o)throw i;e.next=31;break;case 31:return e.finish(28);case 32:return e.finish(25);case 33:this.CreateDetailGroups(l);case 34:case"end":return e.stop()}},_callee4,this,[[6,21,25,33],[26,,28,32]])}))}},{key:"CreateDetailGroups",value:function CreateDetailGroups(e){this.HasDetailValues&&(this.HasColumnGroups?this.HasRowGroups||e.Add(new Le({},this.component,this.provider,e.ParentGroup)):e.Add(this.CreateDetailGroup(e.ParentGroup)))}},{key:"CreateCornerItems",value:function CreateCornerItems(t){return Rr(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasRowGroups){e.next=16;break}if(!this.HasColumnGroups){e.next=13;break}if(this.HasManyValues)return e.next=5,this.CreateEmptyCorner(t);e.next=9;break;case 5:return e.next=7,this.CreateSmallHeader(t);case 7:e.next=11;break;case 9:return e.next=11,this.CreateLargeHeader(t);case 11:e.next=16;break;case 13:if(this.HasDetailValues)return e.next=16,this.CreateSmallHeader(t);e.next=16;break;case 16:case"end":return e.stop()}},_callee5,this)}))}},{key:"CreateEmptyCorner",value:function CreateEmptyCorner(i){return Rr(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var t,r,n,o;return regeneratorRuntime.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.StyleSheet.TableCorner,r=this.ColumnGroups.length,n=this.RowGroups.length,e.next=5,this.CreateStaticTextBox("",t);case 5:o=e.sent,i.SetCellContentExtended(0,0,o,r,n);case 7:case"end":return e.stop()}},_callee6,this)}))}},{key:"CreateLargeHeader",value:function CreateLargeHeader(s){return Rr(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var t,r,n,o,i,a;return regeneratorRuntime.wrap(function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:t=this.StyleSheet.TableHeader,r=this.ColumnGroups.length,n=this.RowGroups.length,o=0;case 4:if(o<n)return i=this.RowGroups[o],e.next=8,this.CreateStaticTextBox(i.Name,t);e.next=13;break;case 8:a=e.sent,s.SetCellContentExtended(0,o,a,r,1);case 10:o++,e.next=4;break;case 13:case"end":return e.stop()}},_callee7,this)}))}},{key:"CreateSmallHeader",value:function CreateSmallHeader(s){return Rr(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){var t,r,n,o,i,a;return regeneratorRuntime.wrap(function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:t=this.StyleSheet.TableHeader,r=this.ColumnGroups.length,n=this.RowGroups.length,o=0;case 4:if(o<n)return i=this.RowGroups[o],e.next=8,this.CreateStaticTextBox(i.Name,t);e.next=13;break;case 8:a=e.sent,s.SetCellContent(r,o,a);case 10:o++,e.next=4;break;case 13:case"end":return e.stop()}},_callee8,this)}))}},{key:"CreateBodyItems",value:function CreateBodyItems(t){return Rr(this,void 0,void 0,regeneratorRuntime.mark(function _callee9(){return regeneratorRuntime.wrap(function _callee9$(e){for(;;)switch(e.prev=e.next){case 0:if(this.HasDetailValues)return this.CreateColumnItems(t),e.next=4,this.CreateDetailItems(t);e.next=4;break;case 4:case"end":return e.stop()}},_callee9,this)}))}},{key:"CreateColumnItems",value:function CreateColumnItems(e){for(var t=this.DetailValues.length,r=0;r<t;r++)e.Columns.Add(this.CreateTableColumn())}},{key:"CreateDetailItems",value:function CreateDetailItems(s){return Rr(this,void 0,void 0,regeneratorRuntime.mark(function _callee10(){var t,r,n,o,i,a;return regeneratorRuntime.wrap(function _callee10$(e){for(;;)switch(e.prev=e.next){case 0:t=this.StyleSheet.TableBody,r=this.DetailValues.length,s.Rows.Add(this.CreateTableRow()),n=0;case 4:if(!(n<r)){e.next=20;break}if(o=this.DetailValues[n],this.HasColumnGroups)return e.next=9,this.CreateTotalTextBox(o,t);e.next=13;break;case 9:i=e.sent,s.SetCellContent(0,n,i),e.next=17;break;case 13:return e.next=15,this.CreateBoundTextBox(o,t);case 15:a=e.sent,s.SetCellContent(0,n,a);case 17:n++,e.next=4;break;case 20:case"end":return e.stop()}},_callee10,this)}))}}]),SimpleLayoutEngine}();function SteppedAboveEngine_typeof(e){return(SteppedAboveEngine_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SteppedAboveEngine_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SteppedAboveEngine_possibleConstructorReturn(e,t){return!t||"object"!==SteppedAboveEngine_typeof(t)&&"function"!=typeof t?function SteppedAboveEngine_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SteppedAboveEngine_getPrototypeOf(e){return(SteppedAboveEngine_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SteppedAboveEngine_setPrototypeOf(e,t){return(SteppedAboveEngine_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Gr=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},jr=function(){function SteppedAboveEngine(e,t,r){return function SteppedAboveEngine_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SteppedAboveEngine),SteppedAboveEngine_possibleConstructorReturn(this,SteppedAboveEngine_getPrototypeOf(SteppedAboveEngine).call(this,e,t,r))}return function SteppedAboveEngine_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SteppedAboveEngine_setPrototypeOf(e,t)}(SteppedAboveEngine,Sr),function SteppedAboveEngine_createClass(e,t,r){return t&&SteppedAboveEngine_defineProperties(e.prototype,t),r&&SteppedAboveEngine_defineProperties(e,r),e}(SteppedAboveEngine,[{key:"CreateRowGroups",value:function CreateRowGroups(d){return Gr(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o,i,a,s,c,u,l,p,f;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasRowGroups){e.next=25;break}for(t=[],o=!(n=!(r=null)),i=void 0,e.prev=6,a=this.RowGroups[Symbol.iterator]();!(n=(s=a.next()).done);n=!0)c=s.value,u=this.CreateLogicGroup(c,r),t.push(u),r=u;e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),o=!0,i=e.t0;case 14:e.prev=14,e.prev=15,n||null==a.return||a.return();case 17:if(e.prev=17,o)throw i;e.next=20;break;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return e.next=24,this.CreateSubTotals(t);case 24:for(l=0,p=t;l<p.length;l++)f=p[l],d.Add(f),d=f.ChildGroups;case 25:return e.next=27,this.CreateDetailGroups(d);case 27:case"end":return e.stop()}},_callee,this,[[6,10,14,22],[15,,17,21]])}))}},{key:"CreateSubTotals",value:function CreateSubTotals(f){return Gr(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r,n,o,i,a,s,c,u,l,p;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:t=this.StyleSheet.SubTotal,r=f.length,n=0;case 3:if(n<r)return o=f[n],i=o.ChildGroups,a=this.RowGroups[n],e.next=9,this.CreateFieldGroup(a,t,o);e.next=19;break;case 9:s=e.sent,c=s.ReportItem,u=c.GetPropertyWrapper(G.Style).GetChildProperty(G.Padding).GetChildProperty(G.Left),l=j.Parse(c.GetPropertyValue(G.Height)),p=l.Multiply(n),u.SetValue(p.ToString()),i.Add(s);case 16:n++,e.next=3;break;case 19:case"end":return e.stop()}},_callee2,this)}))}},{key:"CreateDetailGroups",value:function CreateDetailGroups(n){return Gr(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HasDetailValues){e.next=13;break}if(this.HasColumnGroups){e.next=12;break}if(this.HasRowGroups)return t=this.StyleSheet.TableGroup,e.next=6,this.CreateStaticGroup("",t,n.ParentGroup);e.next=9;break;case 6:r=e.sent,n.Add(r),n=r.ChildGroups;case 9:n.Add(this.CreateDetailGroup(n.ParentGroup)),e.next=13;break;case 12:this.HasRowGroups||n.Add(new Le({},this.component,this.provider,n.ParentGroup));case 13:case"end":return e.stop()}},_callee3,this)}))}},{key:"CreateRowTotals",value:function CreateRowTotals(n){return Gr(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:if(this.HasRowGroups&&this.HasDetailValues)return t=this.StyleSheet.GrandTotal,e.next=4,this.CreateStaticGroup(this.str.Total,t,n.ParentGroup);e.next=6;break;case 4:r=e.sent,n.Add(r);case 6:case"end":return e.stop()}},_callee4,this)}))}},{key:"CreateEmptyCorner",value:function CreateEmptyCorner(o){return Gr(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var t,r,n;return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.StyleSheet.TableCorner,r=this.ColumnGroups.length,e.next=4,this.CreateStaticTextBox("",t);case 4:n=e.sent,o.SetCellContentExtended(0,0,n,r,1);case 6:case"end":return e.stop()}},_callee5,this)}))}},{key:"CreateLargeHeader",value:function CreateLargeHeader(a){return Gr(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var t,r,n,o,i;return regeneratorRuntime.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.StyleSheet.TableHeader,r=this.ColumnGroups.length,n=this.RowGroups.length,o=this.RowGroups[n-1],e.next=6,this.CreateStaticTextBox(o.Name,t);case 6:i=e.sent,a.SetCellContentExtended(0,0,i,r,1);case 8:case"end":return e.stop()}},_callee6,this)}))}},{key:"CreateSmallHeader",value:function CreateSmallHeader(a){return Gr(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var t,r,n,o,i;return regeneratorRuntime.wrap(function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.StyleSheet.TableHeader,r=this.ColumnGroups.length,n=this.RowGroups.length,o=this.RowGroups[n-1],e.next=6,this.CreateStaticTextBox(o.Name,t);case 6:i=e.sent,a.SetCellContent(r,0,i);case 8:case"end":return e.stop()}},_callee7,this)}))}},{key:"CreateBodyItems",value:function CreateBodyItems(t){return Gr(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:if(this.HasDetailValues)return this.CreateColumnItems(t),e.next=4,this.CreateTotalItems(t);e.next=8;break;case 4:return e.next=6,this.CreateDetailItems(t);case 6:return e.next=8,this.CreateGrandItems(t);case 8:case"end":return e.stop()}},_callee8,this)}))}}]),SteppedAboveEngine}();function CrosstabWizard_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Br=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Mr=function(){function CrosstabWizard(e,t){!function CrosstabWizard_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CrosstabWizard),this.provider=e,this.table=t,this.designer=this.table.Designer;var r=this.provider.GetService(I.PropertiesArea);this.$parent=r.ParentVisualElement,this.str=this.provider.GetService(I.WebReportDesignerStrings),this.webDesignerEventsElement=this.provider.GetService(I.WebDesignerEventsElement),this.isOpen=!1,this.isInitialized=!1,this.contextMenu=null,this.model=new xr(e,t)}return function CrosstabWizard_createClass(e,t,r){return t&&CrosstabWizard_defineProperties(e.prototype,t),r&&CrosstabWizard_defineProperties(e,r),e}(CrosstabWizard,[{key:"Open",value:function Open(){this.isInitialized||this.init(),this.isOpen||(this.$visualElement.addClass("-open"),this.isOpen=!0)}},{key:"animationEnd",value:function animationEnd(){return Br(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var r=this;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t){r.$visualElement.on("transitionend",function(e){$(e.target).hasClass("-component-wizard")&&t()})}));case 1:case"end":return e.stop()}},_callee)}))}},{key:"Save",value:function Save(e){var a=!(0<arguments.length&&void 0!==e)||e;return Br(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r,n,o,i=this;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isOpen){e.next=31;break}if(this.$visualElement.removeClass("-open"),this.isOpen=!1,this.removeEventListeners(),!this.model.HasSelection){e.next=31;break}if(t=this.provider.GetService(I.IDesignerHost),r=t.CreateTransaction("Crosstab wizard create"),e.prev=7,a)return e.next=11,this.animationEnd().then(function(e){return Br(i,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:this.Close(!1);case 1:case"end":return e.stop()}},_callee2,this)}))});e.next=13;break;case 11:e.next=14;break;case 13:this.Close(!1);case 14:return n=this.CreateLayoutEngine(),e.next=17,n.CreateTableLayout();case 17:this.designer.TableLayout.PerformLayout(),o=this.table.Parent.GetProperty(G.Items),this.table.Parent.RaiseComponentChanged(o,null,null),this.provider.GetService(I.SelectionService).SetSelectedComponents([this.table]),r.Commit(),e.next=31;break;case 25:e.prev=25,e.t0=e.catch(7),this.provider.GetService(I.Notifications).Error(e.t0.message,e.t0),r.Rollback(),this.Close();case 31:case"end":return e.stop()}},_callee3,this,[[7,25]])}))}},{key:"Close",value:function Close(e){var r=!(0<arguments.length&&void 0!==e)||e;return Br(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t=this;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:this.isInitialized&&(r&&this.table.Delete(),setTimeout(function(){t.contextMenu&&(t.contextMenu.Dispose(),t.contextMenu=null),kendo.destroy(t.$visualElement),t.removeEvents(),t.removeEventListeners(),t.$visualElement.remove(),t.isInitialized=!1},200));case 1:case"end":return e.stop()}},_callee4,this)}))}},{key:"CreateLayoutEngine",value:function CreateLayoutEngine(){switch(this.model.LayoutType){case Er.SimpleLayout:return new Ir(this.provider,this.table,this.model);case Er.BlockedBelow:return new Or(this.provider,this.table,this.model);case Er.BlockedAbove:return new Pr(this.provider,this.table,this.model);case Er.SteppedAbove:return new jr(this.provider,this.table,this.model);default:throw new Error("Layout type '".concat(this.model.LayoutType,"' is not supported."))}}},{key:"init",value:function init(){this.$parent.append(this.template),this.$visualElement=this.$parent.find(".twd-slide-panel.-crosstab");var e=this.$visualElement.find(".twd-expander").kendoPanelBar().data("kendoPanelBar");e.expand($('[data-index^="group"]'),!1),e.select('[data-index="group-snapping"]'),this.initControls(),this.initEvents(),this.initEventListeners(),this.isInitialized=!0}},{key:"initControls",value:function initControls(){var e=this,t=this.categories;for(var r in t){var n=t[r];for(var o in n.items){var i=n.items[o];i.control&&i.visible&&this[i.control](o)}}this.createButton=this.$visualElement.find(".-create").kendoButton({enable:!1,click:function click(){e.Save()}}).data("kendoButton"),this.$visualElement.find(".-cancel").kendoButton({click:function click(){e.Close()}}),this.contextMenu=new yr(this.$visualElement.find(".context-menu"),this.provider,".editor__edit",this.model),this.contextMenu.Init()}},{key:"initDataSource",value:function initDataSource(){var r=this,e=this.model.DataSources,t=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;t.push({Name:c.Name})}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}this.$visualElement.find("#".concat(ot.Data,"_").concat(ot.DataSource," input")).kendoDropDownList({dataSource:t,dataTextField:"Name",value:this.model.DataSource?this.model.DataSource.Name:null,optionLabel:{Name:this.str.NoDataSourceTitle},popup:{appendTo:$("body")},change:function change(e){var t=e.sender.selectedIndex;r.model.DataSource=0==t?null:r.model.DataSources[t-1],r.initDataFields(),r.updateFieldsCollections()}})}},{key:"updateFieldsCollections",value:function updateFieldsCollections(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.fieldsCollectionsName[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;this.model[i.charAt(0).toUpperCase()+i.slice(1)].length&&(this.model[i.charAt(0).toUpperCase()+i.slice(1)].splice(0),this.initDroppableList(i))}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}this.allowCreate()}},{key:"refreshFieldsCollections",value:function refreshFieldsCollections(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.fieldsCollectionsName[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;this.model[i.charAt(0).toUpperCase()+i.slice(1)].length&&this.initDroppableList(i)}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}this.allowCreate()}},{key:"initDataFields",value:function initDataFields(){var e=this.$visualElement.find("#".concat(ot.Data,"_").concat(ot.DataSourceFields," .editor__list")),t=e.data("kendoListView"),r=this.model.DataFields,n=[],o=!0,i=!1,a=void 0;try{for(var s,c=r[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;n.push({Name:u.Name})}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}r.length?t?t.setDataSource(new kendo.data.DataSource({data:n})):(t=e.kendoListView({dataSource:n,scrollable:!0,template:kendo.template('<div class="k-widget editor__list-item"><span>#: Name #</span></div>')}).data("kendoListView")).element.kendoDraggable({filter:".editor__list-item",hint:function hint(e){return e.clone().addClass("twd-drag -designer-wizard").width(e.innerWidth())},container:this.$parent}):t&&(t.destroy(),t.element.remove(),e.empty())}},{key:"initStyle",value:function initStyle(){var t=this,e=this.model.StyleSheets,r='<div class="twd-color-palet">\n                    # for (var i = 0; i < ColorScheme.length; i++) { #\n                        <span style="background-color:#: ColorScheme[i] #;" class="color-palet__item"></span>\n                    # } #\n                    <span>#: DisplayName #</span></div>';this.$visualElement.find("#".concat(ot.Appearance,"_").concat(ot.Style," input")).kendoDropDownList({dataSource:e,template:kendo.template(r),popup:{appendTo:$("body")},valueTemplate:kendo.template(r),value:this.model.StyleSheet,change:function change(e){t.model.StyleSheet=t.model.StyleSheets[e.sender.selectedIndex]}})}},{key:"initDroppableList",value:function initDroppableList(n){var o=this,i=this.$visualElement.find("#".concat(ot.Fields,"_").concat(n," .editor__list")),a=this.getTargetCollection(n),e=[],t=!0,r=!1,s=void 0;try{for(var c,u=a[Symbol.iterator]();!(t=(c=u.next()).done);t=!0){var l=c.value,p={Name:l.Name};ot.DetailValues===n&&(p.Function=l.AggregateFunction),e.push(p)}}catch(e){r=!0,s=e}finally{try{t||null==u.return||u.return()}finally{if(r)throw s}}var f=new kendo.data.DataSource({data:e});this[n]?(this[n].setDataSource(f=new kendo.data.DataSource({data:e})),this.contextMenu.Update()):(this[n]=i.kendoListView({dataSource:f,scrollable:!0,navigatable:!0,selectable:!0,template:kendo.template(this.getDroppableListTemplate(n)),dataBound:function dataBound(e){e.sender.element.toggleClass("-empty",0===a.length)}}).data("kendoListView"),this[n].element.attr("data-content",this.str.DragAndDropPlaceholder),this.$visualElement.find("#".concat(ot.Fields,"_").concat(n)).kendoDropTargetArea({filter:".editor__list",drop:function drop(e){var t=e.draggable.element.find(".editor__list-item").index(e.draggable.currentTarget),r=o.model.DataFields[t];a.push(new Tr(r.Name)),e.dropTarget.removeClass("-droping"),o.allowCreate(),o.initDroppableList(n)},dragenter:function dragenter(e){e.dropTarget.addClass("-droping")},dragleave:function dragleave(e){e.dropTarget.removeClass("-droping")}}),i.on("keydown",function(e){e.stopImmediatePropagation();var t=o[n].select();if(46==e.keyCode&&t.length&&a.length){var r=i.find(".editor__list-item").index(t);o.removeCollectionItem(n,r)}}))}},{key:"getDroppableListTemplate",value:function getDroppableListTemplate(e){var t='<div class="k-widget editor__list-item"><span>#: Name #</span><span class="editor__edit">\n                        <span class="k-icon k-i-more-vertical"></span>\n                    </span></div>';return ot.DetailValues===e&&(t='<div class="k-widget editor__list-item">\n                        #if(Function.length){#\n                            <span>#:Function#(#: Name #)</span>\n                        #}else{#\n                            <span>#: Name #</span>\n                        #}#\n                        <span class="editor__edit">\n                            <span class="k-icon k-i-more-vertical"></span>\n                        </span>\n                    </div>'),t}},{key:"removeCollectionItem",value:function removeCollectionItem(e,t){this.getTargetCollection(e).splice(t,1),this.initDroppableList(e)}},{key:"removeItem",value:function removeItem(e){this.removeCollectionItem(e.detail.groupName,e.detail.selectedIndex),this.allowCreate()}},{key:"getField",value:function getField(e){var t=this.model.DataFields,r=!0,n=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;if(s.Name===e)return s}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return null}},{key:"getTargetCollection",value:function getTargetCollection(e){var t;switch(e){case ot.ColumnGroups:t=this.model.ColumnGroups;break;case ot.RowGroups:t=this.model.RowGroups;break;case ot.DetailValues:t=this.model.DetailValues}return t}},{key:"initEvents",value:function initEvents(){var r=this;this.$visualElement.on("change","input[type='radio']",function(e){var t=$(e.currentTarget).val();r.model.LayoutType=t.toString()})}},{key:"removeEvents",value:function removeEvents(){this.$visualElement.off("change")}},{key:"closeCrossTabWizard",value:function closeCrossTabWizard(){this.Close()}},{key:"initEventListeners",value:function initEventListeners(){this.closeCrossTabWizardBound=this.closeCrossTabWizard.bind(this),this.removeItemBound=this.removeItem.bind(this),this.refreshFieldsCollectionsBound=this.refreshFieldsCollections.bind(this),this.webDesignerEventsElement.addEventListener(y.SelectionChanged,this.closeCrossTabWizardBound,!1),this.webDesignerEventsElement.addEventListener(y.ActiveDesignSurfaceChanged,this.closeCrossTabWizardBound),this.webDesignerEventsElement.addEventListener(y.CrosstabWizardRemoveItem,this.removeItemBound,!1),this.webDesignerEventsElement.addEventListener(y.CrosstabWizardUpdateUI,this.refreshFieldsCollectionsBound,!1)}},{key:"removeEventListeners",value:function removeEventListeners(){this.webDesignerEventsElement.removeEventListener(y.SelectionChanged,this.closeCrossTabWizardBound,!1),this.webDesignerEventsElement.removeEventListener(y.ActiveDesignSurfaceChanged,this.closeCrossTabWizardBound,!1),this.webDesignerEventsElement.removeEventListener(y.CrosstabWizardRemoveItem,this.removeItemBound,!1),this.webDesignerEventsElement.removeEventListener(y.CrosstabWizardUpdateUI,this.refreshFieldsCollectionsBound,!1)}},{key:"allowCreate",value:function allowCreate(){this.createButton.enable(this.model.HasSelection)}},{key:"dropdownEditorTemplate",get:function get(){return'<input class="editor__dropdown" type="text" />'}},{key:"listTemplate",get:function get(){return'<div class="editor__list"></div>'}},{key:"layoutListTemplate",get:function get(){var e=this.model.LayoutTypes,t=this.model.LayoutType,r='<ul class="editor__option-list">',n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;r+='<li class="twd-editor">\n                    <input type="radio" name="layout" id="'.concat(c,'" value="').concat(c,'" class="k-radio" ').concat(c===t?'checked="checked"':"",'>\n                    <label class="k-radio-label -small-text" for="').concat(c,'">').concat(c,"</label>\n            </li>")}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r+="</ul>"}},{key:"categories",get:function get(){return{data:{title:this.str.CrosstabDataCategory,items:{dataSource:{title:this.str.DataSourceTitle,template:this.dropdownEditorTemplate,control:"initDataSource",class:"-bottom-separator",visible:!0},dataSourceFields:{title:this.str.DataSourceFieldsTitle,template:this.listTemplate,control:"initDataFields",class:"-top-label -list -draggable-list",visible:!0}}},fields:{title:this.str.CrosstabFieldsCategory,items:{columnGroups:{title:this.str.ColumnGroupsTitle,template:this.listTemplate,control:"initDroppableList",class:"-top-label -list -draggable-list -sortable-list",visible:this.model.HasLayoutType},rowGroups:{title:this.str.RowGroupsTitle,template:this.listTemplate,control:"initDroppableList",class:"-top-label -list -draggable-list -sortable-list",visible:this.model.HasLayoutType},detailValues:{title:this.str.DetailValuesTitle,template:this.listTemplate,control:"initDroppableList",class:"-top-label -list -draggable-list -sortable-list",visible:!0}}},appearance:{title:this.str.CrosstabAppearanceCategory,items:{layout:{title:this.str.LayoutTitle,template:this.layoutListTemplate,class:"-top-label",visible:this.model.HasLayoutType},style:{title:this.str.Style,template:this.dropdownEditorTemplate,control:"initStyle",class:"-top-label",visible:!0}}}}}},{key:"template",get:function get(){return'<div class="twd-slide-panel -component-wizard -crosstab">\n                    <div class="twd-editor -header">\n                        <h3 title="'.concat(this.str.CrosstabWizardHeader,'">').concat(this.str.CrosstabWizardHeader,"</h3>\n                    </div>\n                    <div class='slide-panel__content k-panelbar'>\n                        <ul class=\"twd-expander -no-text-transform\">\n                            ").concat(this.categoryTemplate,'\n                        </ul>\n                    </div>\n                    <div class="slide-panel__action-bar k-widget">\n                        <button class="slide-panel__button -create k-primary">').concat(this.str.CreateButton,'</button>\n                        <button class="slide-panel__button m-l-10 -cancel">').concat(this.str.CancelButton,'</button>\n                    </div>\n                    <div class="context-menu"></div>\n                </div>')}},{key:"fieldsCollectionsName",get:function get(){return[ot.ColumnGroups,ot.RowGroups,ot.DetailValues]}},{key:"categoryTemplate",get:function get(){var e=this.categories,t="";for(var r in e){var n="",o=e[r];for(var i in o.items){var a=o.items[i];a.visible&&(n+='<div id="'.concat(r,"_").concat(i,'" data-group="').concat(i,'" class="twd-editor ').concat(a.class,'">\n                        <label class="editor__content">\n                            <span class="editor__name" title="').concat(a.title,'">\n                                ').concat(a.title,"\n                            </span>\n                            ").concat(a.template,"\n                        </label>\n                </div>"))}t+='<li class="expander__items k-group" data-index="group-'.concat(r,'" >\n                    <span class="expander__header">').concat(o.title,'</span>\n                    <div class="twd-editor -expandable">\n                        ').concat(n,"\n                    </div>\n                </li>")}return t}},{key:"VisualElement",get:function get(){return this.$visualElement}},{key:"IsOpen",get:function get(){return this.isOpen}},{key:"Model",get:function get(){return this.model}}]),CrosstabWizard}();function NewItemCommandHandler_typeof(e){return(NewItemCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NewItemCommandHandler_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NewItemCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NewItemCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==NewItemCommandHandler_typeof(t)&&"function"!=typeof t?function NewItemCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function NewItemCommandHandler_getPrototypeOf(e){return(NewItemCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NewItemCommandHandler_setPrototypeOf(e,t){return(NewItemCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ar=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Nr=function(){function NewItemCommandHandler(e){var t,r;return function NewItemCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NewItemCommandHandler),(r=NewItemCommandHandler_possibleConstructorReturn(this,NewItemCommandHandler_getPrototypeOf(NewItemCommandHandler).call(this,g.ItemNew))).provider=e,r.Status.Available=!0,r.Status.Enabled=!0,r.wizardsMap=(NewItemCommandHandler_defineProperty(t={},_.Crosstab,Mr),NewItemCommandHandler_defineProperty(t,_.Table,Mr),t),r.wizards=new Map,r}return function NewItemCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NewItemCommandHandler_setPrototypeOf(e,t)}(NewItemCommandHandler,he),function NewItemCommandHandler_createClass(e,t,r){return t&&NewItemCommandHandler_defineProperties(e.prototype,t),r&&NewItemCommandHandler_defineProperties(e,r),e}(NewItemCommandHandler,[{key:"Execute",value:function Execute(f){return Ar(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o,i,a,s,c,u,l,p;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.provider.GetService(I.IComponentChangeService),r=this.provider.GetService(I.SelectionService),n=this.provider.GetService(I.IDesignSurfaceManager),o=this.provider.GetService(I.IDesignerHost),i=null,a=!1,s=f.split(nt.Delimiter),i=1<s.length&&s[1]===nt.Suffix?(a=!0,s[0]):f,c=o.CreateTransaction("New '".concat(i,"' item")),e.prev=9,u=r.PrimarySelection){e.next=13;break}throw new Error("No target container is selected.");case 13:if(null===(l=ze.GetContainerForNewItem(u,i)))throw new Error("Cannot add new '".concat(i,"' in '").concat(u.Name,"'."));e.next=16;break;case 16:if(p=l.GetProperty(G.Items),t.OnComponentChanging(l,p),a)return e.next=21,this.executeWizard(i,n,l,p,t,r);e.next=23;break;case 21:e.next=25;break;case 23:return e.next=25,this.executeComponent(i,n,l,p,r);case 25:c.Commit(),e.next=33;break;case 28:e.prev=28,e.t0=e.catch(9),this.provider.GetService(I.Notifications).Error(e.t0.message,e.t0),c.Rollback();case 33:case"end":return e.stop()}},_callee,this,[[9,28]])}))}},{key:"executeComponent",value:function executeComponent(r,n,o,i,a){return Ar(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.ActiveDesignSurface.CreateNewComponent(r,null,o);case 2:return t=e.sent,o instanceof rt&&this.nestInTableCell(o,t),o.RaiseComponentChanged(i,null,null),a.SetSelectedComponents([t]),e.abrupt("return",t);case 7:case"end":return e.stop()}},_callee2,this)}))}},{key:"executeWizard",value:function executeWizard(n,o,i,a,e,s){return Ar(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(n===_.SqlDataSource)return e.next=3,this.executeComponent(n,o,i,a,s);e.next=7;break;case 3:t=e.sent,this.openDataSourceWizard(t),e.next=11;break;case 7:return e.next=9,this.openWizard(n,o,i);case 9:r=e.sent,i instanceof rt&&this.nestInTableCell(i,r);case 11:case"end":return e.stop()}},_callee3,this)}))}},{key:"openDataSourceWizard",value:function openDataSourceWizard(e){var t=this.wizards.get(nt.SqlDataSourceWizard);t||(t=new rr($("body"),this.provider),this.wizards.set(nt.SqlDataSourceWizard,t)),t.OpenWizard(e.PropertyWrappers,e.Name)}},{key:"openWizard",value:function openWizard(i,a,s){return Ar(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r,n,o;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.ISchemaService),e.next=3,t.GetDefaultPropertyStore("".concat(i).concat(nt.Suffix));case 3:return r=e.sent,e.next=6,a.ActiveDesignSurface.CreateNewComponent(i,r,s);case 6:return n=e.sent,o=this.wizardsMap[i],this.wizards.set("".concat(i).concat(nt.Delimiter).concat(nt.Suffix),new o(this.provider,n)),this.wizards.get("".concat(i).concat(nt.Delimiter).concat(nt.Suffix)).Open(),e.abrupt("return",n);case 11:case"end":return e.stop()}},_callee4,this)}))}},{key:"nestInTableCell",value:function nestInTableCell(e,t){for(var r=e.Designer.TableLayout,n=0,o=Array.from(r.GetSelectedCells());n<o.length;n++){var i=o[n];return void r.ReplaceCellContentExtended(i,t,null,null)}}},{key:"Wizard",get:function get(){return this.wizards}}]),NewItemCommandHandler}();function OpenDocumentCommandHandler_typeof(e){return(OpenDocumentCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OpenDocumentCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OpenDocumentCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==OpenDocumentCommandHandler_typeof(t)&&"function"!=typeof t?function OpenDocumentCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function OpenDocumentCommandHandler_getPrototypeOf(e){return(OpenDocumentCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function OpenDocumentCommandHandler_setPrototypeOf(e,t){return(OpenDocumentCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Hr=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Lr=function(){function OpenDocumentCommandHandler(e){var t;return function OpenDocumentCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OpenDocumentCommandHandler),(t=OpenDocumentCommandHandler_possibleConstructorReturn(this,OpenDocumentCommandHandler_getPrototypeOf(OpenDocumentCommandHandler).call(this,g.DocumentOpen))).provider=e,t.Status.Available=!0,t.Status.Enabled=!0,t}return function OpenDocumentCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OpenDocumentCommandHandler_setPrototypeOf(e,t)}(OpenDocumentCommandHandler,he),function OpenDocumentCommandHandler_createClass(e,t,r){return t&&OpenDocumentCommandHandler_defineProperties(e.prototype,t),r&&OpenDocumentCommandHandler_defineProperties(e,r),e}(OpenDocumentCommandHandler,[{key:"Execute",value:function Execute(o){return Hr(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=12;break}if(t=o,r=this.provider.GetService(I.IDesignSurfaceManager),n=r.CreateDesignSurface(t))return e.next=7,n.OpenDocument();e.next=9;break;case 7:e.next=10;break;case 9:r.SwitchDesignSurface(t);case 10:this.provider.GetService(I.TopMenuArea).Update();case 12:case"end":return e.stop()}},_callee,this)}))}}]),OpenDocumentCommandHandler}();function PointF_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Vr=function(){function PointF(e,t){!function PointF_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PointF),this.X=e,this.Y=t}return function PointF_createClass(e,t,r){return t&&PointF_defineProperties(e.prototype,t),r&&PointF_defineProperties(e,r),e}(PointF,[{key:"Offset",value:function Offset(e,t){this.X=this.X+e,this.Y=this.Y+t}},{key:"Equals",value:function Equals(e){return this.X===e.X&&this.Y===e.Y}},{key:"IsEmpty",get:function get(){return 0===this.X&&0===this.Y}}],[{key:"Parse",value:function Parse(e,t){return new PointF(e?parseFloat(e):0,t?parseFloat(t):0)}},{key:"Empty",get:function get(){return new PointF(0,0)}}]),PointF}();function PointU_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Wr=function(){function PointU(e,t){!function PointU_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PointU),this.x=e,this.y=t}return function PointU_createClass(e,t,r){return t&&PointU_defineProperties(e.prototype,t),r&&PointU_defineProperties(e,r),e}(PointU,[{key:"Offset",value:function Offset(e,t){this.x=this.x.Add(e),this.y=this.y.Add(t)}},{key:"ToPixels",value:function ToPixels(){return new Vr(this.X.ToPixels(),this.Y.ToPixels())}},{key:"Equals",value:function Equals(e){return this.X.Equals(e.X)&&this.Y.Equals(e.Y)}},{key:"X",get:function get(){return this.x}},{key:"Y",get:function get(){return this.y}}],[{key:"Parse",value:function Parse(e,t){return new PointU(e?j.Parse(e):new j(0),t?j.Parse(t):new j(0))}},{key:"Empty",get:function get(){return new PointU(new j(0),new j(0))}}]),PointU}();function RectangleF_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var zr=function(){function RectangleF(e,t){!function RectangleF_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RectangleF),this.location=e,this.size=t}return function RectangleF_createClass(e,t,r){return t&&RectangleF_defineProperties(e.prototype,t),r&&RectangleF_defineProperties(e,r),e}(RectangleF,[{key:"Offset",value:function Offset(e,t){this.Location.Offset(e,t)}},{key:"IntersectsWith",value:function IntersectsWith(e){return e.X+j.Epsilon<this.Right&&this.Left+j.Epsilon<e.Right&&e.Y+j.Epsilon<this.Bottom&&this.Y+j.Epsilon<e.Bottom}},{key:"Equals",value:function Equals(e){return this.Location.Equals(e.Location)&&this.Size.Equals(e.Size)}},{key:"X",get:function get(){return this.location.X},set:function set(e){this.location.X=e}},{key:"Y",get:function get(){return this.location.Y},set:function set(e){this.location.Y=e}},{key:"Width",get:function get(){return this.size.Width},set:function set(e){this.size.Width=e}},{key:"Height",get:function get(){return this.size.Height},set:function set(e){this.size.Height=e}},{key:"Location",get:function get(){return this.location},set:function set(e){this.location=e}},{key:"Size",get:function get(){return this.size},set:function set(e){this.size=e}},{key:"Left",get:function get(){return this.location.X},set:function set(e){this.location.X=e}},{key:"Top",get:function get(){return this.location.Y},set:function set(e){this.location.Y=e}},{key:"Right",get:function get(){return this.location.X+this.size.Width}},{key:"Bottom",get:function get(){return this.location.Y+this.size.Height}},{key:"IsEmpty",get:function get(){return 0===this.Width||0===this.Height}}],[{key:"Empty",get:function get(){return new RectangleF(Vr.Empty,B.Empty)}}]),RectangleF}();function PasteCommandHandler_typeof(e){return(PasteCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PasteCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PasteCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==PasteCommandHandler_typeof(t)&&"function"!=typeof t?function PasteCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PasteCommandHandler_get(e,t,r){return(PasteCommandHandler_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function PasteCommandHandler_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PasteCommandHandler_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function PasteCommandHandler_getPrototypeOf(e){return(PasteCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PasteCommandHandler_setPrototypeOf(e,t){return(PasteCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Fr=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Ur=function(){function PasteCommandHandler(e){return function PasteCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PasteCommandHandler),PasteCommandHandler_possibleConstructorReturn(this,PasteCommandHandler_getPrototypeOf(PasteCommandHandler).call(this,e,g.CommandPaste))}return function PasteCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PasteCommandHandler_setPrototypeOf(e,t)}(PasteCommandHandler,ge),function PasteCommandHandler_createClass(e,t,r){return t&&PasteCommandHandler_defineProperties(e.prototype,t),r&&PasteCommandHandler_defineProperties(e,r),e}(PasteCommandHandler,[{key:"Execute",value:function Execute(){return Fr(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o,i,a,s,c;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.Provider.GetService(I.SelectionService),r=t.PrimarySelection,n=this.Provider.GetService(I.Notifications),r){e.next=5;break}return e.abrupt("return");case 5:return o=this.Provider.GetService(I.ClipboardService),e.next=8,o.GetPropertyStores();case 8:if(0===(i=e.sent).length)return e.abrupt("return");e.next=11;break;case 11:if(null===(a=ze.GetContainer(r,i)))return n.Error("Could not find a valid target container for the pasted items."),e.abrupt("return");e.next=15;break;case 15:return this.host=this.Provider.GetService(I.IDesignerHost),s=[],c=this.host.CreateTransaction("Paste into '".concat(a.Name,"'")),e.prev=18,e.next=21,this.pasteComponents(a,r,i);case 21:s=e.sent,c.Commit(),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(18),c.Rollback(),n.Error(e.t0.message,e.t0);case 29:0<s.length&&this.Provider.GetService(I.SelectionService).SetSelectedComponents(s);case 30:case"end":return e.stop()}},_callee,this,[[18,25]])}))}},{key:"pasteComponents",value:function pasteComponents(r,n,o){return Fr(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(this.validatePasteItems(r,o),this.adjustPastingItems(r,n,o),t=[],r instanceof rt)return e.next=6,this.pasteInTable(r,o);e.next=9;break;case 6:t=e.sent,e.next=12;break;case 9:return e.next=11,this.pasteInReportItem(r,o);case 11:t=e.sent;case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}},_callee2,this)}))}},{key:"validatePasteItems",value:function validatePasteItems(e,t){var r=!0,n=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value[G.NetType];if(!e.CanParent(s))throw new Error("Cannot paste a '".concat(s,"' into a '").concat(e.Type,"'."))}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}},{key:"adjustPastingItems",value:function adjustPastingItems(e,t,r){var n=e.Designer.GetBounds(!0),o=n.Width,i=n.Height;if(0!==o&&0!==i){var a=Wr.Empty;if(e!==t){a=Wr.Parse(t.PropertyStore[G.Left],t.PropertyStore[G.Top]);var s=this.Provider.GetService(I.IDesignSurfaceManager).ActiveDesignSurface.BehaviorService.SnapGridSize;a.Offset(s,s)}var c=new M(new j(o),new j(i));this.updatePastePositions(r,c,a)}}},{key:"updatePastePositions",value:function updatePastePositions(e,t,r){var n=this.Provider.GetService(I.IInstanceFactoryService),o=Vr.Empty,i=Vr.Empty,a=[],s=!0,c=!1,u=void 0;try{for(var l,p=e[Symbol.iterator]();!(s=(l=p.next()).done);s=!0){var f=l.value;n.GetInstanceModel(f[G.NetType])instanceof A&&a.push(f)}}catch(e){c=!0,u=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw u}}var d=!0,y=!1,h=void 0;try{for(var m,g=e[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var v=m.value,b=Wr.Parse(v[G.Left],v[G.Top]).ToPixels(),_=M.Parse(v[G.Width],v[G.Height]).ToPixels(),S=new zr(b,_);o.IsEmpty?o=new Vr(S.Left,S.Top):(o.X>S.Left&&(o.X=S.Left),o.Y>S.Top&&(o.Y=S.Top)),i.IsEmpty?i=new Vr(S.Right,S.Bottom):(i.X<S.Right&&(i.X=S.Right),i.Y<S.Bottom&&(i.Y=S.Bottom))}}catch(e){y=!0,h=e}finally{try{d||null==g.return||g.return()}finally{if(y)throw h}}var C=new zr(new Vr(o.X,o.Y),new B(i.X-o.X,i.Y-o.Y)),P=Vr.Empty,w=r.ToPixels();if(w.IsEmpty){var O=t.ToPixels();P=new Vr((O.Width-C.Width)/2-o.X,(O.Height-C.Height)/2-o.Y)}else{var E=new zr(w,C.Size);E=this.getItemStackLocation(E,t.ToPixels()),P=new Vr(E.X-o.X,E.Y-o.Y)}for(var k=0,T=a;k<T.length;k++){var D=T[k],x=Wr.Parse(D[G.Left],D[G.Top]),R=x.ToPixels();R.Offset(P.X,P.Y),D[G.Left]=j.FromPixels(R.X,x.X.Type).ToString(),D[G.Top]=j.FromPixels(R.Y,x.Y.Type).ToString()}}},{key:"getItemStackLocation",value:function getItemStackLocation(e,t){return(e.Bottom>=t.Height||e.Right>=t.Width)&&(e.Location=Vr.Empty),e}},{key:"pasteInTable",value:function pasteInTable(l,p){return Fr(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r,n,o,i,a,s,c,u;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(1!==p.length)throw new Error("Paste in Table item is only supported for a single item.");e.next=2;break;case 2:return t=this.Provider.GetService(I.IDesignSurfaceManager).ActiveDesignSurface,r=this.Provider.GetService(I.IComponentChangeService),n=l.GetProperty(G.Items),r.OnComponentChanging(l,n),e.next=8,this.createComponent(t,l,p[0]);case 8:o=e.sent,l.RaiseComponentChanged(n,null,null),i=l.Designer,a=i.TableLayout,s=0,c=Array.from(a.GetSelectedCells());case 13:if(s<c.length)return u=c[s],a.ReplaceCellContentExtended(u,o,null,null),e.abrupt("break",20);e.next=20;break;case 17:s++,e.next=13;break;case 20:return e.abrupt("return",[o]);case 21:case"end":return e.stop()}},_callee3,this)}))}},{key:"pasteInReportItem",value:function pasteInReportItem(f,d){return Fr(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r,n,o,i,a,s,c,u,l,p;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=this.Provider.GetService(I.IDesignSurfaceManager).ActiveDesignSurface,n=this.Provider.GetService(I.IComponentChangeService),o=f.GetProperty(G.Items),a=!(i=!0),s=void 0,e.prev=7,c=d[Symbol.iterator]();case 9:if(i=(u=c.next()).done){e.next=20;break}return l=u.value,n.OnComponentChanging(f,o),e.next=14,this.createComponent(r,f,l);case 14:p=e.sent,f.RaiseComponentChanged(o,null,null),t.push(p);case 17:i=!0,e.next=9;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(7),a=!0,s=e.t0;case 26:e.prev=26,e.prev=27,i||null==c.return||c.return();case 29:if(e.prev=29,a)throw s;e.next=32;break;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return e.abrupt("return",t);case 35:case"end":return e.stop()}},_callee4,this,[[7,22,26,34],[27,,29,33]])}))}},{key:"createComponent",value:function createComponent(i,a,s){return Fr(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var t,r,n,o;return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Provider.GetService(I.NamingService),s[G.Name]=t.CreateName(s[G.NetType]),(r=s[G.Items])?s[G.Items]=[]:r=[],e.next=6,i.CreateNewComponent(s[G.NetType],s,a);case 6:if(n=e.sent){e.next=9;break}throw new Error("Could not create new '".concat(s[G.NetType],"'."));case 9:if(r.length)return o=r.shift(),e.next=13,this.createComponent(i,n,o);e.next=15;break;case 13:e.next=9;break;case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}},_callee5,this)}))}},{key:"UpdateStatus",value:function UpdateStatus(e){PasteCommandHandler_get(PasteCommandHandler_getPrototypeOf(PasteCommandHandler.prototype),"UpdateStatus",this).call(this,e),e.Enabled&&this.updateCommandStatusOnClipboard(e)}},{key:"updateCommandStatusOnClipboard",value:function updateCommandStatusOnClipboard(r){return Fr(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var t=this;return regeneratorRuntime.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:this.Provider.GetService(I.ClipboardService).GetPropertyStores().then(function(e){r.Enabled=0<e.length,t.Provider.GetService(I.UiCommandManager).FindCommand(g.CommandPaste).UpdateStatusCore(r)});case 2:case"end":return e.stop()}},_callee6,this)}))}}]),PasteCommandHandler}();function PreviewDocumentCommandHandler_typeof(e){return(PreviewDocumentCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PreviewDocumentCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PreviewDocumentCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==PreviewDocumentCommandHandler_typeof(t)&&"function"!=typeof t?function PreviewDocumentCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PreviewDocumentCommandHandler_getPrototypeOf(e){return(PreviewDocumentCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PreviewDocumentCommandHandler_setPrototypeOf(e,t){return(PreviewDocumentCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var $r=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},qr=function(){function PreviewDocumentCommandHandler(e){var t;return function PreviewDocumentCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PreviewDocumentCommandHandler),(t=PreviewDocumentCommandHandler_possibleConstructorReturn(this,PreviewDocumentCommandHandler_getPrototypeOf(PreviewDocumentCommandHandler).call(this,g.DocumentPreview))).provider=e,t.Status.Available=!0,t.Status.Enabled=!0,t}return function PreviewDocumentCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PreviewDocumentCommandHandler_setPrototypeOf(e,t)}(PreviewDocumentCommandHandler,he),function PreviewDocumentCommandHandler_createClass(e,t,r){return t&&PreviewDocumentCommandHandler_defineProperties(e.prototype,t),r&&PreviewDocumentCommandHandler_defineProperties(e,r),e}(PreviewDocumentCommandHandler,[{key:"Execute",value:function Execute(i){return $r(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=i,e.next=3,new or(g.DocumentSave,this.provider).ExecuteAsync(null);case 3:(r=this.provider.GetService(I.WebDesignerOptions)).ReportServerLayout?(n=r.ServiceUrl.replace("/api/reportdesigner/","/Report/Preview/".concat(t,"/Shelve")),window.open(n,"_blank")):(o=this.provider.GetService(I.PreviewArea),this.provider.GetService(I.WebReportDesigner).Hide(),o.Show(t));case 5:case"end":return e.stop()}},_callee,this)}))}}]),PreviewDocumentCommandHandler}();function ResizeSelectionCommandHandler_typeof(e){return(ResizeSelectionCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ResizeSelectionCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ResizeSelectionCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ResizeSelectionCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==ResizeSelectionCommandHandler_typeof(t)&&"function"!=typeof t?function ResizeSelectionCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ResizeSelectionCommandHandler_getPrototypeOf(e){return(ResizeSelectionCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ResizeSelectionCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ResizeSelectionCommandHandler_setPrototypeOf(e,t)}function ResizeSelectionCommandHandler_setPrototypeOf(e,t){return(ResizeSelectionCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Jr=function(){function ResizeSelectionCommandHandler(e,t,r,n){var o;return ResizeSelectionCommandHandler_classCallCheck(this,ResizeSelectionCommandHandler),(o=ResizeSelectionCommandHandler_possibleConstructorReturn(this,ResizeSelectionCommandHandler_getPrototypeOf(ResizeSelectionCommandHandler).call(this,e,t,r,n,!0))).offsetX=r,o.offsetY=n,o}return ResizeSelectionCommandHandler_inherits(ResizeSelectionCommandHandler,De),function ResizeSelectionCommandHandler_createClass(e,t,r){return t&&ResizeSelectionCommandHandler_defineProperties(e.prototype,t),r&&ResizeSelectionCommandHandler_defineProperties(e,r),e}(ResizeSelectionCommandHandler,[{key:"IsValidSelectionCore",value:function IsValidSelectionCore(){return!0}}]),ResizeSelectionCommandHandler}(),Kr=function(){function ShrinkSelectionHorizontallyHandler(e){return ResizeSelectionCommandHandler_classCallCheck(this,ShrinkSelectionHorizontallyHandler),ResizeSelectionCommandHandler_possibleConstructorReturn(this,ResizeSelectionCommandHandler_getPrototypeOf(ShrinkSelectionHorizontallyHandler).call(this,e,g.ShrinkSelectionHorizontally,-1,0))}return ResizeSelectionCommandHandler_inherits(ShrinkSelectionHorizontallyHandler,Jr),ShrinkSelectionHorizontallyHandler}(),Qr=function(){function ShrinkSelectionVerticallyHandler(e){return ResizeSelectionCommandHandler_classCallCheck(this,ShrinkSelectionVerticallyHandler),ResizeSelectionCommandHandler_possibleConstructorReturn(this,ResizeSelectionCommandHandler_getPrototypeOf(ShrinkSelectionVerticallyHandler).call(this,e,g.ShrinkSelectionVertically,0,-1))}return ResizeSelectionCommandHandler_inherits(ShrinkSelectionVerticallyHandler,Jr),ShrinkSelectionVerticallyHandler}(),Zr=function(){function GrowSelectionHorizontallyHandler(e){return ResizeSelectionCommandHandler_classCallCheck(this,GrowSelectionHorizontallyHandler),ResizeSelectionCommandHandler_possibleConstructorReturn(this,ResizeSelectionCommandHandler_getPrototypeOf(GrowSelectionHorizontallyHandler).call(this,e,g.GrowSelectionHorizontally,1,0))}return ResizeSelectionCommandHandler_inherits(GrowSelectionHorizontallyHandler,Jr),GrowSelectionHorizontallyHandler}(),Xr=function(){function GrowSelectionVerticallyHandler(e){return ResizeSelectionCommandHandler_classCallCheck(this,GrowSelectionVerticallyHandler),ResizeSelectionCommandHandler_possibleConstructorReturn(this,ResizeSelectionCommandHandler_getPrototypeOf(GrowSelectionVerticallyHandler).call(this,e,g.GrowSelectionVertically,0,1))}return ResizeSelectionCommandHandler_inherits(GrowSelectionVerticallyHandler,Jr),GrowSelectionVerticallyHandler}();function SaveDocumentCommandHandler_typeof(e){return(SaveDocumentCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SaveDocumentCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SaveDocumentCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==SaveDocumentCommandHandler_typeof(t)&&"function"!=typeof t?function SaveDocumentCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SaveDocumentCommandHandler_getPrototypeOf(e){return(SaveDocumentCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SaveDocumentCommandHandler_setPrototypeOf(e,t){return(SaveDocumentCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Yr=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},en=function(){function SaveDocumentCommandHandler(e){var t;return function SaveDocumentCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SaveDocumentCommandHandler),(t=SaveDocumentCommandHandler_possibleConstructorReturn(this,SaveDocumentCommandHandler_getPrototypeOf(SaveDocumentCommandHandler).call(this,g.DocumentSave))).provider=e,t.Status.Available=!0,t.Status.Enabled=!0,t}return function SaveDocumentCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SaveDocumentCommandHandler_setPrototypeOf(e,t)}(SaveDocumentCommandHandler,he),function SaveDocumentCommandHandler_createClass(e,t,r){return t&&SaveDocumentCommandHandler_defineProperties(e.prototype,t),r&&SaveDocumentCommandHandler_defineProperties(e,r),e}(SaveDocumentCommandHandler,[{key:"Execute",value:function Execute(){return Yr(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.IDesignSurfaceManager),r=t.ActiveDesignSurface,e.next=4,r.SaveDocument();case 4:case"end":return e.stop()}},_callee,this)}))}}]),SaveDocumentCommandHandler}();function PublishDocumentCommandHandler_typeof(e){return(PublishDocumentCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PublishDocumentCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PublishDocumentCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==PublishDocumentCommandHandler_typeof(t)&&"function"!=typeof t?function PublishDocumentCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PublishDocumentCommandHandler_getPrototypeOf(e){return(PublishDocumentCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PublishDocumentCommandHandler_setPrototypeOf(e,t){return(PublishDocumentCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var tn=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},rn=function(){function PublishDocumentCommandHandler(e){var t;return function PublishDocumentCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PublishDocumentCommandHandler),(t=PublishDocumentCommandHandler_possibleConstructorReturn(this,PublishDocumentCommandHandler_getPrototypeOf(PublishDocumentCommandHandler).call(this,g.DocumentPublish))).provider=e,t.Status.Available=!0,t.Status.Enabled=!0,t}return function PublishDocumentCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PublishDocumentCommandHandler_setPrototypeOf(e,t)}(PublishDocumentCommandHandler,he),function PublishDocumentCommandHandler_createClass(e,t,r){return t&&PublishDocumentCommandHandler_defineProperties(e.prototype,t),r&&PublishDocumentCommandHandler_defineProperties(e,r),e}(PublishDocumentCommandHandler,[{key:"Execute",value:function Execute(){return tn(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.IDesignSurfaceManager),r=t.ActiveDesignSurface,e.next=4,r.PublishDocument();case 4:case"end":return e.stop()}},_callee,this)}))}}]),PublishDocumentCommandHandler}();function RevertDocumentCommandHandler_typeof(e){return(RevertDocumentCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RevertDocumentCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RevertDocumentCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==RevertDocumentCommandHandler_typeof(t)&&"function"!=typeof t?function RevertDocumentCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function RevertDocumentCommandHandler_getPrototypeOf(e){return(RevertDocumentCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RevertDocumentCommandHandler_setPrototypeOf(e,t){return(RevertDocumentCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var nn=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},on=function(){function RevertDocumentCommandHandler(e){var t;return function RevertDocumentCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RevertDocumentCommandHandler),(t=RevertDocumentCommandHandler_possibleConstructorReturn(this,RevertDocumentCommandHandler_getPrototypeOf(RevertDocumentCommandHandler).call(this,g.DocumentRevert))).provider=e,t.Status.Available=!0,t.Status.Enabled=!0,t}return function RevertDocumentCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RevertDocumentCommandHandler_setPrototypeOf(e,t)}(RevertDocumentCommandHandler,he),function RevertDocumentCommandHandler_createClass(e,t,r){return t&&RevertDocumentCommandHandler_defineProperties(e.prototype,t),r&&RevertDocumentCommandHandler_defineProperties(e,r),e}(RevertDocumentCommandHandler,[{key:"Execute",value:function Execute(){return nn(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.IDesignSurfaceManager),r=t.ActiveDesignSurface,e.next=4,r.RevertDocument();case 4:case"end":return e.stop()}},_callee,this)}))}}]),RevertDocumentCommandHandler}();function TabOrderList_slicedToArray(e,t){return function TabOrderList_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function TabOrderList_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function TabOrderList_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function TabOrderList_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var an=function(){function TabOrderList(e,t){!function TabOrderList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TabOrderList),this.report=e,this.provider=t,this.onComponentAddedOrRemovedBound=this.onComponentAddedOrRemoved.bind(this),this.webDesignerEventsElement=this.provider.GetService(I.DesignSurfaceEventsElement),this.webDesignerEventsElement.addEventListener(y.ComponentAdded,this.onComponentAddedOrRemovedBound,!1),this.webDesignerEventsElement.addEventListener(y.ComponentRemoved,this.onComponentAddedOrRemovedBound,!1),this.Reset()}return function TabOrderList_createClass(e,t,r){return t&&TabOrderList_defineProperties(e.prototype,t),r&&TabOrderList_defineProperties(e,r),e}(TabOrderList,[{key:"onComponentAddedOrRemoved",value:function onComponentAddedOrRemoved(){this.Reset()}},{key:"Reset",value:function Reset(){this.components=Array.from(ze.GetAssociatedComponents(this.report)),this.index=0}},{key:"GetNext",value:function GetNext(e){return this.index=this.findIndex(e),++this.index,this.index===this.components.length&&(this.index=0),this.getCurrentComponent()}},{key:"GetPrevious",value:function GetPrevious(e){return this.index=this.findIndex(e),--this.index,this.index<0&&(this.index=this.components.length-1),this.getCurrentComponent()}},{key:"findIndex",value:function findIndex(e){for(var t=0,r=Array.from(this.components.entries());t<r.length;t++){var n=TabOrderList_slicedToArray(r[t],2),o=n[0];if(n[1]===e)return o}}},{key:"getCurrentComponent",value:function getCurrentComponent(){return this.components[this.index]}}]),TabOrderList}();function SelectNextCommandHandler_typeof(e){return(SelectNextCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SelectNextCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SelectNextCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SelectNextCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==SelectNextCommandHandler_typeof(t)&&"function"!=typeof t?function SelectNextCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SelectNextCommandHandler_get(e,t,r){return(SelectNextCommandHandler_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function SelectNextCommandHandler_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SelectNextCommandHandler_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function SelectNextCommandHandler_getPrototypeOf(e){return(SelectNextCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SelectNextCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SelectNextCommandHandler_setPrototypeOf(e,t)}function SelectNextCommandHandler_setPrototypeOf(e,t){return(SelectNextCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var sn=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},cn=function(){function SelectNeighbourItemCommandHandler(e,t){var r;return SelectNextCommandHandler_classCallCheck(this,SelectNeighbourItemCommandHandler),(r=SelectNextCommandHandler_possibleConstructorReturn(this,SelectNextCommandHandler_getPrototypeOf(SelectNeighbourItemCommandHandler).call(this,e,t?g.SelectNext:g.SelectPrevious))).selectNext=t,r}return SelectNextCommandHandler_inherits(SelectNeighbourItemCommandHandler,me),function SelectNextCommandHandler_createClass(e,t,r){return t&&SelectNextCommandHandler_defineProperties(e.prototype,t),r&&SelectNextCommandHandler_defineProperties(e,r),e}(SelectNeighbourItemCommandHandler,[{key:"Reset",value:function Reset(){SelectNextCommandHandler_get(SelectNextCommandHandler_getPrototypeOf(SelectNeighbourItemCommandHandler.prototype),"Reset",this).call(this),SelectNeighbourItemCommandHandler.report=null,SelectNeighbourItemCommandHandler.tabOrderList=null}},{key:"IsValidSelectionCore",value:function IsValidSelectionCore(e){return 0<e.length}},{key:"Execute",value:function Execute(){return sn(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.Provider.GetService(I.IDesignSurfaceManager),r=this.SelectionService.PrimarySelection||t.ActiveDesignSurface.RootComponent){e.next=4;break}return e.abrupt("return");case 4:(n=this.selectNext?this.TabOrderList.GetNext(r):this.TabOrderList.GetPrevious(r))!==r&&this.SelectionService.SetSelectedComponents([n]);case 6:case"end":return e.stop()}},_callee,this)}))}},{key:"Report",get:function get(){if(!SelectNeighbourItemCommandHandler.report){var e=this.Provider.GetService(I.IDesignerHost);e.IsLoaded&&e.RootComponent instanceof ye&&(SelectNeighbourItemCommandHandler.report=e.RootComponent)}return SelectNeighbourItemCommandHandler.report}},{key:"TabOrderList",get:function get(){return SelectNeighbourItemCommandHandler.tabOrderList||(SelectNeighbourItemCommandHandler.tabOrderList=new an(this.Report,this.Provider)),SelectNeighbourItemCommandHandler.tabOrderList}}]),SelectNeighbourItemCommandHandler}();cn.tabOrderList=null,cn.report=null;var un=function(){function SelectNextItemCommandHandler(e){return SelectNextCommandHandler_classCallCheck(this,SelectNextItemCommandHandler),SelectNextCommandHandler_possibleConstructorReturn(this,SelectNextCommandHandler_getPrototypeOf(SelectNextItemCommandHandler).call(this,e,!0))}return SelectNextCommandHandler_inherits(SelectNextItemCommandHandler,cn),SelectNextItemCommandHandler}(),ln=function(){function SelectPreviousItemCommandHandler(e){return SelectNextCommandHandler_classCallCheck(this,SelectPreviousItemCommandHandler),SelectNextCommandHandler_possibleConstructorReturn(this,SelectNextCommandHandler_getPrototypeOf(SelectPreviousItemCommandHandler).call(this,e,!1))}return SelectNextCommandHandler_inherits(SelectPreviousItemCommandHandler,cn),SelectPreviousItemCommandHandler}();function SelectParentCommandHandler_typeof(e){return(SelectParentCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SelectParentCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SelectParentCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==SelectParentCommandHandler_typeof(t)&&"function"!=typeof t?function SelectParentCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SelectParentCommandHandler_getPrototypeOf(e){return(SelectParentCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SelectParentCommandHandler_setPrototypeOf(e,t){return(SelectParentCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var pn=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},fn=function(){function SelectParentCommandHandler(e){return function SelectParentCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SelectParentCommandHandler),SelectParentCommandHandler_possibleConstructorReturn(this,SelectParentCommandHandler_getPrototypeOf(SelectParentCommandHandler).call(this,e,g.SelectParent))}return function SelectParentCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SelectParentCommandHandler_setPrototypeOf(e,t)}(SelectParentCommandHandler,me),function SelectParentCommandHandler_createClass(e,t,r){return t&&SelectParentCommandHandler_defineProperties(e.prototype,t),r&&SelectParentCommandHandler_defineProperties(e,r),e}(SelectParentCommandHandler,[{key:"Execute",value:function Execute(){return pn(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.SelectionService.PrimarySelection){e.next=3;break}return e.abrupt("return");case 3:(r=t.Parent)&&this.SelectionService.SetSelectedComponents([r]);case 5:case"end":return e.stop()}},_callee,this)}))}}]),SelectParentCommandHandler}();function ZoomCommandHandler_typeof(e){return(ZoomCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZoomCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZoomCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==ZoomCommandHandler_typeof(t)&&"function"!=typeof t?function ZoomCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ZoomCommandHandler_getPrototypeOf(e){return(ZoomCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZoomCommandHandler_setPrototypeOf(e,t){return(ZoomCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var dn=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},yn=function(){function ZoomCommandHandler(e){var t;return function ZoomCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ZoomCommandHandler),(t=ZoomCommandHandler_possibleConstructorReturn(this,ZoomCommandHandler_getPrototypeOf(ZoomCommandHandler).call(this,g.DocumentZoom))).provider=e,t.Status.Available=!0,t.Status.Enabled=!0,t}return function ZoomCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZoomCommandHandler_setPrototypeOf(e,t)}(ZoomCommandHandler,he),function ZoomCommandHandler_createClass(e,t,r){return t&&ZoomCommandHandler_defineProperties(e.prototype,t),r&&ZoomCommandHandler_defineProperties(e,r),e}(ZoomCommandHandler,[{key:"Execute",value:function Execute(r){return dn(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:t=this.provider.GetService(I.IDesignSurfaceManager),t.ActiveDesignSurface.UpdateZoom(r);case 3:case"end":return e.stop()}},_callee,this)}))}}]),ZoomCommandHandler}();function Panel_typeof(e){return(Panel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Panel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Panel_possibleConstructorReturn(e,t){return!t||"object"!==Panel_typeof(t)&&"function"!=typeof t?function Panel_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Panel_getPrototypeOf(e){return(Panel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Panel_setPrototypeOf(e,t){return(Panel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var hn=function(){function Panel(){return function Panel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Panel),Panel_possibleConstructorReturn(this,Panel_getPrototypeOf(Panel).apply(this,arguments))}return function Panel_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Panel_setPrototypeOf(e,t)}(Panel,P),function Panel_createClass(e,t,r){return t&&Panel_defineProperties(e.prototype,t),r&&Panel_defineProperties(e,r),e}(Panel,[{key:"CanContain",value:function CanContain(e){var t=this.InstanceFactory.GetInstanceModel(e);return t&&t instanceof P}},{key:"Accept",value:function Accept(e){e.VisitPanel(this)}}]),Panel}();function ComponentValidator_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var mn=function(){function ComponentValidator(e,t){!function ComponentValidator_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ComponentValidator),this.provider=e,this.options=t,this.wdEventsElement=this.provider.GetService(I.WebDesignerEventsElement),this.designSurfaceEventsElement=this.provider.GetService(I.DesignSurfaceEventsElement),this.onSelectionChangingBound=this.onSelectionChanging.bind(this),this.onSelectionChangedBound=this.onSelectionChanged.bind(this),this.onComponentChangedBound=this.onComponentChanged.bind(this),this.wdEventsElement.addEventListener(y.SelectionChanging,this.onSelectionChangingBound,!1),this.wdEventsElement.addEventListener(y.SelectionChanged,this.onSelectionChangedBound,!1),this.options.listenForComponentChanged&&this.designSurfaceEventsElement.addEventListener(y.ComponentChanged,this.onComponentChangedBound,!1)}return function ComponentValidator_createClass(e,t,r){return t&&ComponentValidator_defineProperties(e.prototype,t),r&&ComponentValidator_defineProperties(e,r),e}(ComponentValidator,[{key:"Dispose",value:function Dispose(){this.wdEventsElement.removeEventListener(y.SelectionChanging,this.onSelectionChangingBound),this.wdEventsElement.removeEventListener(y.SelectionChanged,this.onSelectionChangedBound),this.wdEventsElement=null,this.options.listenForComponentChanged&&(this.designSurfaceEventsElement.removeEventListener(y.ComponentChanged,this.onComponentChangedBound),this.designSurfaceEventsElement=null),this.provider=null}},{key:"onSelectionChanging",value:function onSelectionChanging(){}},{key:"onSelectionChanged",value:function onSelectionChanged(){var e=this.provider.GetService(I.SelectionService).GetSelectedComponents(),t=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;ComponentValidator.Validate(a)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"onComponentChanged",value:function onComponentChanged(e){var t=e.detail,r=t.propertyDescriptor?t.propertyDescriptor.Name:"undefined";ComponentValidator.log('Component "'.concat(t.component.Name,'" changed. Property: "').concat(r,'". Values: ').concat(t.oldValue," => ").concat(t.newValue))}}],[{key:"Validate",value:function Validate(e){ComponentValidator.log("Validating item ".concat(e.Name,"; parent ").concat(e.Parent?e.Parent.Name:"NoParent",".")),ComponentValidator.ValidateChildrenCount(e),ComponentValidator.ValidateParentChildrenRelations(e),ComponentValidator.ValidateDefinition(e),ComponentValidator.ValidateNamingServiceRepeatingNames(e),ComponentValidator.ValidateExistingNameInNamingService(e)}},{key:"ValidateDefinition",value:function ValidateDefinition(e){e.PropertyStore[G.NetType]||ComponentValidator.error("PropertyStore.NetType is not set!")}},{key:"ValidateChildrenCount",value:function ValidateChildrenCount(e){var t=e.PropertyStore[G.Items],r=e.PropertyStore[G.Groups]||[];if(e instanceof hn||e instanceof Q||e instanceof ye||e instanceof rt)if(t){var n=t.length,o=!0,i=!1,a=void 0;try{for(var s,c=r[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;u[G.GroupHeader]&&n++,u[G.GroupFooter]&&n++}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}var l=[],p=!0,f=!1,d=void 0;try{for(var y,h=e.Children[Symbol.iterator]();!(p=(y=h.next()).done);p=!0){var m=y.value;m.Type.toLowerCase().endsWith("datasource")||l.push(m)}}catch(e){f=!0,d=e}finally{try{p||null==h.return||h.return()}finally{if(f)throw d}}n!==l.length&&ComponentValidator.error("Different count of PropertyStore.Items (".concat(n,") and Children (").concat(e.Children.length,")!"))}else ComponentValidator.log("Does not have Items property in PropertyStore!");else t&&ComponentValidator.error("MUST NOT have Items property in PropertyStore!"),0<e.Children.length&&ComponentValidator.error("MUST NOT have Children!")}},{key:"ValidateParentChildrenRelations",value:function ValidateParentChildrenRelations(e){var t=!0,r=!1,n=void 0;try{for(var o,i=e.Children[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a.Parent!==e&&ComponentValidator.error("Child ".concat(a.Name," has different parent: ").concat(a.Parent.Name,"!"))}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"ValidateExistingNameInNamingService",value:function ValidateExistingNameInNamingService(e){e instanceof k||e.provider.GetService(I.NamingService).NameExists(e.Name)||ComponentValidator.error("The name ".concat(e.Name," does not exist in NamingService.names!"))}},{key:"ValidateNamingServiceRepeatingNames",value:function ValidateNamingServiceRepeatingNames(e){for(var t=null,r=e.provider.GetService(I.NamingService).names,n=0;n<r.length-1;n++){for(var o=r[n],i=n+1;i<r.length-1;i++){if(o===r[i]){t=o;break}}if(t)break}t&&ComponentValidator.error("NamingService contains duplicate name '".concat(t,"'! Validating component '").concat(e,"'."))}},{key:"log",value:function log(e){console.log(e)}},{key:"error",value:function error(e){console.error(e)}}]),ComponentValidator}();function Adorner_toConsumableArray(e){return function Adorner_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function Adorner_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function Adorner_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Adorner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var gn=function(){function Adorner(e,t){!function Adorner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Adorner),this.name=e,this.Level=t,this.Enabled=!0,this.Glyphs=[]}return function Adorner_createClass(e,t,r){return t&&Adorner_defineProperties(e.prototype,t),r&&Adorner_defineProperties(e,r),e}(Adorner,[{key:"Add",value:function Add(e){e&&this.Glyphs.push(e)}},{key:"AddRange",value:function AddRange(e){var t;e&&(t=this.Glyphs).push.apply(t,Adorner_toConsumableArray(e))}},{key:"Clear",value:function Clear(){this.Glyphs.length=0}},{key:"toString",value:function toString(){return"".concat(this.name," (").concat(this.Level,")")}}],[{key:"CompareAdorners",value:function CompareAdorners(e,t){return e.Level<t.Level?-1:e.Level>t.Level?1:0}}]),Adorner}();function AdornerLevels_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var vn=function(){function AdornerLevels(){!function AdornerLevels_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AdornerLevels)}return function AdornerLevels_createClass(e,t,r){return t&&AdornerLevels_defineProperties(e.prototype,t),r&&AdornerLevels_defineProperties(e,r),e}(AdornerLevels,null,[{key:"Items",get:function get(){return 0}},{key:"SnapGrid",get:function get(){return 1}},{key:"ItemFrames",get:function get(){return 2}},{key:"Selection",get:function get(){return 1500}},{key:"Labels",get:function get(){return 2e3}},{key:"DimensionLines",get:function get(){return 2500}},{key:"SnapLines",get:function get(){return 3e3}},{key:"Extras",get:function get(){return 4e3}},{key:"DragFrame",get:function get(){return 5e3}}]),AdornerLevels}();function RectangleU_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var bn=function(){function RectangleU(e,t){!function RectangleU_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RectangleU),this.location=e,this.size=t}return function RectangleU_createClass(e,t,r){return t&&RectangleU_defineProperties(e.prototype,t),r&&RectangleU_defineProperties(e,r),e}(RectangleU,[{key:"ToRectangleF",value:function ToRectangleF(){return new zr(new Vr(this.Left.ToPixels(),this.Top.ToPixels()),new B(this.Width.ToPixels(),this.Height.ToPixels()))}},{key:"Equals",value:function Equals(e){return this.Location.Equals(e.Location)&&this.Size.Equals(e.Size)}},{key:"X",get:function get(){return this.location.X}},{key:"Y",get:function get(){return this.location.Y}},{key:"Width",get:function get(){return this.size.Width}},{key:"Height",get:function get(){return this.size.Height}},{key:"Location",get:function get(){return this.location}},{key:"Size",get:function get(){return this.size}},{key:"Left",get:function get(){return this.location.X}},{key:"Top",get:function get(){return this.location.Y}},{key:"Right",get:function get(){return new j(this.location.X.ToPixels()+this.size.Width.ToPixels())}},{key:"Bottom",get:function get(){return new j(this.location.Y.ToPixels()+this.size.Height.ToPixels())}}],[{key:"Empty",get:function get(){return new RectangleU(new Wr(j.Zero,j.Zero),new M(j.Zero,j.Zero))}}]),RectangleU}();function SnapInfo_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _n=function(){function SnapInfo(){!function SnapInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SnapInfo),this.X=0,this.Y=0,this.Width=0,this.Height=0,this.GridSize=0,this.StartIndexX=0,this.StartIndexY=0}return function SnapInfo_createClass(e,t,r){return t&&SnapInfo_defineProperties(e.prototype,t),r&&SnapInfo_defineProperties(e,r),e}(SnapInfo,[{key:"SnapToGrid",value:function SnapToGrid(e){var t=this.Snap(e,!0,!0);return e.Offset(t.Width,t.Height),e}},{key:"SnapToUnitGrid",value:function SnapToUnitGrid(e){var t=this.SnapToGrid(e.ToPixels());return new Wr(j.FromPixels(t.X,e.X.Type),j.FromPixels(t.X,e.Y.Type))}},{key:"SizeToGrid",value:function SizeToGrid(e){var t=e.ToRectangleF(),r=this.Snap(t.Location,!0,!0);t.Offset(r.Width,r.Height);var n=new Vr(t.Right,t.Bottom);return r=this.Snap(n,!0,!0),n.Offset(r.Width,r.Height),t.Width=n.X-t.Left,t.Height=n.Y-t.Top,new bn(new Wr(j.FromPixels(t.Left,e.Left.Type),j.FromPixels(t.Top,e.Top.Type)),new M(j.FromPixels(t.Width,e.Width.Type),j.FromPixels(t.Height,e.Height.Type)))}},{key:"Snap",value:function Snap(e,t,r){var n=B.Empty;return t&&(n.Width=this.CalculateSnapOffset(e.X,this.X,this.Width)),r&&(n.Height=this.CalculateSnapOffset(e.Y,this.Y,this.Height)),n}},{key:"CalculateSnapOffset",value:function CalculateSnapOffset(e,t){var r=this.GridSize/2;e<t&&(e=t),e-=t;var n=Math.floor(e/this.GridSize+1)*this.GridSize-e;return n<r?n:n-this.GridSize}}]),SnapInfo}();function SnapGridService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Sn=function(){function SnapGridService(e,t){!function SnapGridService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SnapGridService),this.rootDesigner=e,this.behaviorService=t}return function SnapGridService_createClass(e,t,r){return t&&SnapGridService_defineProperties(e.prototype,t),r&&SnapGridService_defineProperties(e,r),e}(SnapGridService,[{key:"GetSnapGridInfo",value:function GetSnapGridInfo(){var e=new _n,t=this.CalculateGridSize(),r=this.AdornerWindow.ClientSize,n=this.AdornerWindow.AutoScrollMinSize,o=this.rootDesigner.GetBounds(!0),i=-Math.floor(o.Left/t+1);e.X=o.Left+i*t,e.StartIndexX=i;var a=-Math.floor(o.Top/t+1);return e.Y=o.Top+a*t,e.StartIndexY=a,e.GridSize=t,e.Width=Math.max(r.Width,n.Width)-e.X,e.Height=Math.max(r.Height,n.Height)-e.Y,e}},{key:"CalculateGridSize",value:function CalculateGridSize(){for(var e=this.behaviorService.Zoom,t=this.behaviorService.SnapGridSize.ToPixels()*e;t<3;)(t*=5)<3&&(t*=2);return t}},{key:"AdornerWindow",get:function get(){return this.behaviorService.AdornerWindow}}]),SnapGridService}();function AdornerWindow_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Cn=function(){function AdornerWindow(e){!function AdornerWindow_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AdornerWindow),this.behaviorService=e}return function AdornerWindow_createClass(e,t,r){return t&&AdornerWindow_defineProperties(e.prototype,t),r&&AdornerWindow_defineProperties(e,r),e}(AdornerWindow,[{key:"ClientSize",get:function get(){return B.Empty}},{key:"AutoScrollMinSize",get:function get(){return B.Empty}}]),AdornerWindow}();function BehaviorService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Pn=function(){function BehaviorService(e){!function BehaviorService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BehaviorService),this.provider=e,this.host=this.provider.GetService(I.IDesignerHost),this.dimensionLinesAdorner=new gn("Measure Lines",vn.DimensionLines),this.SnapLinesAdorner=new gn("Snap Lines",vn.SnapLines),this.dragFrameAdorner=new gn("Drag Frame",vn.DragFrame),this.adorners=[],this.adorners.push(this.dimensionLinesAdorner,this.SnapLinesAdorner,this.dragFrameAdorner),this.adornerWindow=null,this.snapGridService=null,this.Zoom=1,this.ShowDimensions=!0,this.SnapToGrid=!0,this.SnapToSnapLines=!0}return function BehaviorService_createClass(e,t,r){return t&&BehaviorService_defineProperties(e.prototype,t),r&&BehaviorService_defineProperties(e,r),e}(BehaviorService,[{key:"SnapGridService",get:function get(){return this.snapGridService||(this.snapGridService=new Sn(this.host.RootComponent.Designer,this)),this.snapGridService}},{key:"SnapGridSize",get:function get(){return new j(5,v.Pixel)}},{key:"ShowSnapGrid",get:function get(){return!0}},{key:"ShouldSnap",get:function get(){return this.SnapToGrid}},{key:"AdornerWindow",get:function get(){return this.adornerWindow||(this.adornerWindow=new Cn(this)),this.adornerWindow}}]),BehaviorService}();function DocumentLoader_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var wn=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},On=function(){function DocumentLoader(e,t){!function DocumentLoader_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DocumentLoader),this.provider=e,this.designerHost=this.provider.GetService(I.IDesignerHost),this.$documentArea=t}return function DocumentLoader_createClass(e,t,r){return t&&DocumentLoader_defineProperties(e.prototype,t),r&&DocumentLoader_defineProperties(e,r),e}(DocumentLoader,[{key:"Load",value:function Load(r){return wn(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var i,a,t,s=this;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.$documentArea.empty(),e.next=3,this.createReportModel(r,null);case 3:if(i=e.sent){e.next=6;break}throw new Error("Could not create a report model.");case 6:return i.Overlay.Update(),a=this.provider.GetService(I.SelectionService),t=this.provider.GetService(I.DesignSurfaceEventsElement),$(t).off("mousedown").on("mousedown",function(e,t){if(e.stopPropagation(),!t){var r=$(e.target);if(r.hasClass("twd-design-surface")&&!s.designerHost.HasActiveResizeOperation)s.select(e,r,i.Component,a);else{var n=r.attr("data-component-overlay");if(n){var o=s.designerHost.GetComponent(n);s.select(e,r,o,a)}}s.designerHost.HasActiveResizeOperation=!1}}),a.SetSelectedComponents([i.Component]),e.abrupt("return",i.Component);case 12:case"end":return e.stop()}},_callee,this)}))}},{key:"select",value:function select(e,t,r,n){var o=n.ComponentSelected(r),i=$.map(n.GetSelectedComponents(),function(e){return e}),a=[];if(e.ctrlKey)if(a=i,o){if(1<a.length){t.removeClass("selected-designer");var s=a.indexOf(r);a.splice(s,1),t.blur()}}else a.push(r);else a.push(r);n.SetSelectedComponents(a)}},{key:"createReportModel",value:function createReportModel(r,n){var o;return wn(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.designerHost.CreateComponent(r[G.NetType],r,null===(o=n)||void 0===o?void 0:o.Component,!0);case 2:return(t=e.sent).Type===_.Report&&(this.designerHost.RootComponent=t),t.RenderDesigner(),e.abrupt("return",t?t.Designer:null);case 6:case"end":return e.stop()}},_callee2,this)}))}}]),DocumentLoader}();function Zla(e,t){!function TransactionClosedEventArgs_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Zla),this.TransactionName=e,this.TransactionCommitted=t}function Transaction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var En=function(){function Transaction(e,t,r,n){!function Transaction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Transaction),this.transactionService=e,this.TransactionName=t,this.TransactionState=r,this.TransactionSelection=n}return function Transaction_createClass(e,t,r){return t&&Transaction_defineProperties(e.prototype,t),r&&Transaction_defineProperties(e,r),e}(Transaction,[{key:"Commit",value:function Commit(){this.transactionService.CommitTransaction(this)}},{key:"Rollback",value:function Rollback(){this.transactionService.RollbackTransaction(this)}}]),Transaction}();function TransactionManager_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var kn=function(){function TransactionManager(e){!function TransactionManager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TransactionManager),this.provider=e,this.dsEventsElement=e.GetService(I.DesignSurfaceEventsElement),this.transactionLevel=0}return function TransactionManager_createClass(e,t,r){return t&&TransactionManager_defineProperties(e.prototype,t),r&&TransactionManager_defineProperties(e,r),e}(TransactionManager,[{key:"BeginTransaction",value:function BeginTransaction(e){var t=this.InTransaction?null:this.getCurrentState(),r=this.InTransaction?null:p.GetCurrentSelection(this.provider);return this.transactionLevel++,new En(this,e,t,r)}},{key:"CommitTransaction",value:function CommitTransaction(e){if(!this.InTransaction)throw new Error("Not in transaction.");if(this.transactionLevel--,!this.InTransaction){var t=new CustomEvent(y.TransactionClosed,{detail:new Zla(e.TransactionName,!0)});this.dsEventsElement.dispatchEvent(t)}}},{key:"RollbackTransaction",value:function RollbackTransaction(e){if(!this.InTransaction)throw new Error("Not in transaction.");if(this.transactionLevel--,this.InTransaction)throw new Error("Rollback inner transaction");if(this.getCurrentState()!==e.TransactionState){var t=this.provider.GetService(I.DesignSurface),r=JSON.parse(e.TransactionState);t.Reload(r,e.TransactionSelection)}var n=new CustomEvent(y.TransactionClosed,{detail:new Zla(e.TransactionName,!1)});this.dsEventsElement.dispatchEvent(n)}},{key:"getCurrentState",value:function getCurrentState(){var e=this.provider.GetService(I.IDesignerHost).RootComponent;return JSON.stringify(e.PropertyStore)}},{key:"InTransaction",get:function get(){return 0<this.transactionLevel}}]),TransactionManager}();function DesignerHost_toConsumableArray(e){return function DesignerHost_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function DesignerHost_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function DesignerHost_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function DesignerHost_slicedToArray(e,t){return function DesignerHost_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function DesignerHost_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function DesignerHost_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function DesignerHost_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Tn=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Dn=function(){function DesignerHost(e){!function DesignerHost_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DesignerHost),this.provider=e,this.designers=new Map,this.transactionManager=null,this.dsEventsElement=this.provider.GetService(I.DesignSurfaceEventsElement),this.HasActiveResizeOperation=!1,this.isLoaded=!1}return function DesignerHost_createClass(e,t,r){return t&&DesignerHost_defineProperties(e.prototype,t),r&&DesignerHost_defineProperties(e,r),e}(DesignerHost,[{key:"Load",value:function Load(t,r){return Tn(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.documentVisualContainer=r,this.transactionManager=new kn(this.provider),e.next=4,this.loadCore(t);case 4:case"end":return e.stop()}},_callee,this)}))}},{key:"loadCore",value:function loadCore(r){return Tn(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new On(this,this.documentVisualContainer).Load(r);case 2:this.RootComponent=e.sent,this.isLoaded=!0,t=new Event(y.DefinitionLoadComplete),this.dsEventsElement.dispatchEvent(t);case 6:case"end":return e.stop()}},_callee2,this)}))}},{key:"Reload",value:function Reload(t){return Tn(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return this.RootComponent&&this.RootComponent.Designer.Dispose(),this.provider.GetService(I.NamingService).Clear(),this.designers.clear(),this.isLoaded=!1,e.next=7,this.loadCore(t);case 7:case"end":return e.stop()}},_callee3,this)}))}},{key:"CreateTransaction",value:function CreateTransaction(e){if(!this.transactionManager)throw new Error("No document loaded.");return this.transactionManager.BeginTransaction(e)}},{key:"CreateComponent",value:function CreateComponent(i,a,s,e){var c=!(3<arguments.length&&void 0!==e)||e;return Tn(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r,n,o;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("Property store is required for component creation.");case 2:if(t=this.provider.GetService(I.NamingService),a[G.Name]?t.RegisterName(a[G.Name]):(r=t.CreateName(i),a[G.Name]=r),n=this.provider.GetService(I.IInstanceFactoryService),o=n.CreateInstance(i,a,s,c))return e.next=9,o.Initialize(i);e.next=10;break;case 9:this.designers.set(o,o.Designer);case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}},_callee4,this)}))}},{key:"UnregisterComponent",value:function UnregisterComponent(e){return this.provider.GetService(I.NamingService).UnregisterName(e.Name),this.designers.delete(e)}},{key:"GetDesigner",value:function GetDesigner(e){return this.designers.get(e)}},{key:"GetComponent",value:function GetComponent(e){for(var t=0,r=Array.from(this.designers);t<r.length;t++){var n=DesignerHost_slicedToArray(r[t],2),o=n[0];n[1];if(o.Name===e)return o}return null}},{key:"GetService",value:function GetService(e){return this.provider.GetService(e)}},{key:"IsLoaded",get:function get(){return this.isLoaded}},{key:"Components",get:function get(){return DesignerHost_toConsumableArray(Array.from(this.designers.keys()))}},{key:"InTransaction",get:function get(){return this.transactionManager&&this.transactionManager.InTransaction}}]),DesignerHost}();function NudgeHelper_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var xn=function(){function NudgeHelper(e){!function NudgeHelper_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NudgeHelper),this.provider=e}return function NudgeHelper_createClass(e,t,r){return t&&NudgeHelper_defineProperties(e.prototype,t),r&&NudgeHelper_defineProperties(e,r),e}(NudgeHelper,[{key:"Initialize",value:function Initialize(e){this.resizing=e;var t=this.provider.GetService(I.IDesignSurfaceManager).ActiveDesignSurface;this.zoom=t.Zoom,this.behaviorService=t.BehaviorService,this.snapInfo=this.behaviorService.SnapGridService.GetSnapGridInfo(),this.selectionService=this.provider.GetService(I.SelectionService)}},{key:"Adjust",value:function Adjust(e,t){var r=this.getMovableComponents();if(0!==r.length){var n=this.provider.GetService(I.IDesignerHost).CreateTransaction("".concat(this.resizing?"Resize":"Move"," '").concat(r.map(function(e){return e.Name}).join("', '"),"'."));try{var o=this.calculateDelta(e,t),i=!0,a=!1,s=void 0;try{for(var c,u=r[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value;this.resizing?this.resize(l,o):this.move(l,o)}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}n.Commit()}catch(e){n.Rollback(),this.provider.GetService(I.Notifications).Error("Could not ".concat(this.resizing?"resize":"move"," '").concat(r.map(function(e){return e.Name}).join("', '"),"'."),e)}}}},{key:"getMovableComponents",value:function getMovableComponents(){var e=[],t=this.selectionService.GetSelectedComponents();if(t&&t.length){var r=!0,n=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;this.isValidNudgeTarget(s)&&e.push(s)}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return e}}},{key:"isValidNudgeTarget",value:function isValidNudgeTarget(e){var t=e.PropertyStore;if(this.resizing){var r=t[G.Width],n=t[G.Height];return null!==r||null!==n}var o=t[G.Left],i=t[G.Top];return null!==o||null!==i}},{key:"calculateDelta",value:function calculateDelta(e,t){var r=this.selectionService.PrimarySelection.Designer,n=r.GetBounds(!0),o=this.resizing?new Vr(n.Right,n.Bottom):new Vr(n.Location.X,n.Location.Y);if(this.behaviorService.SnapToGrid){var i=1+this.snapInfo.GridSize/2;e*=i,t*=i}if(o.Offset(e,t),this.behaviorService.SnapToGrid){var a=this.snapInfo.Snap(o,0!==e,0!==t);o.Offset(a.Width,a.Height)}var s=this.resizing?o.X-n.Right:o.X-n.Left,c=this.resizing?o.Y-n.Bottom:o.Y-n.Top;if(this.resizing){var u=r.CalculateMinSize().ToPixels();n.Width+s<u.Width&&(s=u.Width-n.Width),n.Height+c<u.Height&&(c=u.Height-n.Height)}else{var l=r.Component.Parent.Designer.GetClientBounds(!0);n.X+s<l.X&&(s=l.X-n.X),n.Y+c<l.Y&&(c=l.Y-n.Y)}return new B(s,c)}},{key:"resize",value:function resize(e,t){var r=this.selectionService.PrimarySelection.Designer,n=r.GetBounds(!0),o=r.CalculateMinSize().ToPixels(),i=t.Width;n.Width+i<o.Width&&(i=o.Width-n.Width);var a=t.Height;n.Height+a<o.Height&&(a=o.Height-n.Height),0!==i&&this.setPropertyValue(e,G.Width,i),0!==a&&this.setPropertyValue(e,G.Height,a)}},{key:"move",value:function move(e,t){var r=e.Designer,n=r.Component.Parent.Designer,o=r.GetBounds(!0),i=n.GetClientBounds(!0),a=t.Width;o.X+a<i.X&&(a=i.X-o.X);var s=t.Height;o.Y+s<i.Y&&(s=i.Y-o.Y),0!==a&&this.setPropertyValue(e,G.Left,a),0!==s&&this.setPropertyValue(e,G.Top,s)}},{key:"setPropertyValue",value:function setPropertyValue(e,t,r){var n=e.PropertyStore[t];if(n){var o=j.Parse(n),i=j.FromPixels(o.ToPixels()+r/this.zoom,o.Type);e.GetProperty(t).SetValue(i.ToString(),e,e.PropertyStore)}}}]),NudgeHelper}();function NamingService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Rn=function(){function NamingService(e){!function NamingService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NamingService),this.provider=e,this.names=[]}return function NamingService_createClass(e,t,r){return t&&NamingService_defineProperties(e.prototype,t),r&&NamingService_defineProperties(e,r),e}(NamingService,[{key:"CreateName",value:function CreateName(e){e=this.convertNameToCamelCase(e);for(var t=1;t<Number.MAX_SAFE_INTEGER;t++){var r=e+t;if(this.RegisterName(r))return r}return null}},{key:"RegisterName",value:function RegisterName(e){if(null==e)throw new Error("Invalid name provided.");var t=p.BinarySearch(this.names,e);return t<0&&(this.names.splice(~t,0,e),!0)}},{key:"UnregisterName",value:function UnregisterName(e){var t=this.names.indexOf(e);-1<t&&this.names.splice(t,1)}},{key:"NameExists",value:function NameExists(e){return-1<this.names.indexOf(e)}},{key:"Clear",value:function Clear(){this.names=[]}},{key:"convertNameToCamelCase",value:function convertNameToCamelCase(e){return e.charAt(0).toLowerCase()+e.slice(1)}}]),NamingService}();function SelectionService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var In=function(){function SelectionService(e){!function SelectionService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SelectionService),this.provider=e,this.primarySelection=null,this.selection=[],this.selectionChanging=new Event(y.SelectionChanging),this.selectionChanged=new Event(y.SelectionChanged),this.webDesignerEventsElement=this.provider.GetService(I.WebDesignerEventsElement)}return function SelectionService_createClass(e,t,r){return t&&SelectionService_defineProperties(e.prototype,t),r&&SelectionService_defineProperties(e,r),e}(SelectionService,[{key:"ComponentSelected",value:function ComponentSelected(e){for(var t=0;t<this.selection.length;t++)if(this.selection[t]===e)return!0;return!1}},{key:"GetSelectedComponents",value:function GetSelectedComponents(){return this.selection}},{key:"SetSelectedComponents",value:function SetSelectedComponents(e){if(this.selectionHasChanged(e)){if(this.webDesignerEventsElement.dispatchEvent(this.selectionChanging),this.selection=[],e&&0<e.length){this.primarySelection=e[0],this.primarySelection.Designer&&this.primarySelection.Designer.Overlay&&this.primarySelection.Designer.Overlay.VisualElement&&(this.primarySelection.Designer.Overlay.VisualElement.trigger("click",{isArtClick:!0}),this.primarySelection.Designer.Overlay.VisualElement[0].focus());for(var t=0;t<e.length;t++)this.selection.push(e[t])}this.webDesignerEventsElement.dispatchEvent(this.selectionChanged)}}},{key:"selectionHasChanged",value:function selectionHasChanged(e){var t=e.length;if(t!==this.selection.length)return!0;for(var r=0;r<t;r++)if(e[r]!==this.selection[r])return!0;return!1}},{key:"ReapplySelection",value:function ReapplySelection(){this.primarySelection&&(this.webDesignerEventsElement.dispatchEvent(this.selectionChanging),this.webDesignerEventsElement.dispatchEvent(this.selectionChanged))}},{key:"PrimarySelection",get:function get(){return this.primarySelection}},{key:"SelectionCount",get:function get(){return this.selection.length}}]),SelectionService}();function ServiceContainer_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Gn=function(){function ServiceContainer(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;!function ServiceContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ServiceContainer),this.parentContainer=e,this.AddService(I.ServiceContainer,this)}return function ServiceContainer_createClass(e,t,r){return t&&ServiceContainer_defineProperties(e.prototype,t),r&&ServiceContainer_defineProperties(e,r),e}(ServiceContainer,[{key:"AddService",value:function AddService(e,t,r){if(2<arguments.length&&void 0!==r&&r)this.parentContainer.AddService(e,t,!1);else{if(this.hasOwnProperty(e))throw new Error("Service with name ".concat(e," already exists."));this[e]=t}}},{key:"RemoveService",value:function RemoveService(e,t){1<arguments.length&&void 0!==t&&t?this.parentContainer.RemoveService(e,!1):delete this[e]}},{key:"GetService",value:function GetService(e){return this.hasOwnProperty(e)?this[e]:null!==this.parentContainer?this.parentContainer.GetService(e):null}}]),ServiceContainer}();function UndoManager_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var jn=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Bn=function(){function UndoManager(e){var o=this;!function UndoManager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UndoManager),this.provider=e,this.undoStack=[],this.index=-1,this.dsEventsElement=this.provider.GetService(I.DesignSurfaceEventsElement),this.webDesignerEventsElement=this.provider.GetService(I.WebDesignerEventsElement),this.UpdateUI=new Event(y.UpdateUI),this.dsEventsElement.addEventListener(y.DefinitionLoadComplete,function(e){if(-1===o.index){var t=o.provider.GetService(I.IDesignerHost);o.PushState("Report '".concat(t.RootComponent.Name,"' loaded"))}},!1),this.dsEventsElement.addEventListener(y.ComponentChanged,function(e){var t=o.provider.GetService(I.IDesignerHost);if(t&&!t.InTransaction){var r=e.detail.propertyDescriptor,n=r?"Change property '".concat(r.Name,"'"):"Change";o.PushState(n)}},!1),this.dsEventsElement.addEventListener(y.TransactionClosed,function(e){e.detail.TransactionCommitted&&o.PushState(e.detail.TransactionName)},!1)}return function UndoManager_createClass(e,t,r){return t&&UndoManager_defineProperties(e.prototype,t),r&&UndoManager_defineProperties(e,r),e}(UndoManager,[{key:"PushState",value:function PushState(e){this.RedoAvailable&&(this.undoStack=this.undoStack.slice(0,this.index+1));var t=this.getCurrentState();(this.index<0||this.undoStack[this.index].stateJson!==t)&&(this.undoStack.push({name:e,stateJson:t,selection:p.GetCurrentSelection(this.provider)}),this.index++,this.webDesignerEventsElement.dispatchEvent(this.UpdateUI))}},{key:"Undo",value:function Undo(){this.UndoAvailable?(this.index--,this.applyCurrentState(),this.webDesignerEventsElement.dispatchEvent(this.UpdateUI)):p.LogInfo("Undo operation not available.")}},{key:"Redo",value:function Redo(){this.RedoAvailable?(this.index++,this.applyCurrentState(),this.webDesignerEventsElement.dispatchEvent(this.UpdateUI)):p.LogInfo("Redo operation not available.")}},{key:"applyCurrentState",value:function applyCurrentState(){return jn(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.undoStack[this.index],r=this.provider.GetService(I.DesignSurface),n=JSON.parse(t.stateJson),e.next=5,r.Reload(n,t.selection);case 5:case"end":return e.stop()}},_callee,this)}))}},{key:"getCurrentState",value:function getCurrentState(){var e=this.provider.GetService(I.IDesignerHost).RootComponent;return JSON.stringify(e.PropertyStore)}},{key:"UndoAvailable",get:function get(){return 0<this.index}},{key:"RedoAvailable",get:function get(){return this.index<this.undoStack.length-1}}]),UndoManager}();function DesignSurface_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Mn=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},An=function(){function DesignSurface(e,t,r){!function DesignSurface_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DesignSurface),this.provider=e,this.serviceContainer=new Gn(e.GetService(I.ServiceContainer)),this.storageService=this.provider.GetService(I.StorageService),this.DocumentId=r;var n=p.ParseDocumentId(this.DocumentId);this.DocumentName=n.Name,this.DocumentExtension=n.Extension,this.VisualElement=$($.parseHTML(this.template)),t.append(this.VisualElement),this.serviceContainer.AddService(I.DesignSurfaceEventsElement,this.VisualElement[0]),this.designerHost=new Dn(this),this.serviceContainer.AddService(I.DesignSurface,this),this.serviceContainer.AddService(I.IDesignerHost,this.designerHost),this.serviceContainer.AddService(I.NamingService,new Rn(this)),this.SelectionService=new In(this),this.serviceContainer.AddService(I.SelectionService,this.SelectionService),this.serviceContainer.AddService(I.NudgeHelper,new xn(this)),this.undoManager=new Bn(this),this.serviceContainer.AddService(I.UndoManager,this.undoManager),this.BehaviorService=new Pn(this),this.serviceContainer.AddService(I.BehaviorService,this.BehaviorService),this.BehaviorService.Zoom=1,this.initEventListener(),this.componentChangeService=this.provider.GetService(I.IComponentChangeService),this.isModified=!1,this.webDesignerEventsElement=this.provider.GetService(I.WebDesignerEventsElement),this.designSurfaceModifiedStateChanged=new CustomEvent(y.DesignSurfaceModifiedStateChanged,{detail:{isModified:this.isModified,DocumentId:r}})}return function DesignSurface_createClass(e,t,r){return t&&DesignSurface_defineProperties(e.prototype,t),r&&DesignSurface_defineProperties(e,r),e}(DesignSurface,[{key:"CreateBlankDocument",value:function CreateBlankDocument(){return Mn(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.ISchemaService),e.next=3,t.GetDefaultPropertyStore(_.Report);case 3:return(r=e.sent).Name=this.DocumentName,e.next=7,this.storageService.Save(this.DocumentId,r);case 7:return e.next=9,this.designerHost.Load(r,this.VisualElement);case 9:case"end":return e.stop()}},_callee,this)}))}},{key:"CreateDocument",value:function CreateDocument(t){return Mn(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.Save(this.DocumentId,t);case 2:return e.next=4,this.designerHost.Load(t,this.VisualElement);case 4:case"end":return e.stop()}},_callee2,this)}))}},{key:"OpenDocument",value:function OpenDocument(){return Mn(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.Open(this.DocumentId);case 2:if(t=e.sent)return e.next=6,this.designerHost.Load(t,this.VisualElement);e.next=6;break;case 6:case"end":return e.stop()}},_callee3,this)}))}},{key:"SaveDocument",value:function SaveDocument(){return Mn(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r=this;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.designerHost.RootComponent.PropertyStore,this.IsModified)return e.next=4,this.storageService.Save(this.DocumentId,t).then(function(){r.IsModified=!1});e.next=4;break;case 4:case"end":return e.stop()}},_callee4,this)}))}},{key:"PublishDocument",value:function PublishDocument(){return Mn(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.SaveDocument();case 2:return e.next=4,this.storageService.Publish(this.DocumentId);case 4:case"end":return e.stop()}},_callee5,this)}))}},{key:"RevertDocument",value:function RevertDocument(){return Mn(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var t=this;return regeneratorRuntime.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.Unlock(this.DocumentId).then(function(){t.IsModified=!1,location.reload(!1)});case 2:case"end":return e.stop()}},_callee6,this)}))}},{key:"LoadDesignerHost",value:function LoadDesignerHost(r){return Mn(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var t=this;return regeneratorRuntime.wrap(function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.designerHost.Load(r,this.VisualElement).then(function(){t.IsModified=!1}));case 1:case"end":return e.stop()}},_callee7,this)}))}},{key:"Reload",value:function Reload(n,o){return Mn(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){var t,r;return regeneratorRuntime.wrap(function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.designerHost.Reload(n);case 2:t=this.designerHost.Components,(r=t.filter(function(e){return o.includes(e.Name)}))&&0<r.length&&this.provider.GetService(I.SelectionService).SetSelectedComponents(r);case 5:case"end":return e.stop()}},_callee8,this)}))}},{key:"Hide",value:function Hide(){this.VisualElement.hide()}},{key:"Show",value:function Show(){this.VisualElement.show(),this.SelectionService.ReapplySelection()}},{key:"Delete",value:function Delete(){this.designerHost.RootComponent.Designer.Dispose(),this.designerHost.RootComponent=null,this.VisualElement.remove()}},{key:"UpdateZoom",value:function UpdateZoom(e){this.VisualElement.find("div").first().css({transform:"scale("+e+")"}),this.BehaviorService.Zoom=e;var t=this.SelectionService.GetSelectedComponents();this.designerHost.RootComponent.Designer.UpdateOverlay(!0);var r=!0,n=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){i.value.Designer.UpdateResizable()}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}},{key:"GetDesigner",value:function GetDesigner(e){return this.designerHost.GetDesigner(e)}},{key:"CreateNewComponent",value:function CreateNewComponent(r,n,o){return Mn(this,void 0,void 0,regeneratorRuntime.mark(function _callee9(){var t;return regeneratorRuntime.wrap(function _callee9$(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return e.next=3,this.getDefaultPropertyStore(r);case 3:n=e.sent;case 4:return e.next=6,this.designerHost.CreateComponent(r,n,o);case 6:return(t=e.sent)&&(t.IsChildOfParent&&o.AddItem(t.PropertyStore,!0),t.RenderDesigner()),this.componentChangeService.OnComponentAdded(t),e.abrupt("return",t);case 10:case"end":return e.stop()}},_callee9,this)}))}},{key:"GetService",value:function GetService(e){return this.serviceContainer.GetService(e)}},{key:"initEventListener",value:function initEventListener(){var t=this,e=this.GetService(I.DesignSurfaceEventsElement);e.addEventListener(y.ComponentChanged,function(e){e.detail.component.Designer.OnComponentChanged(e.detail)},!1),e.addEventListener(y.TransactionClosed,function(e){t.IsModified=t.IsModified||e.detail.TransactionCommitted},!1),e.addEventListener(y.DefinitionLoadComplete,function(e){t.IsModified=t.IsModified||t.undoManager.UndoAvailable},!1)}},{key:"getDefaultPropertyStore",value:function getDefaultPropertyStore(n){return Mn(this,void 0,void 0,regeneratorRuntime.mark(function _callee10(){var t,r;return regeneratorRuntime.wrap(function _callee10$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.ISchemaService),e.next=3,t.GetDefaultPropertyStore(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},_callee10,this)}))}},{key:"Zoom",get:function get(){return this.BehaviorService.Zoom}},{key:"RootComponent",get:function get(){return this.designerHost.RootComponent}},{key:"template",get:function get(){return'<div class="twd-design-surface"></div>'}},{key:"IsModified",get:function get(){return this.isModified},set:function set(e){if(this.isModified!==e){this.isModified=e,this.designSurfaceModifiedStateChanged.detail.isModified=e,this.webDesignerEventsElement.dispatchEvent(this.designSurfaceModifiedStateChanged);var t=this.provider.GetService(I.WebDesignerOptions);e&&t.ReportServerLayout&&this.storageService.Lock(this.DocumentId)}}}]),DesignSurface}();function kma(e,t){!function LoadedReportInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,kma),this.DocumentId=e,this.IsModified=t}function ZOrderCommandHandler_typeof(e){return(ZOrderCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZOrderCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZOrderCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==ZOrderCommandHandler_typeof(t)&&"function"!=typeof t?function ZOrderCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ZOrderCommandHandler_getPrototypeOf(e){return(ZOrderCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZOrderCommandHandler_setPrototypeOf(e,t){return(ZOrderCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Nn=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Hn=function(){function ZOrderCommandHandler(e,t,r){var n;return function ZOrderCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ZOrderCommandHandler),(n=ZOrderCommandHandler_possibleConstructorReturn(this,ZOrderCommandHandler_getPrototypeOf(ZOrderCommandHandler).call(this,e,t))).bringToFront=r,n}return function ZOrderCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZOrderCommandHandler_setPrototypeOf(e,t)}(ZOrderCommandHandler,me),function ZOrderCommandHandler_createClass(e,t,r){return t&&ZOrderCommandHandler_defineProperties(e.prototype,t),r&&ZOrderCommandHandler_defineProperties(e,r),e}(ZOrderCommandHandler,[{key:"IsValidSelectionCore",value:function IsValidSelectionCore(){return!0}},{key:"Execute",value:function Execute(){return Nn(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:this.ExecuteZOrderSelection(this.bringToFront);case 1:case"end":return e.stop()}},_callee,this)}))}},{key:"ExecuteZOrderSelection",value:function ExecuteZOrderSelection(e){var t=this.SelectionService.GetSelectedComponents();if(t&&0!==t.length){var r=[],n=t.map(function(e){return e.Name}).join("', '"),o=e?"Bring '".concat(n,"' to front"):"Send '".concat(n,"' to back"),i=this.Provider.GetService(I.IDesignerHost).CreateTransaction(o);try{var a=this.SelectionService.GetSelectedComponents(),s=a.slice(0);s.sort(ZOrderCommandHandler.CompareReportItemZIndex);for(var c=0;c<s.length;c++){var u=s[c];if(u){var l=u.Parent;l&&(r.includes(l)||r.push(l))}}var p=!0,f=!1,d=void 0;try{for(var y,h=a[Symbol.iterator]();!(p=(y=h.next()).done);p=!0){var m=y.value,g=m.Parent;m.SetParent(g,e)}}catch(e){f=!0,d=e}finally{try{p||null==h.return||h.return()}finally{if(f)throw d}}i.Commit()}catch(e){i.Rollback()}}}}],[{key:"CompareReportItemZIndex",value:function CompareReportItemZIndex(e,t){if(e===t)return 0;var r=t instanceof A;if(!(e instanceof A))return r?-1:0;if(!r)return 1;var n=e,o=t,i=n.Parent,a=o.Parent;if(i!==a)return!i||n.Contains(o)?1:!a||o.Contains(n)?-1:this.CompareReportItemZIndex(i,a);var s=n.Parent;return null==s?0:s.Children.indexOf(n)>s.Children.indexOf(o)?-1:1}}]),ZOrderCommandHandler}();function SendToBackCommandHandler_typeof(e){return(SendToBackCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SendToBackCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==SendToBackCommandHandler_typeof(t)&&"function"!=typeof t?function SendToBackCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SendToBackCommandHandler_getPrototypeOf(e){return(SendToBackCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SendToBackCommandHandler_setPrototypeOf(e,t){return(SendToBackCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ln=function(){function SendToBackCommandHandler(e){return function SendToBackCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SendToBackCommandHandler),SendToBackCommandHandler_possibleConstructorReturn(this,SendToBackCommandHandler_getPrototypeOf(SendToBackCommandHandler).call(this,e,g.SendToBack,!1))}return function SendToBackCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SendToBackCommandHandler_setPrototypeOf(e,t)}(SendToBackCommandHandler,Hn),SendToBackCommandHandler}();function BringToFrontCommandHandler_typeof(e){return(BringToFrontCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BringToFrontCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==BringToFrontCommandHandler_typeof(t)&&"function"!=typeof t?function BringToFrontCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function BringToFrontCommandHandler_getPrototypeOf(e){return(BringToFrontCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BringToFrontCommandHandler_setPrototypeOf(e,t){return(BringToFrontCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Vn=function(){function BringToFrontCommandHandler(e){return function BringToFrontCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BringToFrontCommandHandler),BringToFrontCommandHandler_possibleConstructorReturn(this,BringToFrontCommandHandler_getPrototypeOf(BringToFrontCommandHandler).call(this,e,g.BringToFront,!0))}return function BringToFrontCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BringToFrontCommandHandler_setPrototypeOf(e,t)}(BringToFrontCommandHandler,Hn),BringToFrontCommandHandler}();function UndoCommandHandler_typeof(e){return(UndoCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UndoCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UndoCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==UndoCommandHandler_typeof(t)&&"function"!=typeof t?function UndoCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function UndoCommandHandler_get(e,t,r){return(UndoCommandHandler_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function UndoCommandHandler_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=UndoCommandHandler_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function UndoCommandHandler_getPrototypeOf(e){return(UndoCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UndoCommandHandler_setPrototypeOf(e,t){return(UndoCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Wn=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},zn=function(){function UndoCommandHandler(e){var t;return function UndoCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UndoCommandHandler),(t=UndoCommandHandler_possibleConstructorReturn(this,UndoCommandHandler_getPrototypeOf(UndoCommandHandler).call(this,g.CommandUndo))).provider=e,t.Status.Available=!0,t.Status.Enabled=!1,t}return function UndoCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UndoCommandHandler_setPrototypeOf(e,t)}(UndoCommandHandler,he),function UndoCommandHandler_createClass(e,t,r){return t&&UndoCommandHandler_defineProperties(e.prototype,t),r&&UndoCommandHandler_defineProperties(e,r),e}(UndoCommandHandler,[{key:"UpdateStatus",value:function UpdateStatus(e){UndoCommandHandler_get(UndoCommandHandler_getPrototypeOf(UndoCommandHandler.prototype),"UpdateStatus",this).call(this,e);var t=this.provider.GetService(I.UndoManager);e.Enabled=t&&t.UndoAvailable}},{key:"Execute",value:function Execute(){return Wn(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:this.provider.GetService(I.UndoManager).Undo();case 2:case"end":return e.stop()}},_callee,this)}))}}]),UndoCommandHandler}();function RedoCommandHandler_typeof(e){return(RedoCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RedoCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RedoCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==RedoCommandHandler_typeof(t)&&"function"!=typeof t?function RedoCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function RedoCommandHandler_get(e,t,r){return(RedoCommandHandler_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function RedoCommandHandler_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=RedoCommandHandler_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function RedoCommandHandler_getPrototypeOf(e){return(RedoCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RedoCommandHandler_setPrototypeOf(e,t){return(RedoCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Fn=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Un=function(){function RedoCommandHandler(e){var t;return function RedoCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RedoCommandHandler),(t=RedoCommandHandler_possibleConstructorReturn(this,RedoCommandHandler_getPrototypeOf(RedoCommandHandler).call(this,g.CommandRedo))).provider=e,t.Status.Available=!0,t.Status.Enabled=!1,t}return function RedoCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RedoCommandHandler_setPrototypeOf(e,t)}(RedoCommandHandler,he),function RedoCommandHandler_createClass(e,t,r){return t&&RedoCommandHandler_defineProperties(e.prototype,t),r&&RedoCommandHandler_defineProperties(e,r),e}(RedoCommandHandler,[{key:"UpdateStatus",value:function UpdateStatus(e){RedoCommandHandler_get(RedoCommandHandler_getPrototypeOf(RedoCommandHandler.prototype),"UpdateStatus",this).call(this,e);var t=this.provider.GetService(I.UndoManager);e.Enabled=t&&t.RedoAvailable}},{key:"Execute",value:function Execute(){return Fn(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:this.provider.GetService(I.UndoManager).Redo();case 2:case"end":return e.stop()}},_callee,this)}))}}]),RedoCommandHandler}();function SaveAsDocumentCommandHandler_typeof(e){return(SaveAsDocumentCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SaveAsDocumentCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SaveAsDocumentCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==SaveAsDocumentCommandHandler_typeof(t)&&"function"!=typeof t?function SaveAsDocumentCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SaveAsDocumentCommandHandler_getPrototypeOf(e){return(SaveAsDocumentCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SaveAsDocumentCommandHandler_setPrototypeOf(e,t){return(SaveAsDocumentCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var $n=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},qn=function(){function SaveAsDocumentCommandHandler(e){var t;return function SaveAsDocumentCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SaveAsDocumentCommandHandler),(t=SaveAsDocumentCommandHandler_possibleConstructorReturn(this,SaveAsDocumentCommandHandler_getPrototypeOf(SaveAsDocumentCommandHandler).call(this,g.DocumentSaveAs))).provider=e,t.Status.Available=!0,t.Status.Enabled=!0,t}return function SaveAsDocumentCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SaveAsDocumentCommandHandler_setPrototypeOf(e,t)}(SaveAsDocumentCommandHandler,he),function SaveAsDocumentCommandHandler_createClass(e,t,r){return t&&SaveAsDocumentCommandHandler_defineProperties(e.prototype,t),r&&SaveAsDocumentCommandHandler_defineProperties(e,r),e}(SaveAsDocumentCommandHandler,[{key:"Execute",value:function Execute(i){return $n(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=i,r=this.provider.GetService(I.IDesignSurfaceManager),e.next=4,r.GetExistingDocumentIds();case 4:if(e.sent.includes(t))return this.provider.GetService(I.Notifications).Error("A report with name '".concat(t,"' already exists.")),e.abrupt("return");e.next=9;break;case 9:return n=JSON.parse(JSON.stringify(r.ActiveDesignSurface.RootComponent.PropertyStore)),o=r.CreateDesignSurface(t),e.next=13,o.CreateDocument(n);case 13:this.provider.GetService(I.TopMenuArea).Update();case 15:case"end":return e.stop()}},_callee,this)}))}}]),SaveAsDocumentCommandHandler}();function CloseDocumentCommandHandler_typeof(e){return(CloseDocumentCommandHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CloseDocumentCommandHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CloseDocumentCommandHandler_possibleConstructorReturn(e,t){return!t||"object"!==CloseDocumentCommandHandler_typeof(t)&&"function"!=typeof t?function CloseDocumentCommandHandler_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CloseDocumentCommandHandler_getPrototypeOf(e){return(CloseDocumentCommandHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CloseDocumentCommandHandler_setPrototypeOf(e,t){return(CloseDocumentCommandHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Jn=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Kn=function(){function CloseDocumentCommandHandler(e){var t;return function CloseDocumentCommandHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CloseDocumentCommandHandler),(t=CloseDocumentCommandHandler_possibleConstructorReturn(this,CloseDocumentCommandHandler_getPrototypeOf(CloseDocumentCommandHandler).call(this,g.DocumentClose))).provider=e,t.Status.Available=!0,t.Status.Enabled=!0,t}return function CloseDocumentCommandHandler_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CloseDocumentCommandHandler_setPrototypeOf(e,t)}(CloseDocumentCommandHandler,he),function CloseDocumentCommandHandler_createClass(e,t,r){return t&&CloseDocumentCommandHandler_defineProperties(e.prototype,t),r&&CloseDocumentCommandHandler_defineProperties(e,r),e}(CloseDocumentCommandHandler,[{key:"Execute",value:function Execute(){return Jn(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:this.provider.GetService(I.IDesignSurfaceManager).DeleteDesignSurface(""),this.provider.GetService(I.TopMenuArea).Update();case 4:case"end":return e.stop()}},_callee,this)}))}}]),CloseDocumentCommandHandler}();function DesignSurfaceManager_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Qn=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Zn=function(){function DesignSurfaceManager(e,t){!function DesignSurfaceManager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DesignSurfaceManager),this.provider=e,this.$placeholder=t,this.registerCommands(),this.designSurfaceCollection=[],this.activeDesignSurface=null,this.webDesignerEventsElement=this.provider.GetService(I.WebDesignerEventsElement),this.activeDesignSurfaceChanging=new Event(y.ActiveDesignSurfaceChanging),this.activeDesignSurfaceChanged=new Event(y.ActiveDesignSurfaceChanged)}return function DesignSurfaceManager_createClass(e,t,r){return t&&DesignSurfaceManager_defineProperties(e.prototype,t),r&&DesignSurfaceManager_defineProperties(e,r),e}(DesignSurfaceManager,[{key:"registerCommands",value:function registerCommands(){var e=this.provider.GetService(I.TargetCommandManager);e.RegisterCommand(new Se(this.provider)),e.RegisterCommand(new Lr(this.provider)),e.RegisterCommand(new Kn(this.provider)),e.RegisterCommand(new en(this.provider)),e.RegisterCommand(new qn(this.provider)),e.RegisterCommand(new rn(this.provider)),e.RegisterCommand(new on(this.provider)),e.RegisterCommand(new qr(this.provider)),e.RegisterCommand(new ke(this.provider)),e.RegisterCommand(new Nr(this.provider)),e.RegisterCommand(new yn(this.provider)),e.RegisterCommand(new we(this.provider)),e.RegisterCommand(new be(this.provider)),e.RegisterCommand(new Ur(this.provider)),e.RegisterCommand(new Oe(this.provider)),e.RegisterCommand(new fn(this.provider)),e.RegisterCommand(new un(this.provider)),e.RegisterCommand(new ln(this.provider)),e.RegisterCommand(new Re(this.provider)),e.RegisterCommand(new Ie(this.provider)),e.RegisterCommand(new Ge(this.provider)),e.RegisterCommand(new je(this.provider)),e.RegisterCommand(new Kr(this.provider)),e.RegisterCommand(new Qr(this.provider)),e.RegisterCommand(new Zr(this.provider)),e.RegisterCommand(new Xr(this.provider)),e.RegisterCommand(new Vn(this.provider)),e.RegisterCommand(new Ln(this.provider)),e.RegisterCommand(new zn(this.provider)),e.RegisterCommand(new Un(this.provider))}},{key:"CreateDesignSurface",value:function CreateDesignSurface(e){var t=this,r=this.findDesignSurface(e);return r?null:(this.hideVisibleDesignSurface(),r=new An(this.provider,this.$placeholder,e),this.designSurfaceCollection.push(r),this.setActiveDesignSurface(r),this.webDesignerEventsElement.addEventListener(y.DesignSurfaceModifiedStateChanged,function(e){t.onReportModifiedStateChanged(e.detail.documentId,e.detail.isModified)}),r)}},{key:"GetDesignSurface",value:function GetDesignSurface(e){return this.findDesignSurface(e)}},{key:"GetExistingDocumentIds",value:function GetExistingDocumentIds(){return Qn(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.StorageService),e.next=3,t.List();case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},_callee,this)}))}},{key:"DeleteDesignSurface",value:function DeleteDesignSurface(e){var t=this,r=0<arguments.length&&void 0!==e?e:"",n=this.findDesignSurface(r)||this.ActiveDesignSurface;if(n)if(n.IsModified){this.provider.GetService(I.Notifications).Warning("'".concat(n.DocumentId,"' has unsaved changes. Please save all changes before closing the report."))}else{n.Delete();var o,i=this.designSurfaceCollection.indexOf(n);if(this.designSurfaceCollection.splice(i,1),0<this.designSurfaceCollection.length)o=i<this.designSurfaceCollection.length-1?this.designSurfaceCollection[i].DocumentId:this.designSurfaceCollection[this.designSurfaceCollection.length-1].DocumentId,this.SwitchDesignSurface(o);else this.activeDesignSurface.SelectionService.SetSelectedComponents([]),this.webDesignerEventsElement.dispatchEvent(this.activeDesignSurfaceChanging),this.activeDesignSurface=null,this.webDesignerEventsElement.dispatchEvent(this.activeDesignSurfaceChanged);this.webDesignerEventsElement.removeEventListener(y.DesignSurfaceModifiedStateChanged,function(e){t.onReportModifiedStateChanged(e.detail.documentId,e.detail.isModified)})}}},{key:"SwitchDesignSurface",value:function SwitchDesignSurface(e){if(e&&e!==this.ActiveDesignSurface.DocumentId){this.webDesignerEventsElement.dispatchEvent(this.activeDesignSurfaceChanging),this.hideVisibleDesignSurface();var t=this.findDesignSurface(e);this.setActiveDesignSurface(t)}}},{key:"hideVisibleDesignSurface",value:function hideVisibleDesignSurface(){var e=this.ActiveDesignSurface;e&&e.Hide()}},{key:"findDesignSurface",value:function findDesignSurface(t){return this.designSurfaceCollection.find(function(e){return e.DocumentId===t})}},{key:"setActiveDesignSurface",value:function setActiveDesignSurface(e){this.componentValidator&&this.componentValidator.Dispose(),(this.activeDesignSurface=e).Show(),this.webDesignerEventsElement.dispatchEvent(this.activeDesignSurfaceChanged),window.TelerikWebReportDesignerDebugMode&&(this.componentValidator=new mn(this.provider,{listenForComponentChanged:!0}))}},{key:"onReportModifiedStateChanged",value:function onReportModifiedStateChanged(){this.provider.GetService(I.TopMenuArea).Update()}},{key:"ActiveDesignSurface",get:function get(){return this.activeDesignSurface}},{key:"GetLoadedReports",get:function get(){var r=[];return $.each(this.designSurfaceCollection,function(e,t){r.push(new kma(t.DocumentId,t.IsModified))}),r}}]),DesignSurfaceManager}();function InstanceFactoryService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Xn=function(){function InstanceFactoryService(e){!function InstanceFactoryService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,InstanceFactoryService),this.provider=e,this.typeInstanceMap=new Map}return function InstanceFactoryService_createClass(e,t,r){return t&&InstanceFactoryService_defineProperties(e.prototype,t),r&&InstanceFactoryService_defineProperties(e,r),e}(InstanceFactoryService,[{key:"CreateInstance",value:function CreateInstance(t,e,r,n){var o=!(3<arguments.length&&void 0!==n)||n,i=null;try{i=new(this.provider.GetService(I.ISchemaService).GetComponentType(t))(e||{},r,this.provider,o)}catch(e){this.provider.GetService(I.Notifications).Error("Could not create instance of '".concat(t,"'."),e)}return i}},{key:"GetInstanceModel",value:function GetInstanceModel(e){if(this.typeInstanceMap.has(e))return this.typeInstanceMap.get(e);var t=this.CreateInstance(e,null,null,!1);return this.typeInstanceMap.set(e,t),t}}]),InstanceFactoryService}();function Ama(e,t,r){!function CommandData_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Ama),this.Modifier=e,this.CommandName=t,this.ExcludedTargetClassNames=r}function KeybindingManager_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Yn=function(){function KeybindingManager(e){!function KeybindingManager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeybindingManager),this.keyCodeMap={9:[new Ama("shiftKey",g.SelectPrevious,[s.ReportExplorer,s.Toolbox]),new Ama(null,g.SelectNext,[s.ReportExplorer,s.Toolbox])],27:[new Ama(null,g.SelectParent,null)],37:[new Ama("shiftKey",g.ShrinkSelectionHorizontally,[s.ReportExplorer]),new Ama(null,g.MoveSelectionLeftSmallStep,[s.ReportExplorer])],38:[new Ama("shiftKey",g.ShrinkSelectionVertically,[s.ReportExplorer]),new Ama(null,g.MoveSelectionUpSmallStep,[s.ReportExplorer])],39:[new Ama("shiftKey",g.GrowSelectionHorizontally,[s.ReportExplorer]),new Ama(null,g.MoveSelectionRightSmallStep,[s.ReportExplorer])],40:[new Ama("shiftKey",g.GrowSelectionVertically,[s.ReportExplorer]),new Ama(null,g.MoveSelectionDownSmallStep,[s.ReportExplorer])],46:[new Ama(null,g.CommandDelete,null)],67:[new Ama("ctrlKey",g.CommandCopy,null)],86:[new Ama("ctrlKey",g.CommandPaste,null)],88:[new Ama("ctrlKey",g.CommandCut,null)],90:[new Ama("ctrlKey",g.CommandUndo,null)],89:[new Ama("ctrlKey",g.CommandRedo,null)]},window.TelerikWebReportDesignerDebugMode&&(this.keyCodeMap[70]=[new Ama("ctrlKey",g.BringToFront,null)],this.keyCodeMap[66]=[new Ama("ctrlKey",g.SendToBack,null)]),this.ignoredKeyDownTypes=["input","textarea","select","button","span"],this.Provider=e}return function KeybindingManager_createClass(e,t,r){return t&&KeybindingManager_defineProperties(e.prototype,t),r&&KeybindingManager_defineProperties(e,r),e}(KeybindingManager,[{key:"IsValidTarget",value:function IsValidTarget(e){var t=null!==e?e.tagName:null,r=this.ignoredKeyDownTypes.includes(t.toLowerCase());return!window.getSelection().toString()&&(!r&&(!!Array.from(e.classList).some(function(e){return e.startsWith(s.WebDesignerClassPrefix)})||!!this.getParentClassNames(e).some(function(e){return e.startsWith(s.WebDesignerClassPrefix)})))}},{key:"GetCommand",value:function GetCommand(e){var t=e.keyCode||e.which,r=this.keyCodeMap[t];if(!r)return null;var n=e.target,o=this.getParentClassNames(n),i=!0,a=!1,s=void 0;try{for(var c,u=r[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value;if(l.ExcludedTargetClassNames){var p=!0,f=!1,d=void 0;try{for(var y,h=l.ExcludedTargetClassNames[Symbol.iterator]();!(p=(y=h.next()).done);p=!0){var m=y.value;if(o.includes(m))return null}}catch(e){f=!0,d=e}finally{try{p||null==h.return||h.return()}finally{if(f)throw d}}}if(!l.Modifier||e[l.Modifier])return l.CommandName}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}return null}},{key:"getParentClassNames",value:function getParentClassNames(e){var t=$(e).parentsUntil(".".concat(s.Designer)),n=[];return t.each(function(){for(var e=0,t=Array.from(this.classList);e<t.length;e++){var r=t[e];n.includes(r)||n.push(r)}}),n}}]),KeybindingManager}();function KeybindingHandler_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var eo=function(){function KeybindingHandler(t){!function KeybindingHandler_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeybindingHandler),$(document).keydown(function(e){KeybindingHandler.evaluateKeyDown(new Yn(t),e)})}return function KeybindingHandler_createClass(e,t,r){return t&&KeybindingHandler_defineProperties(e.prototype,t),r&&KeybindingHandler_defineProperties(e,r),e}(KeybindingHandler,null,[{key:"evaluateKeyDown",value:function evaluateKeyDown(e,t){var r=KeybindingHandler.shouldProcessKey(e,t.originalEvent);if(r){var n=e.Provider.GetService(I.Notifications);t.preventDefault();var o=e.Provider.GetService(I.TargetCommandManager);o?o.TryExecuteCommand(r,{})||n.Error("Could not execute command '".concat(r,"'.")):n.Error("Could not obtain TargetCommandManager.")}}},{key:"shouldProcessKey",value:function shouldProcessKey(e,t){if(e.IsValidTarget(t.target))return e.GetCommand(t)}}]),KeybindingHandler}();function NotificationTypes_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var to=function(){function NotificationTypes(){!function NotificationTypes_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NotificationTypes)}return function NotificationTypes_createClass(e,t,r){return t&&NotificationTypes_defineProperties(e.prototype,t),r&&NotificationTypes_defineProperties(e,r),e}(NotificationTypes,null,[{key:"Error",get:function get(){return"Error"}},{key:"Warning",get:function get(){return"Warning"}},{key:"Info",get:function get(){return"Info"}},{key:"Success",get:function get(){return"Success"}}]),NotificationTypes}();function Notifications_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ro=function(){function Notifications(e,t){!function Notifications_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Notifications),this.$parent=$(e),this.provider=t,this.str=this.provider.GetService(I.WebReportDesignerStrings),this.notificationTimeout=1e4,this.init()}return function Notifications_createClass(e,t,r){return t&&Notifications_defineProperties(e.prototype,t),r&&Notifications_defineProperties(e,r),e}(Notifications,[{key:"notificationTemplate",value:function notificationTemplate(e,t,r){var n=this.str[e]||"",o='<div class="twd-notification -'.concat(e.toLowerCase()," ").concat(r?"-auto-hide":"",'">\n            <span tabindex="0" title="').concat(this.str.Close,'" class="k-icon k-i-close notification__close-button"></span>\n            <p class="notification__title ').concat(n.length?"":"-hide",'">').concat(n,'</p>\n            <div class="notification_content">').concat(t,"</div>\n        </div>");return $($.parseHTML(o))}},{key:"init",value:function init(){var r=this;this.$parent.append(this.template),this.$visualElement=this.$parent.find(".".concat(s.WebDesignerNotifications)),this.$visualElement.off("click").on("click",".notification__close-button",function(e){var t=$(e.target).closest(".twd-notification");r.remove(t)})}},{key:"remove",value:function remove(e){e.remove()}},{key:"hideAfter",value:function hideAfter(t){var r=this;setTimeout(function(e){r.remove(t)},this.notificationTimeout)}},{key:"add",value:function add(e,t,r){var n=this.notificationTemplate(e,t,r);this.$visualElement.append(n),r&&this.hideAfter(n)}},{key:"Error",value:function Error(e,t,r){var n=1<arguments.length&&void 0!==t?t:null,o=2<arguments.length&&void 0!==r&&r;this.add(to.Error,e,o),p.LogError(e,n)}},{key:"Warning",value:function Warning(e,t){var r=!(1<arguments.length&&void 0!==t)||t;this.add(to.Warning,e,r),p.LogWarning(e)}},{key:"Info",value:function Info(e,t){var r=!(1<arguments.length&&void 0!==t)||t;this.add(to.Info,e,r),p.LogInfo(e)}},{key:"Success",value:function Success(e,t){var r=!(1<arguments.length&&void 0!==t)||t;this.add(to.Success,e,r)}},{key:"VisualElement",get:function get(){return this.$visualElement}},{key:"template",get:function get(){return'<div class="'.concat(s.WebDesignerNotifications," ").concat(s.WebDesignerPartsClassName,'"></div>')}}]),Notifications}();function Preferences_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var no=function(){function Preferences(e,t){!function Preferences_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Preferences),this.$parent=e,this.provider=t,this.designSurfaceManager=this.provider.GetService(I.IDesignSurfaceManager),this.str=this.provider.GetService(I.WebReportDesignerStrings);var r=this.provider.GetService(I.WebDesignerOptions);this.reportServerLayout=r.ReportServerLayout,this.isOpen=!1,this.isInitialized=!1,this.behaviorService=null,this.initEventListener()}return function Preferences_createClass(e,t,r){return t&&Preferences_defineProperties(e.prototype,t),r&&Preferences_defineProperties(e,r),e}(Preferences,[{key:"init",value:function init(){if(this.behaviorService=this.provider.GetService(I.BehaviorService),this.behaviorService){this.$parent.append(this.template),this.$visualElement=this.$parent.find(".twd-slide-panel.-preferences");var e=this.$visualElement.find(".twd-expander").kendoPanelBar().data("kendoPanelBar");e.expand($('[data-index^="group"]'),!1),e.select('[data-index="group-snapping"]'),this.initEvents(),this.isInitialized=!0}}},{key:"initEvents",value:function initEvents(){var t=this;this.$visualElement.off("click").on("click",".k-i-close",function(e){t.close()}),this.$visualElement.off("change").on("change","input[type='checkbox']",function(e){t.settingChanged($(e.currentTarget))})}},{key:"initEventListener",value:function initEventListener(){var t=this,e=this.provider.GetService(I.WebDesignerEventsElement);e.addEventListener(y.OpenPreferences,function(e){return t.open()},!1),e.addEventListener(y.SelectionChanged,function(e){return t.close()},!1),e.addEventListener(y.ActiveDesignSurfaceChanged,function(e){return t.dispose()},!1)}},{key:"settingChanged",value:function settingChanged(e){var t=e.prop("checked"),r=e.attr("data-action");this.behaviorService[r]=t}},{key:"dispose",value:function dispose(){var e=this;this.isInitialized&&(this.close(),setTimeout(function(){e.$visualElement.remove(),e.isInitialized=!1},200))}},{key:"open",value:function open(){this.isInitialized||this.init(),this.isOpen||(this.$visualElement.addClass("-open"),this.isOpen=!0)}},{key:"close",value:function close(){this.isOpen&&(this.$visualElement.removeClass("-open"),this.isOpen=!1)}},{key:"categories",get:function get(){return{snapping:{title:this.str.SnappingGroupHeader,items:{snapToGrid:{action:"SnapToGrid",checked:this.behaviorService.SnapToGrid,disabled:!1,title:this.str.SnappToGridLineTitle},snapToLines:{action:"SnapToSnapLines",checked:this.behaviorService.SnapToSnapLines,disabled:!1,title:this.str.SnappToSnapLineTitle}}}}}},{key:"template",get:function get(){return'<div class="twd-slide-panel -preferences">\n                    <div class="twd-editor -header">\n                        <h3 title="this.str.PreferencesHeader">'.concat(this.str.PreferencesHeader,'</h3>\n                        <span class="k-icon k-i-close"></span>\n                    </div>\n                    <div class=\'slide-panel__content k-panelbar\'>\n                        <ul class="twd-expander -no-text-transform">\n                            ').concat(this.categoryTemplate,"\n                        </ul>\n                    </div>\n                </div>")}},{key:"categoryTemplate",get:function get(){var e=this.categories,t="";for(var r in e){var n="",o=e[r];for(var i in o.items){var a=o.items[i];n+='<div class="twd-editor">\n                <input type="checkbox" id="'.concat(i,'" data-action="').concat(a.action,'" class="k-checkbox" ').concat(a.checked?'checked="checked"':""," \n                            ").concat(a.disabled?'disabled="disabled"':"",'>\n                <label class="k-checkbox-label" for="').concat(i,'">').concat(a.title,"</label>\n            </div>")}t+='<li class="expander__items k-group" data-index="group-'.concat(r,'" >\n                    <span class="expander__header">').concat(o.title,'</span>\n                    <div class="twd-editor -expandable">\n                        ').concat(n,"\n                    </div>\n                </li>")}return t}},{key:"VisualElement",get:function get(){return this.$visualElement}},{key:"IsOpen",get:function get(){return this.isOpen}}]),Preferences}();function PreviewArea_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var oo=function(){function PreviewArea(e,t,r){!function PreviewArea_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PreviewArea),this.$visualElement=$(e),this.serviceUrl=t,this.provider=r,this.reportViewer=null}return function PreviewArea_createClass(e,t,r){return t&&PreviewArea_defineProperties(e.prototype,t),r&&PreviewArea_defineProperties(e,r),e}(PreviewArea,[{key:"Show",value:function Show(e){this.reportViewer?this.update(e):this.init(e),this.$visualElement.show()}},{key:"Hide",value:function Hide(){this.$visualElement.hide()}},{key:"init",value:function init(e){this.reportViewer=this.$visualElement.telerik_ReportViewer({serviceUrl:this.serviceUrl,reportSource:{report:e},viewMode:telerikReportViewer.ViewModes.INTERACTIVE,scaleMode:telerikReportViewer.ScaleModes.SPECIFIC,scale:1}).data("telerik_ReportViewer")}},{key:"update",value:function update(e){this.reportViewer.reportSource({report:e})}}]),PreviewArea}();function UIUtils_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var io=function(){function UiUtils(){!function UIUtils_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UiUtils)}return function UIUtils_createClass(e,t,r){return t&&UIUtils_defineProperties(e.prototype,t),r&&UIUtils_defineProperties(e,r),e}(UiUtils,null,[{key:"ClearProperties",value:function ClearProperties(e,t){t.forEach(function(e){return e.Dispose()}),e.empty()}},{key:"RenderPropertyEditors",value:function RenderPropertyEditors(e,t,r,n){var o=3<arguments.length&&void 0!==n?n:null,i=r.GetService(I.ISchemaService),a=[],s=!0,c=!1,u=void 0;try{for(var l,p=t.filter(function(e){return!!e.EditorType})[Symbol.iterator]();!(s=(l=p.next()).done);s=!0){var f=l.value;if(!o||o(f)){var d=i.GetEditorType(f.EditorType,f.Type);d&&a.push(new d(e,f,r))}}}catch(e){c=!0,u=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw u}}return a}}]),UiUtils}();function ToggleButtons_slicedToArray(e,t){return function ToggleButtons_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function ToggleButtons_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function ToggleButtons_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ToggleButtons_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ao=function(){function ToggleButtons(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"none";!function ToggleButtons_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleButtons),this.$parent=e,this.model=r,this.border=n,this.selectedClass="-selected",this.init(t)}return function ToggleButtons_createClass(e,t,r){return t&&ToggleButtons_defineProperties(e.prototype,t),r&&ToggleButtons_defineProperties(e,r),e}(ToggleButtons,[{key:"buttonTemplate",value:function buttonTemplate(e){return'<div title="'.concat(e.Title,'" class="toggle-buttons__button ').concat(e.IsChecked?this.selectedClass:"",'"> \n                        <input type="radio" name="').concat(e.Name,'" value="').concat(e.Value,'" ').concat(e.IsChecked?"checked":"",' />\n                        <span class="k-icon ').concat(e.IconName,' toggle-buttons__icon"></span>\n                    </div>')}},{key:"init",value:function init(r){var n=this;this.$parent.append(this.template),this.$visualElement=this.$parent.find(".twd-toggle-buttons");for(var e=0,t=Array.from(this.model);e<t.length;e++){var o=ToggleButtons_slicedToArray(t[e],2),i=(o[0],o[1]);this.$visualElement.append(this.buttonTemplate(i))}this.$parent.off("change","[type=radio]").on("change","[type=radio]",function(e){var t=$(e.currentTarget);n.updateSelected(t),r(t.val().toString())})}},{key:"updateSelected",value:function updateSelected(e){this.$visualElement.find(".".concat(this.selectedClass)).removeClass(this.selectedClass),e.closest(".toggle-buttons__button").addClass(this.selectedClass)}},{key:"template",get:function get(){return'<div class="twd-toggle-buttons k-widget -'.concat(this.border,'"></div>')}}]),ToggleButtons}();function Jma(e,t,r,n,o){!function ToggleButtonModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Jma),this.IsChecked=e,this.Title=t,this.Name=r,this.IconName=o,this.Value=n}function Kma(e,t){!function MaskPropertyInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Kma),this.AllowedProperty=e,this.MaskedProperties=t}function PropertiesArea_toConsumableArray(e){return function PropertiesArea_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function PropertiesArea_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function PropertiesArea_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function PropertiesArea_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var so=function(){function PropertiesArea(e,t){!function PropertiesArea_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PropertiesArea),this.provider=t,this.$parent=$(e),this.$parent.append(this.template),this.$visualElement=this.$parent.find(".properties__content"),this.$header=null,this.$description=null,this.options=this.provider.GetService(I.WebDesignerOptions),this.editors=[],this.notAllowedEditorNames=[],this.showAlphabetically=this.options.PropertiesArea.Layout,this.$editorsDom=null,this.category={SelectedIndex:null,Expanded:!0},this.search=null,this.init()}return function PropertiesArea_createClass(e,t,r){return t&&PropertiesArea_defineProperties(e.prototype,t),r&&PropertiesArea_defineProperties(e,r),e}(PropertiesArea,[{key:"groupHeaderTemplate",value:function groupHeaderTemplate(e){return'<span class="expander__header">'.concat(e,"</span>")}},{key:"categoryTemplate",value:function categoryTemplate(e){return'<li class="expander__items k-group" data-index="category-'.concat(e,'"></li>')}},{key:"init",value:function init(){var r=this;this.str=this.provider.GetService(I.WebReportDesignerStrings),this.$visualElement.append(this.headerTemplate),this.$header=this.$visualElement.find(".twd-editor h3"),this.initLayoutSwitcher(),this.$visualElement.append("<div class='properties__editors k-panelbar'></div>"),this.$editorsDom=this.$visualElement.find(".properties__editors"),this.$visualElement.append(this.descriptionTemplate),this.$description=this.$visualElement.find(".properties__description");var e=this.provider.GetService(I.WebDesignerEventsElement);e.addEventListener(y.SelectionChanged,function(e){if(r.provider.GetService(I.IDesignSurfaceManager).ActiveDesignSurface){var t=r.provider.GetService(I.SelectionService).GetSelectedComponents();r.update(t)}else r.clear()},!1),e.addEventListener(y.ShowDescription,function(e){r.updateDescription(e.detail)},!1)}},{key:"initLayoutSwitcher",value:function initLayoutSwitcher(){var e=this.provider.GetService(I.WebReportDesignerStrings),t=new Map;t.set(u.ProperiesAreaCategorizedLayout,new Jma(this.showAlphabetically===u.ProperiesAreaCategorizedLayout,e.PropertiesCategorized,"propertiesOrder",u.ProperiesAreaCategorizedLayout,"k-i-categorize")),t.set(u.ProperiesAreaAlphabeticalLayout,new Jma(this.showAlphabetically===u.ProperiesAreaAlphabeticalLayout,e.PropertiesAlphabetical,"propertiesOrder",u.ProperiesAreaAlphabeticalLayout,"k-i-convert-uppercase"));var r=this.$visualElement.find(".twd-editor");new ao(r,this.layoutChanged.bind(this),t,"left")}},{key:"layoutChanged",value:function layoutChanged(e){this.showAlphabetically=e,this.updateEditor(this.currentComponents()),this.options.SaveOption(u.ProperiesAreaLayout,this.showAlphabetically)}},{key:"update",value:function update(e){if(e&&0!==e.length){var t="".concat(e[0].DisplayName||e[0].Name," (").concat(e[0].Type,")"),r="";switch(e.length){case 1:break;case 2:t="".concat(t,", ").concat(e[1].DisplayName||e[1].Name," (").concat(e[1].Type,")");break;default:t="".concat(t,", +").concat(e.length-1," ").concat(this.str.More)}e.forEach(function(e){r="".concat(r,", ").concat(e.DisplayName||e.Name," (").concat(e.Type,")")}),r=r.substring(2),this.$header.html(t).attr("title",r),this.$description.hide(),this.updateEditor(e)}else this.clear()}},{key:"updateDescription",value:function updateDescription(e){e?(this.$description.show(),this.$description.find("h5").html(e.name),this.$description.find("p").html(e.description)):this.$description.hide()}},{key:"clear",value:function clear(){this.$header.html("").attr("title",""),io.ClearProperties(this.$editorsDom,this.editors),this.editors=[]}},{key:"updateEditor",value:function updateEditor(e){io.ClearProperties(this.$editorsDom,this.editors),this.editors=[];var t=this.provider.GetService(I.IPropertyDescriptorWrapperFactory),r=1<e.length?t.CreateMergeableWrappers(e):e[0].BrowsablePropertyWrappers;this.initNotAllowedEditorNames(r),this.showAlphabetically===u.ProperiesAreaAlphabeticalLayout?this.renderAlphabetically(r):this.renderInCategories(r)}},{key:"initNotAllowedEditorNames",value:function initNotAllowedEditorNames(e){var r=this,t=!0,n=!(this.notAllowedEditorNames=[]),o=void 0;try{for(var i,a=function _loop(){var t=i.value;e.find(function(e){return e.Name===t.AllowedProperty})&&e.filter(function(e){return t.MaskedProperties.includes(e.Name)}).length===t.MaskedProperties.length&&(r.notAllowedEditorNames=[].concat(PropertiesArea_toConsumableArray(r.notAllowedEditorNames),PropertiesArea_toConsumableArray(t.MaskedProperties)))},s=PropertiesArea.MaskedPropertyInfos[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){a()}}catch(e){n=!0,o=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw o}}}},{key:"groupByCategory",value:function groupByCategory(e){var r={},t={};return e.forEach(function(e){var t=e.Category||"General";r[t]||(r[t]=[]),r[t].push(e)}),Object.keys(r).sort().forEach(function(e){t[e]=r[e]}),t}},{key:"renderAlphabetically",value:function renderAlphabetically(e){var t=this;this.$editorsDom.append(this.groupWrapperTemplate),this.editors=io.RenderPropertyEditors(this.$editorsDom.find(".twd-editors"),e,this.provider,function(e){return t.CanCreateEditor(e)})}},{key:"renderInCategories",value:function renderInCategories(e){var i=this;this.$editorsDom.append('<ul class="twd-expander"></ul>');var a=this.$visualElement.find(".twd-expander"),t=this.groupByCategory(e);$.each(t,function(e,t){a.append(i.categoryTemplate(e));var r=a.find("[data-index='category-"+e+"']");r.append(i.groupHeaderTemplate(e)),r.append(i.groupWrapperTemplate);var n=r.find(".twd-editors"),o=io.RenderPropertyEditors(n,t,i.provider,function(e){return i.CanCreateEditor(e)});o.length?i.addEditor(o):r.hide()});var r=Object.keys(t)[0],s=a.kendoPanelBar({expandMode:"single",select:function select(e){var t=$(e.item),r=t.attr("data-index"),n=!0;if(void 0===t.attr("data-expanded"))a.find(".expander__items").removeAttr("data-expanded"),t.attr("data-expanded","true");else{var o=t.attr("data-expanded");t.removeAttr("data-expanded"),s.collapse(t,!0),n="false"===o}i.category.SelectedIndex=r,i.category.Expanded=n}}).data("kendoPanelBar"),n=this.category.SelectedIndex?$('[data-index="'+this.category.SelectedIndex+'"]').attr("data-expanded",String(this.category.Expanded)):$('[data-index="category-'+r+'"]').attr("data-expanded","true");this.category.Expanded&&s.expand(n,!1),s.select(n)}},{key:"CanCreateEditor",value:function CanCreateEditor(e){return!this.notAllowedEditorNames.includes(e.Name)}},{key:"addEditor",value:function addEditor(e){var t=this;e.forEach(function(e){t.editors.push(e)})}},{key:"currentComponents",value:function currentComponents(){return this.provider.GetService(I.SelectionService).GetSelectedComponents()}},{key:"template",get:function get(){return'\n            <div class="properties__content"></div>\n        '}},{key:"headerTemplate",get:function get(){return'\n            <div class="twd-editor -header"><h3></h3></div>\n        '}},{key:"descriptionTemplate",get:function get(){return'\n            <div class="properties__description k-widget">\n                <h5></h5>\n                <p></p>\n            </div>\n        '}},{key:"ParentVisualElement",get:function get(){return this.$parent}},{key:"Editors",get:function get(){return this.editors}},{key:"groupWrapperTemplate",get:function get(){return'<div class="twd-editors"></div>'}}],[{key:"MaskedPropertyInfos",get:function get(){return[new Kma(G.Location,[G.Left,G.Top]),new Kma(G.Size,[G.Width,G.Height])]}},{key:"DisabledProperties",get:function get(){return[G.Docking,G.Anchoring,G.Password,G.Source]}}]),PropertiesArea}();function Stack_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var co=function(){function Stack(){!function Stack_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Stack),this.items=[],this.count=0}return function Stack_createClass(e,t,r){return t&&Stack_defineProperties(e.prototype,t),r&&Stack_defineProperties(e,r),e}(Stack,[{key:"GetLength",value:function GetLength(){return this.count}},{key:"Push",value:function Push(e){this.items.push(e),this.count=this.count+1}},{key:"Pop",value:function Pop(){return 0<this.count&&(this.count=this.count-1),this.items.pop()}},{key:"Peek",value:function Peek(){return this.items.slice(-1)[0]}}]),Stack}();function ReportItemVisitor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var uo=function(){function ReportItemVisitor(){!function ReportItemVisitor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportItemVisitor)}return function ReportItemVisitor_createClass(e,t,r){return t&&ReportItemVisitor_defineProperties(e.prototype,t),r&&ReportItemVisitor_defineProperties(e,r),e}(ReportItemVisitor,[{key:"Visit",value:function Visit(e){e&&(e.Accept(this),this.VisitExtension(e))}},{key:"VisitExtension",value:function VisitExtension(e){if(e){var t=!0,r=!1,n=void 0;try{for(var o,i=e.Children[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.Visit(a)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}}},{key:"VisitReport",value:function VisitReport(){}},{key:"VisitReportSectionBase",value:function VisitReportSectionBase(){}},{key:"VisitPageSection",value:function VisitPageSection(e){this.VisitReportSectionBase(e)}},{key:"VisitPageHeaderSection",value:function VisitPageHeaderSection(e){this.VisitPageSection(e)}},{key:"VisitPageFooterSection",value:function VisitPageFooterSection(e){this.VisitPageSection(e)}},{key:"VisitReportSection",value:function VisitReportSection(e){this.VisitReportSectionBase(e)}},{key:"VisitReportHeaderSection",value:function VisitReportHeaderSection(e){this.VisitReportSection(e)}},{key:"VisitReportFooterSection",value:function VisitReportFooterSection(e){this.VisitReportSection(e)}},{key:"VisitGroupSection",value:function VisitGroupSection(e){this.VisitReportSection(e)}},{key:"VisitGroupHeaderSection",value:function VisitGroupHeaderSection(e){this.VisitGroupSection(e)}},{key:"VisitGroupFooterSection",value:function VisitGroupFooterSection(e){this.VisitGroupSection(e)}},{key:"VisitDetailSection",value:function VisitDetailSection(e){this.VisitReportSection(e)}},{key:"VisitTocSection",value:function VisitTocSection(e){this.VisitReportSection(e)}},{key:"VisitReportItem",value:function VisitReportItem(){}},{key:"VisitDataItem",value:function VisitDataItem(e){this.VisitReportItem(e)}},{key:"VisitBarcode",value:function VisitBarcode(e){this.VisitReportItem(e)}},{key:"VisitTable",value:function VisitTable(e){this.VisitDataItem(e)}},{key:"VisitShape",value:function VisitShape(e){this.VisitReportItem(e)}},{key:"VisitSubreport",value:function VisitSubreport(e){this.VisitReportItem(e)}},{key:"VisitPictureBox",value:function VisitPictureBox(e){this.VisitReportItem(e)}},{key:"VisitCheckBox",value:function VisitCheckBox(e){this.VisitReportItem(e)}},{key:"VisitTextBox",value:function VisitTextBox(e){this.VisitReportItem(e)}},{key:"VisitHtmlTextBox",value:function VisitHtmlTextBox(e){this.VisitReportItem(e)}},{key:"VisitPanel",value:function VisitPanel(e){this.VisitReportItem(e)}},{key:"VisitGraph",value:function VisitGraph(e){this.VisitDataItem(e)}},{key:"VisitMap",value:function VisitMap(e){this.VisitDataItem(e)}},{key:"VisitDataSource",value:function VisitDataSource(){}},{key:"VisitTocLevel",value:function VisitTocLevel(){}}]),ReportItemVisitor}();function ReportExplorerVisitor_typeof(e){return(ReportExplorerVisitor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportExplorerVisitor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ReportExplorerVisitor_possibleConstructorReturn(e,t){return!t||"object"!==ReportExplorerVisitor_typeof(t)&&"function"!=typeof t?function ReportExplorerVisitor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportExplorerVisitor_get(e,t,r){return(ReportExplorerVisitor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function ReportExplorerVisitor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ReportExplorerVisitor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function ReportExplorerVisitor_getPrototypeOf(e){return(ReportExplorerVisitor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportExplorerVisitor_setPrototypeOf(e,t){return(ReportExplorerVisitor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var lo=function(){function ReportExplorerVisitor(e){var t;return function ReportExplorerVisitor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportExplorerVisitor),(t=ReportExplorerVisitor_possibleConstructorReturn(this,ReportExplorerVisitor_getPrototypeOf(ReportExplorerVisitor).call(this))).adapter=e,t}return function ReportExplorerVisitor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportExplorerVisitor_setPrototypeOf(e,t)}(ReportExplorerVisitor,uo),function ReportExplorerVisitor_createClass(e,t,r){return t&&ReportExplorerVisitor_defineProperties(e.prototype,t),r&&ReportExplorerVisitor_defineProperties(e,r),e}(ReportExplorerVisitor,[{key:"Visit",value:function Visit(e){if(e){this.adapter.BeginItem();try{ReportExplorerVisitor_get(ReportExplorerVisitor_getPrototypeOf(ReportExplorerVisitor.prototype),"Visit",this).call(this,e)}finally{this.adapter.EndItem()}}}},{key:"VisitExtension",value:function VisitExtension(e){e instanceof ye||e instanceof rt||ReportExplorerVisitor_get(ReportExplorerVisitor_getPrototypeOf(ReportExplorerVisitor.prototype),"VisitExtension",this).call(this,e)}},{key:"VisitReportItem",value:function VisitReportItem(e){this.adapter.FillItem(e)}},{key:"VisitTocLevel",value:function VisitTocLevel(e){this.adapter.FillItem(e)}},{key:"VisitReportSectionBase",value:function VisitReportSectionBase(e){this.adapter.FillItem(e)}},{key:"VisitTable",value:function VisitTable(e){this.adapter.FillTable(e)}},{key:"VisitGraph",value:function VisitGraph(e){this.adapter.FillGraph(e)}},{key:"VisitMap",value:function VisitMap(e){this.adapter.FillMap(e)}},{key:"VisitReport",value:function VisitReport(e){this.adapter.FillReport(e);var t=null,r=e.TocSection;if(r){var n=r.GetProperty(G.Position);t=n.GetValue(r,r.PropertyStore)||n.DefaultValue}this.Visit(e.PageHeaderSection),this.invokeReportHeaderVisit(e.ReportHeaderSection,r,t),this.invokeVisitCollection(ze.Find(e,pe,!1)),this.Visit(e.DetailSection),this.invokeVisitCollection(ze.Find(e,fe,!1)),this.invokeReportFooterVisit(e.ReportFooterSection,r,t),this.Visit(e.PageFooterSection)}},{key:"invokeVisitCollection",value:function invokeVisitCollection(e){if(e)for(var t=0,r=Array.from(e);t<r.length;t++){var n=r[t];this.Visit(n)}}},{key:"invokeReportHeaderVisit",value:function invokeReportHeaderVisit(e,t,r){this.invokeTocConditionalVisit(t,r,le.BeforeReportHeader),this.Visit(e),this.invokeTocConditionalVisit(t,r,le.AfterReportHeader)}},{key:"invokeReportFooterVisit",value:function invokeReportFooterVisit(e,t,r){this.invokeTocConditionalVisit(t,r,le.BeforeReportFooter),this.Visit(e),this.invokeTocConditionalVisit(t,r,le.AfterReportFooter)}},{key:"invokeTocConditionalVisit",value:function invokeTocConditionalVisit(e,t,r){t===r&&this.Visit(e)}}]),ReportExplorerVisitor}();function ReportParameterTypes_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var po=function(){function ReportParameterTypes(){!function ReportParameterTypes_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportParameterTypes)}return function ReportParameterTypes_createClass(e,t,r){return t&&ReportParameterTypes_defineProperties(e.prototype,t),r&&ReportParameterTypes_defineProperties(e,r),e}(ReportParameterTypes,null,[{key:"String",get:function get(){return"String"}},{key:"Integer",get:function get(){return"Integer"}},{key:"Boolean",get:function get(){return"Boolean"}},{key:"DateTime",get:function get(){return"DateTime"}},{key:"Float",get:function get(){return"Float"}}]),ReportParameterTypes}();function ReportTreeViewNodeFactory_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var fo=function(){function ReportTreeViewNodeFactory(e){!function ReportTreeViewNodeFactory_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportTreeViewNodeFactory),this.provider=e,this.sr=this.provider.GetService(I.WebReportDesignerStrings),this.schemaService=this.provider.GetService(I.ISchemaService)}return function ReportTreeViewNodeFactory_createClass(e,t,r){return t&&ReportTreeViewNodeFactory_defineProperties(e.prototype,t),r&&ReportTreeViewNodeFactory_defineProperties(e,r),e}(ReportTreeViewNodeFactory,[{key:"CreateDataSourcesNode",value:function CreateDataSourcesNode(e,t){return new Rt(this.schemaService).CreateDataSourcesNode(e,t,this.sr.DataSources)}},{key:"FillItem",value:function FillItem(e,t){e.fullName=xt.FormatText(t,null,null),e.text=e.fullName,e.spriteCssClass=this.schemaService.GetFullIconClass(t.Type)}},{key:"FillGraph",value:function FillGraph(){}},{key:"FillMap",value:function FillMap(){}},{key:"CreateTableRowGroupsNode",value:function CreateTableRowGroupsNode(e,t){return this.createTableGroupsNode(this.insertDesignerInPath([e.Name,G.RowGroups]),t.RowGroups,xt.FormatFakeNodeText(this.sr.RowGroups))}},{key:"CreateTableColumnGroupsNode",value:function CreateTableColumnGroupsNode(e,t){return this.createTableGroupsNode(this.insertDesignerInPath([e.Name,G.ColumnGroups]),t.ColumnGroups,xt.FormatFakeNodeText(this.sr.ColumnGroups))}},{key:"CreateTableCornerNode",value:function CreateTableCornerNode(e,t){return this.createTableCellContainerNode(this.insertDesignerInPath([e.Name,G.Corner]),t.Corner,xt.FormatFakeNodeText(this.sr.Corner))}},{key:"CreateTableBodyNode",value:function CreateTableBodyNode(e,t){return this.createTableCellContainerNode(this.insertDesignerInPath([e.Name,G.Body]),t.Body,xt.FormatFakeNodeText(this.sr.Body))}},{key:"createTableGroupsNode",value:function createTableGroupsNode(e,t,r){var n=this.schemaService.GetFullIconClass(_.GroupCollection),o=this.schemaService.GetFullIconClass(_.TableGroup),i=new _ja(r,xt.FormatText(null,e,null),n),a=t.Groups;if(a)for(var s=0;s<a.Count;s++){var c=Array.from(e);c.push(G.Groups);var u=a.Get(s),l=this.generateTableGroupNodes(u,c,s,o);i.nodes.push(l)}return i}},{key:"generateTableGroupNodes",value:function generateTableGroupNodes(e,t,r,n){var o=e.PropertyStore[G.Name];o=o||"n/a";var i=xt.FormatText(null,t,r),a=new _ja(o,i,n),s=new _ja;e.ReportItem&&(this.FillItem(s,e.ReportItem),a.nodes.push(s));var c=e.ChildGroups;if(c&&0<c.Count){t.push(r,G.ChildGroups);for(var u=0;u<c.Count;u++){var l=e.ChildGroups.Get(u),p=this.generateTableGroupNodes(l,t,u,n);a.nodes.push(p)}t.splice(t.length-2,2)}return a}},{key:"createTableCellContainerNode",value:function createTableCellContainerNode(e,t,r){var n=this.schemaService.GetFullIconClass(_.CellCollection),o=(this.schemaService.GetFullIconClass(_.TableCell),new _ja(r,xt.FormatText(null,e,null),n));if(t&&t.CellContainer)for(var i=t.CellContainer,a=0,s=Array.from(i.Cells);a<s.length;a++){var c=s[a];new yo(this.provider,null).BuildNode(o,c.ReportItem)}return o}},{key:"CreateReportParametersNode",value:function CreateReportParametersNode(e,t){var r=[t,G.ReportParameters],n=this.schemaService.GetFullIconClass(_.ReportParametersCollection),o=xt.FormatFakeNodeText(this.sr.Parameters),i=new _ja(o,xt.FormatText(null,this.insertDesignerInPath(r),null),n);if(e)for(var a=0;a<e.length;a++){var s=e[a],c=s.PropertyStore.Type||po.String,u=this.schemaService.GetFullIconClass(c),l=new _ja(s.Name,xt.FormatText(null,r,a),u);i.nodes.push(l)}return i}},{key:"CreateStyleSheetNode",value:function CreateStyleSheetNode(e,t){var r=[t,G.StyleSheet],n=this.schemaService.GetFullIconClass(_.StyleSheet),o=this.schemaService.GetFullIconClass(_.StyleRule),i=xt.FormatFakeNodeText(this.sr.Styles),a=new _ja(i,xt.FormatText(null,this.insertDesignerInPath(r),null),n);if(e)for(var s=0;s<e.length;s++){var c=e[s],u=new _ja(xt.FormatText(c,null,null),xt.FormatText(null,r,s),o);a.nodes.push(u)}return a}},{key:"CreateGroupsNode",value:function CreateGroupsNode(e,t){var r=[t,G.Groups],n=this.schemaService.GetFullIconClass(_.GroupCollection),o=this.schemaService.GetFullIconClass(_.Group),i=xt.FormatFakeNodeText(this.sr.Groups),a=new _ja(i,xt.FormatText(null,this.insertDesignerInPath(r),null),n);if(e)for(var s=0;s<e.length;s++){var c=e[s],u=new _ja(xt.FormatText(c,null,null),xt.FormatText(null,r,s),o);a.nodes.push(u)}return a}},{key:"createGroupNode",value:function createGroupNode(e,t,r,n,o){if(e&&e.length>t){var i=e[t],a=new _ja(i.Name,xt.FormatText(i,r,null),n);o.nodes.push(a);var s=Array.from(r);s.push(i.Name),this.createGroupNode(e,++t,s,n,a)}}},{key:"insertDesignerInPath",value:function insertDesignerInPath(e){var t=Array.from(e);return t.splice(1,0,"Designer"),t}},{key:"addChildNodes",value:function addChildNodes(e,t){var r=!0,n=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;e.nodes.push(s)}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}}],[{key:"CreateEmptyReportNode",value:function CreateEmptyReportNode(){return new _ja("","",null)}},{key:"Separator",value:function Separator(){return"->"}}]),ReportTreeViewNodeFactory}();function ReportTreeViewAdapter_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var yo=function(){function ReportTreeViewAdapter(e,t){!function ReportTreeViewAdapter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportTreeViewAdapter),this.provider=e,this.report=t,this.stack=new co}return function ReportTreeViewAdapter_createClass(e,t,r){return t&&ReportTreeViewAdapter_defineProperties(e.prototype,t),r&&ReportTreeViewAdapter_defineProperties(e,r),e}(ReportTreeViewAdapter,[{key:"BuildReportNode",value:function BuildReportNode(){if(!this.report)return fo.CreateEmptyReportNode();var e=this.createNode();return this.BuildNode(e,this.report),e.nodes[0]}},{key:"BuildNode",value:function BuildNode(e,t){this.factory=new fo(this.provider),this.stack.Push(e),new lo(this).Visit(t)}},{key:"createNode",value:function createNode(){return new _ja}},{key:"getCurrentNode",value:function getCurrentNode(){return this.stack.Peek()}},{key:"BeginItem",value:function BeginItem(){var e=this.createNode();this.getCurrentNode().nodes.push(e),this.stack.Push(e)}},{key:"EndItem",value:function EndItem(){this.stack.Pop()}},{key:"FillItem",value:function FillItem(e){this.fillNode(this.getCurrentNode(),e)}},{key:"fillNode",value:function fillNode(e,t){this.factory.FillItem(e,t)}},{key:"FillReport",value:function FillReport(e){var t=this.getCurrentNode();this.fillNode(t,e);var r=t.nodes;r.push(this.factory.CreateDataSourcesNode(e.DataSources,e.Name)),r.push(this.factory.CreateReportParametersNode(e.ReportParameters,e.Name)),r.push(this.factory.CreateStyleSheetNode(e.StyleSheet,e.Name)),r.push(this.factory.CreateGroupsNode(e.Groups,e.Name))}},{key:"FillGraph",value:function FillGraph(e){var t=this.getCurrentNode();this.fillNode(t,e),this.factory.FillGraph(t,e)}},{key:"FillMap",value:function FillMap(e){var t=this.getCurrentNode();this.fillNode(t,e),this.factory.FillMap(t,e)}},{key:"FillTable",value:function FillTable(e){var t=this.getCurrentNode();this.fillNode(t,e);var r=e.Designer;t.nodes.push(this.factory.CreateTableRowGroupsNode(e,r)),t.nodes.push(this.factory.CreateTableColumnGroupsNode(e,r)),t.nodes.push(this.factory.CreateTableCornerNode(e,r)),t.nodes.push(this.factory.CreateTableBodyNode(e,r))}}]),ReportTreeViewAdapter}();function ExplorerTab_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ho=function(){function ExplorerTab(e,t){!function ExplorerTab_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ExplorerTab),this.$parent=$(e),this.provider=t,this.$dom=null,this.$treeViewDom=null,this.search=null,this.contextMenu=null,this.eventNamesForReload=[y.ComponentAdded,y.ComponentRemoved],this.propertyNamesForReload=[G.Name,G.Items,G.DataModel],this.report=null,this.selectedFromTreeView=!1,this.treeNodeHeight=26,this.scrollingCounter=0,this.postponedTryRenderRootComponent=!0,this.ctrlPressed=!1,this.designSurfaceChanging=!1,this.init()}return function ExplorerTab_createClass(e,t,r){return t&&ExplorerTab_defineProperties(e.prototype,t),r&&ExplorerTab_defineProperties(e,r),e}(ExplorerTab,[{key:"init",value:function init(){var r=this,e=$.parseHTML(this.template);this.$parent.append(e),this.$dom=$(e),this.$treeViewDom=this.$dom.find(".tab__treeview"),this.$contextMenuDom=this.$parent.find(".context-menu"),this.treeView=null;var t=this.provider.GetService(I.WebDesignerEventsElement);t.addEventListener(y.ActiveDesignSurfaceChanging,function(){r.designSurfaceChanging=!0}),t.addEventListener(y.ActiveDesignSurfaceChanged,function(e){if(r.designSurfaceChanging=!1,!r.tryRenderRootComponent()){var t=r.provider.GetService(I.DesignSurfaceEventsElement);t&&(t.addEventListener(y.DefinitionLoadComplete,function(e){r.tryRenderRootComponent()},!1),t.addEventListener(y.ComponentChanged,function(e){r.onComponentModified(e)},!1),t.addEventListener(y.ComponentAdded,function(e){r.onComponentModified(e)},!1),t.addEventListener(y.ComponentRemoved,function(e){r.onComponentModified(e)},!1))}})}},{key:"tryRenderRootComponent",value:function tryRenderRootComponent(){this.postponedTryRenderRootComponent=!1;var e=this.provider.GetService(I.IDesignerHost);return e?(e.IsLoaded&&(this.report=e.RootComponent,this.render(this.report)),e.IsLoaded):(this.render(null),!1)}},{key:"render",value:function render(e){var n=this,t=[new yo(this.provider,e).BuildReportNode()],r=new kendo.data.HierarchicalDataSource({data:t,schema:{model:{id:"text",children:"nodes"}}});this.treeView?this.treeView.setDataSource(r):(this.treeView=this.$treeViewDom.kendoTreeView({select:function select(e){n.treeViewSelect(e)},template:kendo.template(this.treeNodeTemplate),dataSource:r}).data("kendoTreeView"),this.attachTreeViewCtrlKeyHandlers(this.treeView),this.attachTreeViewSelectedItemHandlers(this.treeView)),this.removeContextMenuTemplate(),this.contextMenu?this.contextMenu.Update():(this.$treeViewDom.on("mousedown",".k-i-more-horizontal",function(e){var t=$(e.currentTarget).closest(".k-in");t.hasClass("k-state-selected")||(n.treeView.select(t),n.treeView.trigger("select",{node:t}));var r=n.findComponent(t);n.contextMenu.Context(r)}),this.contextMenu=new fr(this.$contextMenuDom,this.provider,".treeview__item >.treeview__menu-handler"),this.contextMenu.Init()),this.scrollingCounter=0,this.treeNodeHeight=this.getTreeNodeHeight(),this.UpdateSelection(this.getInitiallySelectedComponents(e))}},{key:"removeContextMenuTemplate",value:function removeContextMenuTemplate(){for(var e=this.treeView.element.find("li"),t=0;t<e.length;t++){var r=e[t],n=this.findComponent(r);n&&!(n instanceof k)&&n.Designer||$(r).find("> div .treeview__menu-handler").remove()}}},{key:"findComponent",value:function findComponent(e){var t=this.treeView.dataItem(e);return t?this.resolveNodeObject(t.fullName):null}},{key:"attachTreeViewCtrlKeyHandlers",value:function attachTreeViewCtrlKeyHandlers(e){var t=this;e.wrapper.on("keydown",function(e){17==e.which&&(t.ctrlPressed=!0)}).on("keyup",function(e){17==e.which&&(t.ctrlPressed=!1)})}},{key:"attachTreeViewSelectedItemHandlers",value:function attachTreeViewSelectedItemHandlers(e){var i=this;e.wrapper.on("click",".k-state-selected",function(e){var t,r=$(e.currentTarget).closest("li"),n=i.getSelectedTreeNodes().closest("li"),o=[];for(e.stopPropagation(),e.preventDefault(),t=0;t<n.length;t++)o.push(n[t]);1<n.length&&(i.ctrlPressed?i.removeSingleNode(r[0],o):i.updateSelection([r[0]]))})}},{key:"removeSingleNode",value:function removeSingleNode(e,t){var r=t.indexOf(e);t.splice(r,1),this.updateSelection(t)}},{key:"getInitiallySelectedComponents",value:function getInitiallySelectedComponents(e){var t=this.provider.GetService(I.SelectionService);if(t){var r=t.GetSelectedComponents();if(r&&0<r.length)return r}return[e]}},{key:"getTreeNodeHeight",value:function getTreeNodeHeight(){try{if(this.treeView&&this.treeView.dataSource&&0<this.treeView.dataSource.data().length)return $(this.treeView.wrapper).find("div.k-top").first()[0].getBoundingClientRect().height}catch(e){return this.treeNodeHeight}}},{key:"onComponentModified",value:function onComponentModified(e){if(this.shouldReloadTreeView(e))if(this.provider.GetService(I.IDesignerHost).InTransaction){if(!this.postponedTryRenderRootComponent){this.postponedTryRenderRootComponent=!0,this.provider.GetService(I.DesignSurfaceEventsElement).addEventListener(y.TransactionClosed,this.tryRenderRootComponent.bind(this),{once:!0,capture:!1}),this.contextMenu.Close()}}else this.tryRenderRootComponent()}},{key:"shouldReloadTreeView",value:function shouldReloadTreeView(e){if(!e)return!1;if(this.eventNamesForReload.includes(e.type))return!0;var t=e.detail.propertyDescriptor;return!!t&&this.propertyNamesForReload.includes(t.Name)}},{key:"UpdateSelection",value:function UpdateSelection(e){if(!this.designSurfaceChanging&&this.treeView&&e&&0!==e.length&&null!==e[0]){this.contextMenu.Close();var t=[],r=Number.MAX_SAFE_INTEGER,n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value,u=this.treeView.dataSource.get(c.Name);if(u){var l=this.treeView.findByUid(u.uid);if(l.length){var p=l[0].getBoundingClientRect();p.top<r&&(r=p.top),t.push(l[0])}}}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}this.setTreeNodesSelectedState(t),!this.selectedFromTreeView&&r<Number.MAX_SAFE_INTEGER&&this.scrollToSelectedNode(r)}}},{key:"setTreeNodesSelectedState",value:function setTreeNodesSelectedState(e){if(this.treeView){for(;0<this.treeView.select().length;)this.treeView.select($());var t=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;$(a).find(">div .k-in").addClass("k-state-selected")}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}}},{key:"getSelectedTreeNodes",value:function getSelectedTreeNodes(){return this.treeView.element.find("span.k-state-selected")}},{key:"scrollToSelectedNode",value:function scrollToSelectedNode(o){var i=this;this.scrollingCounter=this.scrollingCounter+1,setTimeout(function(e){if(i.scrollingCounter=i.scrollingCounter-1,!(0<i.scrollingCounter)){var t=i.treeView.wrapper;if(t.length){var r=t[0].getBoundingClientRect().top,n=t.scrollTop()-r+o-2*i.treeNodeHeight;t.stop(!0,!0).animate({scrollTop:n},200,"linear")}}},300)}},{key:"treeViewSelect",value:function treeViewSelect(e){if(e.node){var t=this.getSelectedNodes(e);t.push(e.node),this.updateSelection(t)}}},{key:"updateSelection",value:function updateSelection(e){this.tryUpdateDesignerSelection(e)||this.setTreeNodesSelectedState(e)}},{key:"getSelectedNodes",value:function getSelectedNodes(e){var t=[];if(this.ctrlPressed){var r,n=this.getSelectedTreeNodes().closest("li");for(r=0;r<n.length;r++)t.push(n[r]);e.preventDefault()}return t}},{key:"tryUpdateDesignerSelection",value:function tryUpdateDesignerSelection(e){var t=this.getNodesComponentNames(e),r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value,u=this.resolveNodeObject(c);if(!(u&&u instanceof S))return!1;r.push(u)}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}var l=this.provider.GetService(I.SelectionService);if(l){if(p.AreEqualArrays(l.GetSelectedComponents(),r))return!1;try{this.selectedFromTreeView=!0,l.SetSelectedComponents(r)}finally{this.selectedFromTreeView=!1}return!0}}},{key:"getNodesComponentNames",value:function getNodesComponentNames(e){var t=this;return e.map(function(e){return t.treeView.dataItem(e).fullName})}},{key:"resolveNodeObject",value:function resolveNodeObject(e){if(!e||!this.report)return null;var t=ze.FindByName(this.report,e,!0);if(!t)for(var r=e.split(fo.Separator()),n=ze.FindByName(this.report,r[0],!0),o=1;o<r.length;o++){var i=r[o];if(!(t=n[i])&&p.IsIterable(n)){var a=parseInt(i);isNaN(a)||(t=ze.GetFromCollection(n,a))}if(!t)break;n=t}return t}},{key:"template",get:function get(){return'<div class="twd-tab '.concat(s.ReportExplorer,'"><ul class=\'tab__treeview\'></ul></div><div class="context-menu"></div>')}},{key:"treeNodeTemplate",get:function get(){return"<span class='treeview__item'>\n                    <span class='treeview__text'>#= item.text #</span>\n                    <span class='treeview__menu-handler'>\n                        <span class='k-icon k-i-more-horizontal'></span>\n                    </span>\n                </span>"}},{key:"selectedComponent",get:function get(){var e=this.getSelectedTreeNodes(),t=this.treeView.dataItem(e[0]);return t?this.resolveNodeObject(t.fullName):null}}]),ExplorerTab}();function Tabs_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var mo=function(){function Tabs(e,t,r){!function Tabs_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Tabs),this.$parent=$(e),this.provider=t,this.tabs=r,this.editors=[],this.tabStrip=null,this.$tabDom=null,this.init()}return function Tabs_createClass(e,t,r){return t&&Tabs_defineProperties(e.prototype,t),r&&Tabs_defineProperties(e,r),e}(Tabs,[{key:"tabHeadertemplate",value:function tabHeadertemplate(e,t){return'<li class="'.concat(t?"k-state-active":"",' tabs_header-item">').concat(e,"</div>")}},{key:"init",value:function init(){var t=this,e=$.parseHTML(this.template);this.$parent.append(e),this.$tabDom=$(e),this.$tabDom.append("<ul class='tabs__header'></ul>");for(var r=this.$tabDom.find(".tabs__header"),n=0;n<this.tabs.length;n++){var o=this.tabs[n],i=0===n||!1;r.append(this.tabHeadertemplate(o.title,i));var a=new o.editor(this.$tabDom,this.provider);this.editors.push(a)}this.tabStrip=this.$tabDom.kendoTabStrip({activate:function activate(e){t.onTabActivate(e)}}).data("kendoTabStrip"),this.tabStrip.select(1)}},{key:"UpdateActiveTab",value:function UpdateActiveTab(e){var t=this.tabStrip.select();t&&this.updateTab(t.index(),e)}},{key:"onTabActivate",value:function onTabActivate(e){var t=this.provider.GetService(I.SelectionService);if(t){var r=t.GetSelectedComponents();this.updateTab($(e.item).index(),r)}}},{key:"updateTab",value:function updateTab(e,t){-1<e&&e<this.editors.length&&this.editors[e].UpdateSelection(t)}},{key:"template",get:function get(){return'<div class="twd-tabs"></div>'}}]),Tabs}();function ToolboxItem_typeof(e){return(ToolboxItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ToolboxItem_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToolboxItem_possibleConstructorReturn(e,t){return!t||"object"!==ToolboxItem_typeof(t)&&"function"!=typeof t?function ToolboxItem_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ToolboxItem_get(e,t,r){return(ToolboxItem_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function ToolboxItem_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ToolboxItem_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function ToolboxItem_getPrototypeOf(e){return(ToolboxItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ToolboxItem_setPrototypeOf(e,t){return(ToolboxItem_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var go=function(){function ToolboxItem(e,t,r,n){var o;return function ToolboxItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToolboxItem),(o=ToolboxItem_possibleConstructorReturn(this,ToolboxItem_getPrototypeOf(ToolboxItem).call(this,g.ItemNew,t))).viewModel=r,o.$parent=$(e),o.path=n,o.$dom=null,o.init(),o}return function ToolboxItem_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ToolboxItem_setPrototypeOf(e,t)}(ToolboxItem,or),function ToolboxItem_createClass(e,t,r){return t&&ToolboxItem_defineProperties(e.prototype,t),r&&ToolboxItem_defineProperties(e,r),e}(ToolboxItem,[{key:"UpdateStatus",value:function UpdateStatus(){ToolboxItem_get(ToolboxItem_getPrototypeOf(ToolboxItem.prototype),"UpdateStatus",this).call(this,this.viewModel.Type)}},{key:"UpdateStatusCore",value:function UpdateStatusCore(e){this.Enabled=e.Enabled,this.ToggleDisabled()}},{key:"ToggleDisabled",value:function ToggleDisabled(){this.$dom.toggleClass("disabled",!this.Enabled)}},{key:"init",value:function init(){this.$parent.append(this.template),this.$dom=this.$parent.find("[component-name="+this.viewModel.ComponentName+"]"),this.ToggleDisabled(),this.initEvent()}},{key:"initEvent",value:function initEvent(){var r=this;this.$dom.off("click").on("click",function(e){var t=$(e.currentTarget).attr("component-name");r.Execute(t)}).off("keydown").on("keydown",function(e){if(13===e.which){var t=$(e.currentTarget).attr("component-name");r.Execute(t)}}).off("mouseenter mouseleave").on("mouseenter mouseleave",function(e){$(e.currentTarget).toggleClass("k-state-hover")}).off("focus blur").on("focus blur",function(e){$(e.currentTarget).toggleClass("k-state-focused")})}},{key:"Dom",get:function get(){return this.$dom}},{key:"template",get:function get(){return'<div tabindex="0" \n                    class="expander__item k-link k-widget"\n                    title="'.concat(this.viewModel.Title,'"\n                    aria-label="').concat(this.viewModel.Title,'"\n                    component-name="').concat(this.viewModel.ComponentName,'">\n            <span class="k-icon ').concat(this.viewModel.IconName,' expander__icon"></span>\n            <span>').concat(this.viewModel.Title,"</span>\n        </div>")}}]),ToolboxItem}();function ToolboxMapper_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var vo=function(){function ToolboxMapper(){!function ToolboxMapper_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToolboxMapper)}return function ToolboxMapper_createClass(e,t,r){return t&&ToolboxMapper_defineProperties(e.prototype,t),r&&ToolboxMapper_defineProperties(e,r),e}(ToolboxMapper,null,[{key:"Toolbox",value:function Toolbox(e){var t=e.GetService(I.WebReportDesignerStrings),r=e.GetService(I.ISchemaService);return{0:{GroupName:t.ReportItemsGroupTitle,Items:{0:{NetType:_.TextBox,Title:t.TextBox,IconName:r.GetIconClass(_.TextBox),ComponentName:_.TextBox},1:{NetType:_.HtmlTextBox,Title:t.HtmlTextBox,IconName:r.GetIconClass(_.HtmlTextBox),ComponentName:_.HtmlTextBox},2:{NetType:_.PictureBox,Title:t.PictureBox,IconName:r.GetIconClass(_.PictureBox),ComponentName:_.PictureBox},3:{NetType:_.CheckBox,Title:t.CheckBox,IconName:r.GetIconClass(_.CheckBox),ComponentName:_.CheckBox},4:{NetType:_.Barcode,Title:t.Barcode,IconName:r.GetIconClass(_.Barcode),ComponentName:_.Barcode},5:{NetType:_.Shape,Title:t.Shape,IconName:r.GetIconClass(_.Shape),ComponentName:_.Shape},6:{NetType:_.Panel,Title:t.Panel,IconName:r.GetIconClass(_.Panel),ComponentName:_.Panel}}},1:{GroupName:t.TablesGroupTitle,Items:{0:{NetType:_.List,Title:t.List,IconName:r.GetIconClass(_.List),ComponentName:_.List},1:{NetType:_.Table,Title:t.Table,IconName:r.GetIconClass(_.Table),ComponentName:_.Table},2:{NetType:_.Crosstab,Title:t.Crosstab,IconName:r.GetIconClass(_.Crosstab),ComponentName:_.Crosstab},3:{NetType:nt.TableWizard,Title:t.TableWizard,IconName:r.GetIconClass(_.TableWizard),ComponentName:nt.TableWizard},4:{NetType:nt.CrosstabWizard,Title:t.CrosstabWizard,IconName:r.GetIconClass(_.CrosstabWizard),ComponentName:nt.CrosstabWizard}}},2:{GroupName:t.ReportsGroupTitle,Items:{0:{NetType:_.SubReport,Title:t.SubReport,IconName:r.GetIconClass(_.SubReport),ComponentName:_.SubReport}}},3:{GroupName:t.MapsGroupTitle,Items:{0:{NetType:_.Map,Title:t.Map,IconName:r.GetIconClass(_.Map),ComponentName:_.Map},1:{NetType:_.Map,Title:t.Choropleth,IconName:r.GetIconClass(_.Choropleth),ComponentName:_.Map}}},4:{GroupName:t.ChartsGroupTitle,Items:{0:{NetType:_.Graph,Title:t.Graph,IconName:r.GetIconClass(_.Graph),ComponentName:_.Graph}}},5:{GroupName:t.SectionsGroupTitle,Items:{0:{NetType:_.PageHeaderSection,Title:t.PageHeaderSection,IconName:r.GetIconClass(_.PageHeaderSection),ComponentName:_.PageHeaderSection},1:{NetType:_.PageFooterSection,Title:t.PageFooterSection,IconName:r.GetIconClass(_.PageFooterSection),ComponentName:_.PageFooterSection},2:{NetType:_.ReportHeaderSection,Title:t.ReportHeaderSection,IconName:r.GetIconClass(_.ReportHeaderSection),ComponentName:_.ReportHeaderSection},3:{NetType:_.ReportFooterSection,Title:t.ReportFooterSection,IconName:r.GetIconClass(_.ReportFooterSection),ComponentName:_.ReportFooterSection},4:{NetType:_.TocSection,Title:t.TocSection,IconName:r.GetIconClass(_.TocSection),ComponentName:_.TocSection}}},6:{GroupName:t.DataSourcesGroupTitle,Items:{0:{NetType:_.SqlDataSource,Title:t.SqlDataSource,IconName:r.GetIconClass(_.SqlDataSource),ComponentName:nt.SqlDataSourceWizard},1:{NetType:_.CsvDataSource,Title:t.CsvDataSource,IconName:r.GetIconClass(_.CsvDataSource),ComponentName:_.CsvDataSource},2:{NetType:_.WebServiceDataSource,Title:t.WebServiceDataSource,IconName:r.GetIconClass(_.WebServiceDataSource),ComponentName:_.WebServiceDataSource},3:{NetType:_.JsonDataSource,Title:t.JsonDataSource,IconName:r.GetIconClass(_.JsonDataSource),ComponentName:_.JsonDataSource}}}}}}]),ToolboxMapper}();function ToolboxTab_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var bo=function(){function ToolboxTab(e,t){!function ToolboxTab_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToolboxTab),this.$parant=e,this.provider=t,this.options=this.provider.GetService(I.WebDesignerOptions),this.$parent=$(e),this.tools=vo.Toolbox(t),this.layout=this.options.ToolboxArea.Layout,this.init()}return function ToolboxTab_createClass(e,t,r){return t&&ToolboxTab_defineProperties(e.prototype,t),r&&ToolboxTab_defineProperties(e,r),e}(ToolboxTab,[{key:"init",value:function init(){this.str=this.provider.GetService(I.WebReportDesignerStrings),this.$parent.append(this.template),this.$toolsWrapper=this.$parent.find(".twd-expander"),this.initLayoutSwitcher(),this.layoutChanged(this.layout),this.renderTools(this.$toolsWrapper),this.$toolsWrapper.kendoPanelBar({expandMode:"MULTIPLE"}).data("kendoPanelBar").expand($('[data-index^="group"]'),!1)}},{key:"initLayoutSwitcher",value:function initLayoutSwitcher(){var e=new Map;e.set(u.ProperiesAreaCategorizedLayout,new Jma("list"===this.layout,this.str.ComponetsItemsList,"componentsLayout","list","k-i-grid-layout")),e.set(u.ProperiesAreaAlphabeticalLayout,new Jma("grid"===this.layout,this.str.ComponetsItemsGrid,"componentsLayout","grid","k-i-grid"));var t=this.$parent.find(".toolbox__header");new ao(t,this.layoutChanged.bind(this),e,"none")}},{key:"layoutChanged",value:function layoutChanged(e){this.$parent.find(".twd-expander").removeClass("-"+this.layout).addClass("-"+e),this.layout=e,this.options.SaveOption(u.ToolboxAreaLayout,this.layout)}},{key:"toolGroupHeaderTemplate",value:function toolGroupHeaderTemplate(e){return'<span class="expander__header">'.concat(e,"</span>")}},{key:"renderToolsTemplate",value:function renderToolsTemplate(e){return'<li class="expander__items k-group" data-index="group-'.concat(e,'"></li>')}},{key:"renderTools",value:function renderTools(e){var t=this.tools;for(var r in t){var n=e;if(t[r].hasOwnProperty("GroupName")){var o=this.renderToolsTemplate(r);this.addTemplate(e,o),n=e.find("[data-index='group-"+r+"']");var i=this.toolGroupHeaderTemplate(t[r].GroupName);this.addTemplate(n,i)}if(t[r].hasOwnProperty(G.Items)){var a=t[r].Items;this.addTemplate(n,"<div class='k-item k-state-default expander__content'></div>");var s=n.find("div");for(var c in a)if(a[c].hasOwnProperty("ComponentName")){var u="["+r+"].Items["+c+"]";new go(s,this.provider,t[r].Items[c],u)}}}}},{key:"addTemplate",value:function addTemplate(e,t){e.append(t)}},{key:"UpdateSelection",value:function UpdateSelection(){}},{key:"template",get:function get(){return'<div class="twd-tab -components">\n            <div class="toolbox__header">\n            </div>\n            <ul class="twd-expander"></ul>\n        </div>'}}]),ToolboxTab}();function ToolboxArea_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _o=function(){function ToolboxArea(e,t){!function ToolboxArea_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToolboxArea),this.provider=t,this.$placeholder=$(e),this.init()}return function ToolboxArea_createClass(e,t,r){return t&&ToolboxArea_defineProperties(e.prototype,t),r&&ToolboxArea_defineProperties(e,r),e}(ToolboxArea,[{key:"init",value:function init(){var r=this;this.str=this.provider.GetService(I.WebReportDesignerStrings),this.tabs=new mo(this.$placeholder,this.provider,[{title:this.str.ToolboxAreaTitle,editor:bo},{title:this.str.ExplorerTitle,editor:ho}]),this.provider.GetService(I.WebDesignerEventsElement).addEventListener(y.SelectionChanged,function(e){if(r.provider.GetService(I.IDesignSurfaceManager).ActiveDesignSurface){var t=r.provider.GetService(I.SelectionService).GetSelectedComponents();r.tabs.UpdateActiveTab(t)}},!1)}}]),ToolboxArea}();function RedoCommand_typeof(e){return(RedoCommand_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RedoCommand_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RedoCommand_possibleConstructorReturn(e,t){return!t||"object"!==RedoCommand_typeof(t)&&"function"!=typeof t?function RedoCommand_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function RedoCommand_getPrototypeOf(e){return(RedoCommand_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RedoCommand_setPrototypeOf(e,t){return(RedoCommand_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var So=function(){function RedoCommand(e,t){return function RedoCommand_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RedoCommand),RedoCommand_possibleConstructorReturn(this,RedoCommand_getPrototypeOf(RedoCommand).call(this,e,g.CommandRedo,t))}return function RedoCommand_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RedoCommand_setPrototypeOf(e,t)}(RedoCommand,ir),function RedoCommand_createClass(e,t,r){return t&&RedoCommand_defineProperties(e.prototype,t),r&&RedoCommand_defineProperties(e,r),e}(RedoCommand,[{key:"InitControl",value:function InitControl(){this.visualControl=this.VisualElement.kendoButton({icon:"redo",enable:this.Enabled}).data("kendoButton")}}]),RedoCommand}();function UndoCommand_typeof(e){return(UndoCommand_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UndoCommand_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UndoCommand_possibleConstructorReturn(e,t){return!t||"object"!==UndoCommand_typeof(t)&&"function"!=typeof t?function UndoCommand_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function UndoCommand_getPrototypeOf(e){return(UndoCommand_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UndoCommand_setPrototypeOf(e,t){return(UndoCommand_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Co=function(){function UndoCommand(e,t){return function UndoCommand_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UndoCommand),UndoCommand_possibleConstructorReturn(this,UndoCommand_getPrototypeOf(UndoCommand).call(this,e,g.CommandUndo,t))}return function UndoCommand_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UndoCommand_setPrototypeOf(e,t)}(UndoCommand,ir),function UndoCommand_createClass(e,t,r){return t&&UndoCommand_defineProperties(e.prototype,t),r&&UndoCommand_defineProperties(e,r),e}(UndoCommand,[{key:"InitControl",value:function InitControl(){this.visualControl=this.VisualElement.kendoButton({icon:"undo",enable:this.Enabled}).data("kendoButton")}}]),UndoCommand}();function MainMenuCommandNames_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Po=function(){function MainMenuCommandNames(){!function MainMenuCommandNames_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MainMenuCommandNames)}return function MainMenuCommandNames_createClass(e,t,r){return t&&MainMenuCommandNames_defineProperties(e.prototype,t),r&&MainMenuCommandNames_defineProperties(e,r),e}(MainMenuCommandNames,null,[{key:"DocumentCreateNew",get:function get(){return"documentNew"}},{key:"DocumentSaveAs",get:function get(){return"documentSaveAs"}},{key:"Cancel",get:function get(){return"cancel"}},{key:"WorkSpace",get:function get(){return"workSpace"}},{key:"DocumentSave",get:function get(){return"documentSave"}},{key:"Save",get:function get(){return"save"}},{key:"SaveAs",get:function get(){return"saveAs"}},{key:"Close",get:function get(){return"close"}},{key:"Open",get:function get(){return"open"}},{key:"Publish",get:function get(){return"publish"}},{key:"Revert",get:function get(){return"revert"}}]),MainMenuCommandNames}();function MainMenu_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var wo=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Oo=function(){function MainMenu(e,t){!function MainMenu_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MainMenu),this.$parent=e,this.provider=t,this.$visualElement=$(e),this.$loadedReportsList=null,this.designSurfaceManager=this.provider.GetService(I.IDesignSurfaceManager),this.webDesignerEventsElement=this.provider.GetService(I.WebDesignerEventsElement),this.str=this.provider.GetService(I.WebReportDesignerStrings);var r=this.provider.GetService(I.WebDesignerOptions);this.reportServerLayout=r.ReportServerLayout,this.removeListener=!1,this.createViewModel=null,this.saveAsViewModel=null,this.createPopUp=null,this.duplicatePopUp=null,this.kendoMenuWidget=null,this.disableItems=!1,this.documentSaveCommand=new or(g.DocumentSave,this.provider),this.documentCloseCommand=new or(g.DocumentClose,this.provider),this.openCommand=new or(g.DocumentOpen,this.provider),this.publishCommand=new or(g.DocumentPublish,this.provider),this.revertCommand=new or(g.DocumentRevert,this.provider),this.documentSaveAsCommand=new or(g.DocumentSaveAs,this.provider),this.createCommand=new or(g.DocumentCreate,this.provider),this.openPreferences=new Event(y.OpenPreferences),this.init()}return function MainMenu_createClass(e,t,r){return t&&MainMenu_defineProperties(e.prototype,t),r&&MainMenu_defineProperties(e,r),e}(MainMenu,[{key:"itemTemplate",value:function itemTemplate(e){return'<li data-action="'.concat(e.Name,'" class="main-menu__item k-widget ').concat(e.ClassName?e.ClassName:"",'">\n                    <span>').concat(e.Title,"</span>\n                    <span>").concat(e.ShortCut,"</span>\n                </li>")}},{key:"subItemTemplate",value:function subItemTemplate(e,t){return'<li data-action="'.concat(t,'" data-document-id="').concat(e,'" class="main-menu__item">\n                    <span>').concat(e,"</span>\n                </li>")}},{key:"VisualElement",value:function VisualElement(){return this.$visualElement}},{key:"Enable",value:function Enable(e){this.kendoMenuWidget.enable(".main-menu__item.-first",e)}},{key:"init",value:function init(){return wo(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r=this;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.template,this.$parent.prepend(t),this.$visualElement=this.$parent.find(".twd-main-menu"),e.next=5,this.initMenu();case 5:this.webDesignerEventsElement.addEventListener(y.ActiveDesignSurfaceChanged,function(e){return r.updateMenuItemsState()},!1);case 6:case"end":return e.stop()}},_callee,this)}))}},{key:"initMenu",value:function initMenu(){return wo(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r,n,o,i=this;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$visualElement.find("li > ul"),e.next=3,this.menuItems();case 3:r=e.sent,e.t0=regeneratorRuntime.keys(r);case 5:if((e.t1=e.t0()).done){e.next=14;break}if(n=e.t1.value,(o=r[n]).Visible){e.next=10;break}return e.abrupt("continue",5);case 10:t.append(this.itemTemplate(o)),o.SubMenu&&this[o.SubMenu](t.find("> li").last(),o),e.next=5;break;case 14:this.kendoMenuWidget=this.$visualElement.find(".main-menu__wrapper").kendoMenu({select:function select(e){i.executeAction(e,$(e.item))},openOnClick:{rootMenuItems:!0}}).data("kendoMenu");case 15:case"end":return e.stop()}},_callee2,this)}))}},{key:"menuItems",value:function menuItems(){return wo(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDocumentIds();case 2:return t=e.sent,r=[new Kka(Po.DocumentCreateNew,this.str.NewButton,"",!this.reportServerLayout),new Kka(Po.Open,this.str.OpenButton,"",!this.reportServerLayout,"","initSubMenu",t),new Kka(Po.DocumentSave,this.str.SaveButton,"",!0,"-border-top"),new Kka(Po.DocumentSaveAs,this.str.SaveAsButton,"",!this.reportServerLayout,"-border-bottom"),new Kka(Po.Publish,this.str.PublishButton,"",!!this.reportServerLayout),new Kka(Po.Revert,this.str.RevertButton,"",!!this.reportServerLayout,"-border-bottom"),new Kka(Po.Close,this.str.CloseButton,"",!this.reportServerLayout),new Kka(Po.WorkSpace,this.str.Workspace,"",!0,"-border-top")],e.abrupt("return",r);case 5:case"end":return e.stop()}},_callee3,this)}))}},{key:"getDocumentIds",value:function getDocumentIds(){return wo(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.provider.GetService(I.WebDesignerOptions),r=[],t.ReportServerLayout){e.next=6;break}return e.next=5,this.designSurfaceManager.GetExistingDocumentIds();case 5:r=e.sent;case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},_callee4,this)}))}},{key:"initSubMenu",value:function initSubMenu(e,t){e.append(this.menuTemplate);var r=e.find("ul");for(var n in t.Items){var o=t.Items[n];r.append(this.subItemTemplate(o,t.Name))}}},{key:"updateMenuItemsState",value:function updateMenuItemsState(){this.designSurfaceManager.ActiveDesignSurface?this.disableItems&&(this.enableItems(!0),this.disableItems=!1):(this.enableItems(!1),this.disableItems=!0)}},{key:"enableItems",value:function enableItems(e){this.reportServerLayout||(this.kendoMenuWidget.enable('[data-action="'.concat(Po.DocumentSaveAs,'"]'),e),this.kendoMenuWidget.enable('[data-action="'.concat(Po.Close,'"]'),e),this.kendoMenuWidget.enable('[data-action="'.concat(Po.WorkSpace,'"]'),e)),this.kendoMenuWidget.enable('[data-action="'.concat(Po.DocumentSave,'"]'),e)}},{key:"popUpTemplate",value:function popUpTemplate(e){return'<div class="'.concat(s.ModalWindowClasses,'">\n                    <div class="twd-editors">\n                        <div class="twd-editor -input -top-label">\n                            <label class="editor__content">\n                                <span class="editor__name" title="').concat(this.str.NewReporFileName,'">').concat(this.str.NewReporFileName,'</span>\n                                <input type="text" data-bind="value: newDocumentName" value="newDocumentName" class="k-textbox editor__value" />\n                            </label>\n                        </div>\n                        <div class="twd-editor -enum -top-label">\n                            <label class="editor__content">\n                                <span class="editor__name" title="').concat(this.str.NewReporFileType,'">').concat(this.str.NewReporFileType,'</span>\n                                <input class="editor__dropdown" data-role="dropdownlist" data-auto-bind="false" data-text-field="extension" \n                                    data-value-field="extension" data-bind="value: selectedExtension, source: extensions" />\n                            </label>\n                        </div>\n                    </div>\n                    <div class="twd-buttons k-window-buttongroup k-widget">\n                        <button class="k-button k-primary" data-action="').concat(e,'" >').concat(this.str.SaveButton,'</button>\n                        <button class="k-button" data-action="cancel" >').concat(this.str.CancelButton,"</button>\n                    </div>\n                </div>")}},{key:"initPopUp",value:function initPopUp(e){var t=this,r=$.parseHTML(this.popUpTemplate(e)),n=this.str.CreateNewReport;e===Po.SaveAs&&(n=this.str.SaveReportAs);var o=$(r).kendoWindow({title:n,visible:!1,actions:[],appendTo:$("body"),modal:!0,height:270,width:480,minWidth:300,minHeight:190}).data("kendoWindow");return o.element.off("click",".k-button").on("click",".k-button",function(e){event.stopPropagation(),t.executeAction(e,$(e.target))}),o.element.closest(".k-window").addClass(s.WebDesignerPartsClassName),o.element.closest(".k-window").find(".k-window-titlebar").addClass(s.ModalWindowHeaderClass),o}},{key:"getViewModel",value:function getViewModel(e){return!(0<arguments.length&&void 0!==e)||e?this.createViewModel:this.saveAsViewModel}},{key:"executeAction",value:function executeAction(e,t){var r=t.attr("data-action");r&&this[this.actions[r]](e,t)}},{key:"createBlankReport",value:function createBlankReport(){this.createPopUp||(this.createPopUp=this.initPopUp(Po.Save)),this.createViewModel=kendo.observable({newDocumentName:u.DefaultNewName,selectedExtension:u.Extensions[0],extensions:u.Extensions.map(function(e){return{extension:e}})}),kendo.bind(this.createPopUp.element,this.createViewModel),this.createPopUp.center().open()}},{key:"saveAsReport",value:function saveAsReport(){var e=this.designSurfaceManager.ActiveDesignSurface.DocumentId;if(e){this.duplicatePopUp||(this.duplicatePopUp=this.initPopUp(Po.SaveAs));var t=p.ParseDocumentId(e);this.saveAsViewModel=kendo.observable({newDocumentName:t.Name,selectedExtension:t.Extension,extensions:u.Extensions.map(function(e){return{extension:e}})}),kendo.bind(this.duplicatePopUp.element,this.saveAsViewModel),this.duplicatePopUp.center().open()}}},{key:"documentSave",value:function documentSave(){this.documentSaveCommand.Execute(null)}},{key:"documentClose",value:function documentClose(){this.documentCloseCommand.Execute(null)}},{key:"openDocument",value:function openDocument(e,t){this.openCommand.Execute(t.attr("data-document-id"))}},{key:"openWorkSpace",value:function openWorkSpace(){this.webDesignerEventsElement.dispatchEvent(this.openPreferences)}},{key:"createNewReport",value:function createNewReport(e,t){var r=this.getViewModel(),n=r.get("newDocumentName"),o=r.get("selectedExtension"),i="".concat(n,".").concat(o);try{this.createCommand.Execute(i),this.closePopUp(e,t)}catch(e){p.LogError("Could not create new report.",e)}}},{key:"saveReportAs",value:function saveReportAs(e,t){var r=this.getViewModel(!1),n=r.get("newDocumentName"),o=r.get("selectedExtension"),i="".concat(n,".").concat(o);this.documentSaveAsCommand.Execute(i),this.closePopUp(e,t)}},{key:"closePopUp",value:function closePopUp(e){$(e.delegateTarget).data("kendoWindow").close()}},{key:"publishReport",value:function publishReport(){this.publishCommand.Execute(null)}},{key:"revertReport",value:function revertReport(){this.revertCommand.Execute(null)}},{key:"template",get:function get(){return'<div class="twd-main-menu">\n                    <ul class="main-menu__wrapper twd-menu">\n                        <li class="main-menu__item -first">\n                            <span class="k-icon k-i-menu"></span> '.concat(this.str.MainMenu,"\n                            <ul></ul>\n                        </li>\n                    <ul>\n                </div>")}},{key:"menuTemplate",get:function get(){return"<ul></ul>"}},{key:"actions",get:function get(){var e={};return e[Po.DocumentCreateNew]="createBlankReport",e[Po.DocumentSaveAs]="saveAsReport",e[Po.DocumentSave]="documentSave",e[Po.Save]="createNewReport",e[Po.SaveAs]="saveReportAs",e[Po.Cancel]="closePopUp",e[Po.Close]="documentClose",e[Po.Open]="openDocument",e[Po.WorkSpace]="openWorkSpace",e[Po.Publish]="publishReport",e[Po.Revert]="revertReport",e}}]),MainMenu}();function TopMenuArea_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Eo=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},ko=function(){function TopMenuArea(e,t,r){!function TopMenuArea_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TopMenuArea),this.$parent=e,this.provider=t,this.$visualElement=$(e),this.$loadedReportsList=null,this.designSurfaceManager=this.provider.GetService(I.IDesignSurfaceManager),this.str=this.provider.GetService(I.WebReportDesignerStrings);var n=this.provider.GetService(I.WebDesignerOptions);this.reportServerLayout=n.ReportServerLayout,this.removeListener=!1,this.init(r)}return function TopMenuArea_createClass(e,t,r){return t&&TopMenuArea_defineProperties(e.prototype,t),r&&TopMenuArea_defineProperties(e,r),e}(TopMenuArea,[{key:"init",value:function init(a){return Eo(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o,i=this;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:t=this.template,this.$visualElement.prepend(t),this.$visualElement=this.$visualElement.find(".twd-top-menu-area"),this.mainMenu=new Oo(this.$visualElement.find(".top-menu-area__menu"),this.provider),this.InitClipboardControls(),r=new or(g.DocumentPreview,this.provider),this.$visualElement.find(".-preview").kendoButton({icon:"preview",click:function click(){r.Execute(i.designSurfaceManager.ActiveDesignSurface.DocumentId),i.reportServerLayout||(i.$visualElement.removeClass("-design"),i.$visualElement.addClass("-preview"),i.$loadedReportsList.enable(!1),i.mainMenu.Enable(!1))}}),n=new or(g.DocumentDesign,this.provider),this.$visualElement.find(".-design").kendoButton({icon:"track-changes-enable",click:function click(){n.Execute(null),i.$visualElement.removeClass("-preview"),i.$visualElement.addClass("-design"),i.$loadedReportsList.enable(!0),i.mainMenu.Enable(!0)}}),o=this.$visualElement.find(".top-menu-area__switch"),this.$loadedReportsList=o.find("input").kendoDropDownList({dataSource:[],autoWidth:!0,value:a,dataTextField:"DocumentId",dataValueField:"DocumentId",valueTemplate:kendo.template("<div><span>#= data.DocumentId #</span><span class='twd-disabled'>#= data.IsModified ? '*' : '' #</span>"),template:kendo.template("<div class='twd-report-item'><span>#= data.DocumentId #</span><span>#= data.IsModified ? '*' : '' #</span><span title=\"".concat(this.str.Remove,"\" class='k-icon k-i-close twd-close-report' data-report='#= data.DocumentId #'></span></div>")),change:function change(e){i.designSurfaceManager.SwitchDesignSurface(e.sender.value())},open:function open(){i.removeListener||setTimeout(function(e){i.initRemoveListener()},100)}}).data("kendoDropDownList");case 11:case"end":return e.stop()}},_callee,this)}))}},{key:"initRemoveListener",value:function initRemoveListener(){this.$loadedReportsList.popup.element.off("click",".twd-close-report").on("click",".twd-close-report",function(e){}),this.removeListener=!0}},{key:"InitClipboardControls",value:function InitClipboardControls(){var e=this.provider.GetService(I.UiCommandManager);e.RegisterCommand(new Co(this.$visualElement.find(".-undo"),this.provider)),e.RegisterCommand(new So(this.$visualElement.find(".-redo"),this.provider))}},{key:"Update",value:function Update(){var e=this.designSurfaceManager.GetLoadedReports;if(this.$loadedReportsList.setDataSource(e),this.designSurfaceManager.ActiveDesignSurface){var t=this.designSurfaceManager.ActiveDesignSurface.DocumentId;this.$loadedReportsList.value(t)}this.$loadedReportsList.refresh()}},{key:"header",get:function get(){return"Telerik Report Designer"}},{key:"template",get:function get(){return'<div class="twd-top-menu-area '.concat(this.reportServerLayout?"-report-server":""," ").concat(s.WebDesignerPartsClassName,' k-widget">\n            <div class="top-menu-area__menu k-widget"></div>\n            <div class="top-menu-area__switch">\n                <input type="text" />\n            </div>\n            <div class="top-menu-area__actions">\n                <button title="').concat(this.str.UndoButton,'" class="top-menu-area__button -undo -design-mode"></button>\n                <button title="').concat(this.str.RedoButton,'" class="top-menu-area__button -redo -design-mode"></button>\n\n                <button class="top-menu-area__button -preview -design-mode k-primary">').concat(this.str.PreviewButton,'</button>\n                <button class="top-menu-area__button -design -preview-mode k-primary">').concat(this.str.DesignButton,"</button>\n            </div>\n        </div>")}}]),TopMenuArea}();function Barcode_typeof(e){return(Barcode_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Barcode_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Barcode_possibleConstructorReturn(e,t){return!t||"object"!==Barcode_typeof(t)&&"function"!=typeof t?function Barcode_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Barcode_getPrototypeOf(e){return(Barcode_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Barcode_setPrototypeOf(e,t){return(Barcode_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var To=function(){function Barcode(){return function Barcode_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Barcode),Barcode_possibleConstructorReturn(this,Barcode_getPrototypeOf(Barcode).apply(this,arguments))}return function Barcode_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Barcode_setPrototypeOf(e,t)}(Barcode,P),function Barcode_createClass(e,t,r){return t&&Barcode_defineProperties(e.prototype,t),r&&Barcode_defineProperties(e,r),e}(Barcode,[{key:"Accept",value:function Accept(e){e.VisitBarcode(this)}}]),Barcode}();function CheckBox_typeof(e){return(CheckBox_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CheckBox_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CheckBox_possibleConstructorReturn(e,t){return!t||"object"!==CheckBox_typeof(t)&&"function"!=typeof t?function CheckBox_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CheckBox_getPrototypeOf(e){return(CheckBox_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CheckBox_setPrototypeOf(e,t){return(CheckBox_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Do=function(){function CheckBox(){return function CheckBox_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CheckBox),CheckBox_possibleConstructorReturn(this,CheckBox_getPrototypeOf(CheckBox).apply(this,arguments))}return function CheckBox_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CheckBox_setPrototypeOf(e,t)}(CheckBox,Ae),function CheckBox_createClass(e,t,r){return t&&CheckBox_defineProperties(e.prototype,t),r&&CheckBox_defineProperties(e,r),e}(CheckBox,[{key:"Accept",value:function Accept(e){e.VisitCheckBox(this)}}]),CheckBox}();function Graph_typeof(e){return(Graph_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Graph_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Graph_possibleConstructorReturn(e,t){return!t||"object"!==Graph_typeof(t)&&"function"!=typeof t?function Graph_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Graph_getPrototypeOf(e){return(Graph_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Graph_setPrototypeOf(e,t){return(Graph_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var xo=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Ro=function(){function Graph(e,t,r){var n,o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return function Graph_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Graph),(n=Graph_possibleConstructorReturn(this,Graph_getPrototypeOf(Graph).call(this,e,t,r,o))).categoryGroups=[],n.seriesGroups=[],n.titles=[],n.coordinateSystems=[],n.axes=[],n.series=[],n}return function Graph_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Graph_setPrototypeOf(e,t)}(Graph,U),function Graph_createClass(e,t,r){return t&&Graph_defineProperties(e.prototype,t),r&&Graph_defineProperties(e,r),e}(Graph,[{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return xo(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.CreateChildComponentsFromPropertyStoreGraph();case 2:case"end":return e.stop()}},_callee,this)}))}},{key:"CreateChildComponentsFromPropertyStoreGraph",value:function CreateChildComponentsFromPropertyStoreGraph(){return xo(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.CreateChildComponentsFromPropertyStoreDataItem();case 2:return e.next=4,this.createGroups();case 4:return e.next=6,this.createCollectionPropertyComponents(G.Titles,this.titles);case 6:return e.next=8,this.createCollectionPropertyComponents(G.CoordinateSystems,this.coordinateSystems);case 8:return e.next=10,this.createCollectionPropertyComponents(G.Axes,this.axes);case 10:return e.next=12,this.createCollectionPropertyComponents(G.Series,this.series);case 12:case"end":return e.stop()}},_callee2,this)}))}},{key:"CanContain",value:function CanContain(e){var t=this.InstanceFactory.GetInstanceModel(e);return t&&t instanceof Graph}},{key:"Accept",value:function Accept(e){e.VisitGraph(this)}},{key:"createGroups",value:function createGroups(){return xo(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createCollectionPropertyComponents(G.CategoryGroups,this.categoryGroups);case 2:return e.next=4,this.createCollectionPropertyComponents(G.SeriesGroups,this.seriesGroups);case 4:case"end":return e.stop()}},_callee3,this)}))}},{key:"CategoryGroups",get:function get(){return this.categoryGroups}},{key:"SeriesGroups",get:function get(){return this.seriesGroups}},{key:"Titles",get:function get(){return this.titles}},{key:"CoordinateSystems",get:function get(){return this.coordinateSystems}},{key:"Axes",get:function get(){return this.axes}},{key:"Series",get:function get(){return this.series}}]),Graph}();function MapComponent_typeof(e){return(MapComponent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MapComponent_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MapComponent_possibleConstructorReturn(e,t){return!t||"object"!==MapComponent_typeof(t)&&"function"!=typeof t?function MapComponent_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function MapComponent_getPrototypeOf(e){return(MapComponent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MapComponent_setPrototypeOf(e,t){return(MapComponent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Io=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Go=function(){function MapComponent(e,t,r){var n,o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return function MapComponent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MapComponent),(n=MapComponent_possibleConstructorReturn(this,MapComponent_getPrototypeOf(MapComponent).call(this,e,t,r,o))).mapLegends=[],n.geoLocationGroups=[],n}return function MapComponent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MapComponent_setPrototypeOf(e,t)}(MapComponent,Ro),function MapComponent_createClass(e,t,r){return t&&MapComponent_defineProperties(e.prototype,t),r&&MapComponent_defineProperties(e,r),e}(MapComponent,[{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return Io(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.CreateChildComponentsFromPropertyStoreGraph();case 2:return e.next=4,this.createCollectionPropertyComponents(G.Legends,this.mapLegends);case 4:return e.next=6,this.createCollectionPropertyComponents(G.GeoLocationGroups,this.geoLocationGroups);case 6:case"end":return e.stop()}},_callee,this)}))}},{key:"Accept",value:function Accept(e){e.VisitMap(this)}},{key:"Legends",get:function get(){return this.mapLegends}},{key:"GeoLocationGroups",get:function get(){return this.geoLocationGroups}}]),MapComponent}();function HtmlTextBox_typeof(e){return(HtmlTextBox_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HtmlTextBox_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HtmlTextBox_possibleConstructorReturn(e,t){return!t||"object"!==HtmlTextBox_typeof(t)&&"function"!=typeof t?function HtmlTextBox_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function HtmlTextBox_getPrototypeOf(e){return(HtmlTextBox_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HtmlTextBox_setPrototypeOf(e,t){return(HtmlTextBox_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var jo=function(){function HtmlTextBox(){return function HtmlTextBox_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HtmlTextBox),HtmlTextBox_possibleConstructorReturn(this,HtmlTextBox_getPrototypeOf(HtmlTextBox).apply(this,arguments))}return function HtmlTextBox_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HtmlTextBox_setPrototypeOf(e,t)}(HtmlTextBox,P),function HtmlTextBox_createClass(e,t,r){return t&&HtmlTextBox_defineProperties(e.prototype,t),r&&HtmlTextBox_defineProperties(e,r),e}(HtmlTextBox,[{key:"Accept",value:function Accept(e){e.VisitHtmlTextBox(this)}}]),HtmlTextBox}();function PictureBox_typeof(e){return(PictureBox_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PictureBox_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PictureBox_possibleConstructorReturn(e,t){return!t||"object"!==PictureBox_typeof(t)&&"function"!=typeof t?function PictureBox_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PictureBox_getPrototypeOf(e){return(PictureBox_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PictureBox_setPrototypeOf(e,t){return(PictureBox_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Bo=function(){function PictureBox(){return function PictureBox_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PictureBox),PictureBox_possibleConstructorReturn(this,PictureBox_getPrototypeOf(PictureBox).apply(this,arguments))}return function PictureBox_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PictureBox_setPrototypeOf(e,t)}(PictureBox,P),function PictureBox_createClass(e,t,r){return t&&PictureBox_defineProperties(e.prototype,t),r&&PictureBox_defineProperties(e,r),e}(PictureBox,[{key:"Accept",value:function Accept(e){e.VisitPictureBox(this)}}]),PictureBox}();function Shape_typeof(e){return(Shape_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Shape_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Shape_possibleConstructorReturn(e,t){return!t||"object"!==Shape_typeof(t)&&"function"!=typeof t?function Shape_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Shape_getPrototypeOf(e){return(Shape_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Shape_setPrototypeOf(e,t){return(Shape_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Mo=function(){function Shape(){return function Shape_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Shape),Shape_possibleConstructorReturn(this,Shape_getPrototypeOf(Shape).apply(this,arguments))}return function Shape_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Shape_setPrototypeOf(e,t)}(Shape,P),function Shape_createClass(e,t,r){return t&&Shape_defineProperties(e.prototype,t),r&&Shape_defineProperties(e,r),e}(Shape,[{key:"Accept",value:function Accept(e){e.VisitShape(this)}}]),Shape}();function Crosstab_typeof(e){return(Crosstab_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Crosstab_possibleConstructorReturn(e,t){return!t||"object"!==Crosstab_typeof(t)&&"function"!=typeof t?function Crosstab_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Crosstab_getPrototypeOf(e){return(Crosstab_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Crosstab_setPrototypeOf(e,t){return(Crosstab_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ao=function(){function Crosstab(){return function Crosstab_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Crosstab),Crosstab_possibleConstructorReturn(this,Crosstab_getPrototypeOf(Crosstab).apply(this,arguments))}return function Crosstab_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Crosstab_setPrototypeOf(e,t)}(Crosstab,rt),Crosstab}();function List_typeof(e){return(List_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function List_possibleConstructorReturn(e,t){return!t||"object"!==List_typeof(t)&&"function"!=typeof t?function List_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function List_getPrototypeOf(e){return(List_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function List_setPrototypeOf(e,t){return(List_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var No,Ho=function(){function List(){return function List_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,List),List_possibleConstructorReturn(this,List_getPrototypeOf(List).apply(this,arguments))}return function List_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&List_setPrototypeOf(e,t)}(List,rt),List}();function TypeSelector_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TypeSelector_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Lo=function(){function TypeSelector(e){!function TypeSelector_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TypeSelector),this.Type=e||A}return function TypeSelector_createClass(e,t,r){return t&&TypeSelector_defineProperties(e.prototype,t),r&&TypeSelector_defineProperties(e,r),e}(TypeSelector,[{key:"Match",value:function Match(e){var t=this.Type;return!!e&&e instanceof t}}]),TypeSelector}();function AttributeSelectorBase_typeof(e){return(AttributeSelectorBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AttributeSelectorBase_toConsumableArray(e){return function AttributeSelectorBase_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function AttributeSelectorBase_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function AttributeSelectorBase_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function AttributeSelectorBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AttributeSelectorBase_possibleConstructorReturn(e,t){return!t||"object"!==AttributeSelectorBase_typeof(t)&&"function"!=typeof t?function AttributeSelectorBase_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function AttributeSelectorBase_get(e,t,r){return(AttributeSelectorBase_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function AttributeSelectorBase_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=AttributeSelectorBase_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function AttributeSelectorBase_getPrototypeOf(e){return(AttributeSelectorBase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AttributeSelectorBase_setPrototypeOf(e,t){return(AttributeSelectorBase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}Lo.Types=(TypeSelector_defineProperty(No={},To.name,To),TypeSelector_defineProperty(No,Do.name,Do),TypeSelector_defineProperty(No,Ao.name,Ao),TypeSelector_defineProperty(No,U.name,U),TypeSelector_defineProperty(No,X.name,X),TypeSelector_defineProperty(No,Ro.name,Ro),TypeSelector_defineProperty(No,fe.name,fe),TypeSelector_defineProperty(No,pe.name,pe),TypeSelector_defineProperty(No,Y.name,Y),TypeSelector_defineProperty(No,jo.name,jo),TypeSelector_defineProperty(No,Ho.name,Ho),TypeSelector_defineProperty(No,Go.name,Go),TypeSelector_defineProperty(No,ne.name,ne),TypeSelector_defineProperty(No,oe.name,oe),TypeSelector_defineProperty(No,re.name,re),TypeSelector_defineProperty(No,hn.name,hn),TypeSelector_defineProperty(No,Bo.name,Bo),TypeSelector_defineProperty(No,ye.name,ye),TypeSelector_defineProperty(No,ie.name,ie),TypeSelector_defineProperty(No,ae.name,ae),TypeSelector_defineProperty(No,P.name,P),TypeSelector_defineProperty(No,A.name,A),TypeSelector_defineProperty(No,Z.name,Z),TypeSelector_defineProperty(No,Q.name,Q),TypeSelector_defineProperty(No,Mo.name,Mo),TypeSelector_defineProperty(No,te.name,te),TypeSelector_defineProperty(No,rt.name,rt),TypeSelector_defineProperty(No,Ne.name,Ne),TypeSelector_defineProperty(No,Ae.name,Ae),TypeSelector_defineProperty(No,ue.name,ue),No);var Vo=function(){function AttributeSelectorBase(e,t,r){var n;return function AttributeSelectorBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AttributeSelectorBase),(n=AttributeSelectorBase_possibleConstructorReturn(this,AttributeSelectorBase_getPrototypeOf(AttributeSelectorBase).call(this,e))).propertyName=t,n.propertyValue=r,n}return function AttributeSelectorBase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AttributeSelectorBase_setPrototypeOf(e,t)}(AttributeSelectorBase,Lo),function AttributeSelectorBase_createClass(e,t,r){return t&&AttributeSelectorBase_defineProperties(e.prototype,t),r&&AttributeSelectorBase_defineProperties(e,r),e}(AttributeSelectorBase,[{key:"Match",value:function Match(e){if(e&&AttributeSelectorBase_get(AttributeSelectorBase_getPrototypeOf(AttributeSelectorBase.prototype),"Match",this).call(this,e)){var t=e.GetPropertyValue.apply(e,AttributeSelectorBase_toConsumableArray(this.propertyName.split(".")));return t&&t===this.propertyValue}return!1}},{key:"PropertyName",get:function get(){return this.propertyName}},{key:"PropertyValue",get:function get(){return this.propertyValue}}]),AttributeSelectorBase}();function AttributeSelector_typeof(e){return(AttributeSelector_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AttributeSelector_possibleConstructorReturn(e,t){return!t||"object"!==AttributeSelector_typeof(t)&&"function"!=typeof t?function AttributeSelector_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function AttributeSelector_getPrototypeOf(e){return(AttributeSelector_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AttributeSelector_setPrototypeOf(e,t){return(AttributeSelector_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Wo=function(){function AttributeSelector(e,t,r){return function AttributeSelector_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AttributeSelector),AttributeSelector_possibleConstructorReturn(this,AttributeSelector_getPrototypeOf(AttributeSelector).call(this,e,t,r))}return function AttributeSelector_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AttributeSelector_setPrototypeOf(e,t)}(AttributeSelector,Vo),AttributeSelector}();function DescendantSelector_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var zo=function(){function DescendantSelector(e){!function DescendantSelector_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DescendantSelector),this.Selectors=e}return function DescendantSelector_createClass(e,t,r){return t&&DescendantSelector_defineProperties(e.prototype,t),r&&DescendantSelector_defineProperties(e,r),e}(DescendantSelector,[{key:"Match",value:function Match(e){var t=this.Selectors.length-1;if(!this.Selectors[t].Match(e))return!1;for(;0<=--t&&e;)for(;(e=e.Parent)&&!this.Selectors[t].Match(e););return!!e}}]),DescendantSelector}();function StyleSelector_typeof(e){return(StyleSelector_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function StyleSelector_possibleConstructorReturn(e,t){return!t||"object"!==StyleSelector_typeof(t)&&"function"!=typeof t?function StyleSelector_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function StyleSelector_getPrototypeOf(e){return(StyleSelector_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function StyleSelector_setPrototypeOf(e,t){return(StyleSelector_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Fo=function(){function StyleSelector(e,t){return function StyleSelector_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StyleSelector),StyleSelector_possibleConstructorReturn(this,StyleSelector_getPrototypeOf(StyleSelector).call(this,e,G.StyleName,t))}return function StyleSelector_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&StyleSelector_setPrototypeOf(e,t)}(StyleSelector,Vo),StyleSelector}();function una(e,t){!function StyleRuleMatch_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,una),this.Selector=e,this.Rule=t}function StyleRulePrecedenceEvaluator_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function StyleRulePrecedenceEvaluator_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Uo=function(){function StyleRulePrecedenceEvaluator(){var e;!function StyleRulePrecedenceEvaluator_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StyleRulePrecedenceEvaluator),this.instanceFactory=null,this.selectorTypesWeight=(StyleRulePrecedenceEvaluator_defineProperty(e={},zo.name,1),StyleRulePrecedenceEvaluator_defineProperty(e,Lo.name,2),StyleRulePrecedenceEvaluator_defineProperty(e,Wo.name,3),StyleRulePrecedenceEvaluator_defineProperty(e,Fo.name,4),e)}return function StyleRulePrecedenceEvaluator_createClass(e,t,r){return t&&StyleRulePrecedenceEvaluator_defineProperties(e.prototype,t),r&&StyleRulePrecedenceEvaluator_defineProperties(e,r),e}(StyleRulePrecedenceEvaluator,[{key:"GetRulesToApply",value:function GetRulesToApply(e,t){this.instanceFactory=e.provider.GetService(I.IInstanceFactoryService);var r=[],n=[],o=!0,i=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;if(u.Selectors){var l=[],p=!0,f=!1,d=void 0;try{for(var y,h=u.Selectors[Symbol.iterator]();!(p=(y=h.next()).done);p=!0){var m=y.value,g=this.CreateSelectorInstance(m);g&&g.Match(e)&&l.push(g)}}catch(e){f=!0,d=e}finally{try{p||null==h.return||h.return()}finally{if(f)throw d}}if(0<l.length){var v=new una(this.GetStrongestSelector(l),u);r.push(v)}}}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}this.BubbleSort(r);for(var b=0,_=r;b<_.length;b++){var S=_[b];n.push(S.Rule)}return n}},{key:"CreateSelectorInstance",value:function CreateSelectorInstance(e){var t,r=e[G.NetType],n=Lo.Types[e[G.Type]];switch(r){case _.StyleSelector:var o=e[G.StyleName];t=new Fo(n,o);break;case _.TypeSelector:t=new Lo(n);break;case _.AttributeSelector:var i=e[G.PropertyName],a=e[G.PropertyValue][G.Value];t=new Wo(n,i,a);break;case _.DescendantSelector:var s=[],c=e[G.Selectors],u=!0,l=!1,p=void 0;try{for(var f,d=c[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var y=f.value,h=this.CreateSelectorInstance(y);h&&s.push(h)}}catch(e){l=!0,p=e}finally{try{u||null==d.return||d.return()}finally{if(l)throw p}}0<s.length&&(t=new zo(s));break;default:t=null}return t}},{key:"GetStrongestSelector",value:function GetStrongestSelector(e){for(var t=e[0],r=1;r<e.length;r++){var n=e[r];this.CompareSelectors(t,n)<0&&(t=n)}return t}},{key:"CompareSelectors",value:function CompareSelectors(e,t){var r=e.constructor.name,n=t.constructor.name,o=this.selectorTypesWeight[r],i=this.selectorTypesWeight[n];if(r===n){if(r===Lo.name)return this.CompareTypeSelectors(e,t)}else{if(o<i)return-1;if(i<o)return 1}}},{key:"CompareTypeSelectors",value:function CompareTypeSelectors(e,t){if(e.Type===t.Type)return 0;if(this.instanceFactory.GetInstanceModel(e.Type.name)instanceof t.Type)return-1;this.instanceFactory.GetInstanceModel(t.Type.name);return t instanceof e.Type?1:0}},{key:"BubbleSort",value:function BubbleSort(e){for(var t=1;t<e.length;t++)for(var r=0;r<e.length-1;r++)if(0<this.CompareSelectors(e[r].Selector,e[r+1].Selector)){var n=e[r];e[r]=e[r+1],e[r+1]=n}}}]),StyleRulePrecedenceEvaluator}();function PropertyDescriptorWrapper_toConsumableArray(e){return function PropertyDescriptorWrapper_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function PropertyDescriptorWrapper_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function PropertyDescriptorWrapper_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function PropertyDescriptorWrapper_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var $o=function(){function PropertyDescriptorWrapper(e,t,r,n){!function PropertyDescriptorWrapper_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PropertyDescriptorWrapper),this.components=e,this.propertyStores=t,this.storesCount=t.length,this.property=r,this.parentWrapper=n,this.parentProperties=null,this.value=null}return function PropertyDescriptorWrapper_createClass(e,t,r){return t&&PropertyDescriptorWrapper_defineProperties(e.prototype,t),r&&PropertyDescriptorWrapper_defineProperties(e,r),e}(PropertyDescriptorWrapper,[{key:"GetValue",value:function GetValue(){for(var e=this.getValuePerComponent(this.components[0],this.propertyStores[0]),t=1;t<this.storesCount;t++){if(e!==this.getValuePerComponent(this.components[t],this.propertyStores[t]))return null}return e}},{key:"ShouldSerializeValue",value:function ShouldSerializeValue(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.propertyStores[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;if(!this.property.ShouldSerializeValue(i))return!1}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}return!0}},{key:"getValuePerComponent",value:function getValuePerComponent(e,t){var r=this.getHorizontalValue(this.property,e,t);if(void 0===r&&this.property.UseParentValue)for(var n=e.Parent,o=this.getParentPropertiesChain();n;){for(var i=n.PropertyStore,a=0;a<o.length&&void 0!==(i=this.getHorizontalValue(o[a],n,i));a++)if(a===o.length-1)return i;n=n.Parent}return r||this.property.DefaultValue}},{key:"getHorizontalValue",value:function getHorizontalValue(e,t,r){return e.GetValue(t,r)||this.getLinkedPropertyValue(t)}},{key:"getLinkedPropertyValue",value:function getLinkedPropertyValue(e){var t,r=this.getParentPropertiesChain().map(function(e){return e.Name});if(this.isStyleChildProperty(r)){var n=e.provider.GetService(I.IDesignerHost).RootComponent;if(n&&e instanceof A){var o=n.StyleRulesCache.get(e);o||(o=(new Uo).GetRulesToApply(e,n.StyleSheet),n.StyleRulesCache.set(e,o));var i=!0,a=!1,s=void 0;try{for(var c,u=o[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value,p=l.GetPropertyValue.apply(l,PropertyDescriptorWrapper_toConsumableArray(r));p&&(t=p)}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}}}return t}},{key:"isStyleChildProperty",value:function isStyleChildProperty(e){return e.includes(G.Style)}},{key:"getParentPropertiesChain",value:function getParentPropertiesChain(){if(!this.parentProperties){this.parentProperties=[],this.parentProperties.unshift(this.Property);for(var e=this.parentWrapper;e;)this.parentProperties.unshift(e.Property),e=e.ParentWrapper}return this.parentProperties}},{key:"SetValue",value:function SetValue(r){var n=this;this.applyForEach(function(e,t){return n.property.SetValue(r,e,t)},"Change",this.property.NotifyParentProperty),this.value=null}},{key:"ResetValue",value:function ResetValue(){var r=this;this.applyForEach(function(e,t){return r.property.ResetValue(e,t)},"Reset",this.property.NotifyParentProperty),this.value=null}},{key:"SetValueRaw",value:function SetValueRaw(e){for(var t=0;t<this.storesCount;t++)this.propertyStores[t][this.property.Name]=e}},{key:"GetChildProperties",value:function GetChildProperties(){var n=this,e=this.property.GetChildProperties(this.Type);if(0<e.length){var t=this.propertyStores.map(function(e,t){var r=n.property.GetValue(n.components[t],e);return r||(r={},e[n.property.Name]=r),r});return e.map(function(e){return new PropertyDescriptorWrapper(n.components,t,e,n)})}return[]}},{key:"GetChildProperty",value:function GetChildProperty(t){return this.GetChildProperties().find(function(e){return e.Name===t})}},{key:"applyForEach",value:function applyForEach(e,t,r){var n=this.components[0].provider,o=n.GetService(I.IDesignerHost),i=n.GetService(I.IComponentChangeService),a=this.parentWrapper,s=[];if(r)for(;a;)s.push(a),a=a.ParentWrapper;var c,u=!1;o.InTransaction||(c=o.CreateTransaction("".concat(t," property '").concat(this.property.Name,"' of '").concat(this.Components.map(function(e){return e.Name}).join("', '"),"'")),u=!0);try{for(var l=function _loop(e){var t=s[e];t.components.forEach(function(e){return i.OnComponentChanging(e,t.property)})},p=0;p<s.length;p++)l(p);for(var f=0;f<this.storesCount;f++)e(this.components[f],this.propertyStores[f]);for(var d=function _loop2(e){var t=s[e];t.components.forEach(function(e){e.RaiseComponentChanged(t.property,null,null)})},y=0;y<s.length;y++)d(y);u&&c.Commit()}catch(e){throw u&&c.Rollback(),n.GetService(I.Notifications).Error("Could not ".concat(t.toLowerCase()," property '").concat(this.property.Name,"'. ").concat(e.message),e),e}}},{key:"Name",get:function get(){return this.property.Name}},{key:"Type",get:function get(){var e=this.Value;return e&&e.NetType?e.NetType:this.property.Type}},{key:"EditorType",get:function get(){return this.property.EditorType}},{key:"Description",get:function get(){return this.property.Description}},{key:"Category",get:function get(){return this.property.Category}},{key:"Browsable",get:function get(){return this.property.Browsable}},{key:"Mergeable",get:function get(){return this.property.Mergeable}},{key:"ReadOnly",get:function get(){return this.property.ReadOnly}},{key:"Components",get:function get(){return this.components}},{key:"ParentWrapper",get:function get(){return this.parentWrapper}},{key:"Property",get:function get(){return this.property}},{key:"Value",get:function get(){return this.value||(this.value=this.GetValue()),this.value}}]),PropertyDescriptorWrapper}();function PropertyDescriptorWrapperFactory_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var qo=function(){function PropertyDescriptorWrapperFactory(){!function PropertyDescriptorWrapperFactory_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PropertyDescriptorWrapperFactory)}return function PropertyDescriptorWrapperFactory_createClass(e,t,r){return t&&PropertyDescriptorWrapperFactory_defineProperties(e.prototype,t),r&&PropertyDescriptorWrapperFactory_defineProperties(e,r),e}(PropertyDescriptorWrapperFactory,[{key:"CreateWrappers",value:function CreateWrappers(t){if(!t.PropertyWrappersInitialized){var e=t.GetProperties();t.PropertyWrappers=e.map(function(e){return new $o([t],[t.PropertyStore],e,null)})}return t.PropertyWrappers}},{key:"CreateMergeableWrappers",value:function CreateMergeableWrappers(t){var r=t.map(function(e){return e.GetProperties()}),n=r[0];if(1<t.length){n=n.filter(function(e){return e.Mergeable});for(var e=function _loop(e){n=n.filter(function(t){return r[e].find(function(e){return e.Mergeable&&e.Browsable&&e.Type===t.Type&&e.Name===t.Name})})},o=1;o<r.length;o++)e(o)}return n.map(function(e){return new $o(t,t.map(function(e){return e.PropertyStore}),e,null)})}}]),PropertyDescriptorWrapperFactory}();function yna(e,t){!function RenderResult_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,yna),this.Success=e,this.Content=t}function RenderService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Jo=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Ko=function(){function RenderService(e,t){!function RenderService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RenderService),this.provider=e,this.reportDesignerApiUrl=t}return function RenderService_createClass(e,t,r){return t&&RenderService_defineProperties(e.prototype,t),r&&RenderService_defineProperties(e,r),e}(RenderService,[{key:"RenderGraph",value:function RenderGraph(t,r){return Jo(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.RenderLiveItem(t,r,_.Graph));case 1:case"end":return e.stop()}},_callee,this)}))}},{key:"RenderMap",value:function RenderMap(t,r){return Jo(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.RenderLiveItem(t,r,_.Map));case 1:case"end":return e.stop()}},_callee2,this)}))}},{key:"RenderBarcode",value:function RenderBarcode(t,r){return Jo(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.RenderLiveItem(t,r,_.Barcode));case 1:case"end":return e.stop()}},_callee3,this)}))}},{key:"RenderHtmlTextBox",value:function RenderHtmlTextBox(t,r){return Jo(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.RenderLiveItem(t,r,_.HtmlTextBox));case 1:case"end":return e.stop()}},_callee4,this)}))}},{key:"RenderShape",value:function RenderShape(t,r){return Jo(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.RenderLiveItem(t,r,_.Shape));case 1:case"end":return e.stop()}},_callee5,this)}))}},{key:"RenderCheckBox",value:function RenderCheckBox(t,r){return Jo(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.RenderLiveItem(t,r,_.CheckBox));case 1:case"end":return e.stop()}},_callee6,this)}))}},{key:"RenderPictureBox",value:function RenderPictureBox(t,r){return Jo(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){return regeneratorRuntime.wrap(function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.RenderLiveItem(t,r,_.PictureBox));case 1:case"end":return e.stop()}},_callee7,this)}))}},{key:"RenderLiveItem",value:function RenderLiveItem(o,i,a){return Jo(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){var t,r,n;return regeneratorRuntime.wrap(function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:return t={report:o,itemName:i},e.next=3,fetch("".concat(this.reportDesignerApiUrl,"render/").concat(a),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return r=e.sent,e.next=6,r.json();case 6:if(n=e.sent,r.ok){e.next=11;break}return this.provider.GetService(I.Notifications).Error("Could not generate the preview of '".concat(i,"'."),new Error("".concat(n.message," ").concat(n.exceptionMessage)),!0),e.abrupt("return",new yna(r.ok,n.exceptionMessage));case 11:return e.abrupt("return",new yna(r.ok,n));case 12:case"end":return e.stop()}},_callee8,this)}))}}]),RenderService}();function CollectionComponent_typeof(e){return(CollectionComponent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CollectionComponent_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CollectionComponent_possibleConstructorReturn(e,t){return!t||"object"!==CollectionComponent_typeof(t)&&"function"!=typeof t?function CollectionComponent_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CollectionComponent_getPrototypeOf(e){return(CollectionComponent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CollectionComponent_setPrototypeOf(e,t){return(CollectionComponent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Qo=function(){function CollectionComponent(){return function CollectionComponent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CollectionComponent),CollectionComponent_possibleConstructorReturn(this,CollectionComponent_getPrototypeOf(CollectionComponent).apply(this,arguments))}return function CollectionComponent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CollectionComponent_setPrototypeOf(e,t)}(CollectionComponent,S),function CollectionComponent_createClass(e,t,r){return t&&CollectionComponent_defineProperties(e.prototype,t),r&&CollectionComponent_defineProperties(e,r),e}(CollectionComponent,[{key:"DeleteCollectionComponent",value:function DeleteCollectionComponent(e,t){var r=e.indexOf(this);e.splice(r,1);var n=this.Parent.PropertyStore[t],o=n.indexOf(this.PropertyStore);n.splice(o,1),0===n.length&&delete this.Parent.PropertyStore[t],this.Designer.Dispose(),this.provider.GetService(I.IComponentChangeService).OnComponentRemoved(this)}}]),CollectionComponent}();function CalculatedField_typeof(e){return(CalculatedField_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CalculatedField_possibleConstructorReturn(e,t){return!t||"object"!==CalculatedField_typeof(t)&&"function"!=typeof t?function CalculatedField_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CalculatedField_getPrototypeOf(e){return(CalculatedField_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CalculatedField_setPrototypeOf(e,t){return(CalculatedField_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Zo=function(){function CalculatedField(){return function CalculatedField_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CalculatedField),CalculatedField_possibleConstructorReturn(this,CalculatedField_getPrototypeOf(CalculatedField).apply(this,arguments))}return function CalculatedField_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CalculatedField_setPrototypeOf(e,t)}(CalculatedField,Qo),CalculatedField}();function CsvDataSource_typeof(e){return(CsvDataSource_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CsvDataSource_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CsvDataSource_possibleConstructorReturn(e,t){return!t||"object"!==CsvDataSource_typeof(t)&&"function"!=typeof t?function CsvDataSource_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CsvDataSource_getPrototypeOf(e){return(CsvDataSource_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CsvDataSource_setPrototypeOf(e,t){return(CsvDataSource_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Xo=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Yo=function(){function CsvDataSource(e,t,r){var n;return function CsvDataSource_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CsvDataSource),(n=CsvDataSource_possibleConstructorReturn(this,CsvDataSource_getPrototypeOf(CsvDataSource).call(this,e,t,r))).dataColumns=[],n}return function CsvDataSource_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CsvDataSource_setPrototypeOf(e,t)}(CsvDataSource,K),function CsvDataSource_createClass(e,t,r){return t&&CsvDataSource_defineProperties(e.prototype,t),r&&CsvDataSource_defineProperties(e,r),e}(CsvDataSource,[{key:"CanLoadDataModel",value:function CanLoadDataModel(){return!!this.dataColumns.length||!!this.CalculatedFields.length}},{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return Xo(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.CreateChildComponentsFromPropertyStoreDataSource();case 2:return e.next=4,this.createDataColumns();case 4:case"end":return e.stop()}},_callee,this)}))}},{key:"createDataColumns",value:function createDataColumns(){return Xo(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createCollectionPropertyComponents(G.Columns,this.dataColumns));case 1:case"end":return e.stop()}},_callee2,this)}))}},{key:"Columns",get:function get(){return this.dataColumns}}]),CsvDataSource}();function DataColumn_typeof(e){return(DataColumn_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DataColumn_possibleConstructorReturn(e,t){return!t||"object"!==DataColumn_typeof(t)&&"function"!=typeof t?function DataColumn_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function DataColumn_getPrototypeOf(e){return(DataColumn_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DataColumn_setPrototypeOf(e,t){return(DataColumn_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ei=function(){function DataColumn(){return function DataColumn_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DataColumn),DataColumn_possibleConstructorReturn(this,DataColumn_getPrototypeOf(DataColumn).apply(this,arguments))}return function DataColumn_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DataColumn_setPrototypeOf(e,t)}(DataColumn,Qo),DataColumn}();function ExternalStyleSheet_typeof(e){return(ExternalStyleSheet_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ExternalStyleSheet_possibleConstructorReturn(e,t){return!t||"object"!==ExternalStyleSheet_typeof(t)&&"function"!=typeof t?function ExternalStyleSheet_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ExternalStyleSheet_getPrototypeOf(e){return(ExternalStyleSheet_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ExternalStyleSheet_setPrototypeOf(e,t){return(ExternalStyleSheet_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ti=function(){function ExternalStyleSheet(){return function ExternalStyleSheet_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ExternalStyleSheet),ExternalStyleSheet_possibleConstructorReturn(this,ExternalStyleSheet_getPrototypeOf(ExternalStyleSheet).apply(this,arguments))}return function ExternalStyleSheet_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ExternalStyleSheet_setPrototypeOf(e,t)}(ExternalStyleSheet,Qo),ExternalStyleSheet}();function GraphGroup_typeof(e){return(GraphGroup_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GraphGroup_possibleConstructorReturn(e,t){return!t||"object"!==GraphGroup_typeof(t)&&"function"!=typeof t?function GraphGroup_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GraphGroup_getPrototypeOf(e){return(GraphGroup_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GraphGroup_setPrototypeOf(e,t){return(GraphGroup_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ri=function(){function GraphGroup(){return function GraphGroup_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GraphGroup),GraphGroup_possibleConstructorReturn(this,GraphGroup_getPrototypeOf(GraphGroup).apply(this,arguments))}return function GraphGroup_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GraphGroup_setPrototypeOf(e,t)}(GraphGroup,Me),GraphGroup}();function GraphTitle_typeof(e){return(GraphTitle_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GraphTitle_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GraphTitle_possibleConstructorReturn(e,t){return!t||"object"!==GraphTitle_typeof(t)&&"function"!=typeof t?function GraphTitle_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GraphTitle_getPrototypeOf(e){return(GraphTitle_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GraphTitle_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GraphTitle_setPrototypeOf(e,t)}function GraphTitle_setPrototypeOf(e,t){return(GraphTitle_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ni=function(){function GraphTitle(){return GraphTitle_classCallCheck(this,GraphTitle),GraphTitle_possibleConstructorReturn(this,GraphTitle_getPrototypeOf(GraphTitle).apply(this,arguments))}return GraphTitle_inherits(GraphTitle,S),GraphTitle}(),oi=function(){function MapTitle(){return GraphTitle_classCallCheck(this,MapTitle),GraphTitle_possibleConstructorReturn(this,GraphTitle_getPrototypeOf(MapTitle).apply(this,arguments))}return GraphTitle_inherits(MapTitle,ni),MapTitle}();function MapGroup_typeof(e){return(MapGroup_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MapGroup_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MapGroup_possibleConstructorReturn(e,t){return!t||"object"!==MapGroup_typeof(t)&&"function"!=typeof t?function MapGroup_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function MapGroup_getPrototypeOf(e){return(MapGroup_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MapGroup_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MapGroup_setPrototypeOf(e,t)}function MapGroup_setPrototypeOf(e,t){return(MapGroup_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ii=function(){function MapGroup(){return MapGroup_classCallCheck(this,MapGroup),MapGroup_possibleConstructorReturn(this,MapGroup_getPrototypeOf(MapGroup).apply(this,arguments))}return MapGroup_inherits(MapGroup,Me),MapGroup}(),ai=function(){function GeoLocationMapGroup(){return MapGroup_classCallCheck(this,GeoLocationMapGroup),MapGroup_possibleConstructorReturn(this,MapGroup_getPrototypeOf(GeoLocationMapGroup).apply(this,arguments))}return MapGroup_inherits(GeoLocationMapGroup,ii),GeoLocationMapGroup}(),si=function(){function ShapeMapGroup(){return MapGroup_classCallCheck(this,ShapeMapGroup),MapGroup_possibleConstructorReturn(this,MapGroup_getPrototypeOf(ShapeMapGroup).apply(this,arguments))}return MapGroup_inherits(ShapeMapGroup,ii),ShapeMapGroup}();function JsonDataSource_typeof(e){return(JsonDataSource_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JsonDataSource_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JsonDataSource_possibleConstructorReturn(e,t){return!t||"object"!==JsonDataSource_typeof(t)&&"function"!=typeof t?function JsonDataSource_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function JsonDataSource_getPrototypeOf(e){return(JsonDataSource_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JsonDataSource_setPrototypeOf(e,t){return(JsonDataSource_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ci=function(){function JsonDataSource(){return function JsonDataSource_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,JsonDataSource),JsonDataSource_possibleConstructorReturn(this,JsonDataSource_getPrototypeOf(JsonDataSource).apply(this,arguments))}return function JsonDataSource_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JsonDataSource_setPrototypeOf(e,t)}(JsonDataSource,K),function JsonDataSource_createClass(e,t,r){return t&&JsonDataSource_defineProperties(e.prototype,t),r&&JsonDataSource_defineProperties(e,r),e}(JsonDataSource,[{key:"CanLoadDataModel",value:function CanLoadDataModel(){return JsonDataSource.IsSourceValid(this.Source)}},{key:"Source",get:function get(){return this.getValueRaw(G.Source)}}],[{key:"IsSourceValid",value:function IsSourceValid(e){if(!e)return!1;var t=e[G.NetType];return!!t&&(t==_.String?!!e[G.Value]:!!e[G.Path])}}]),JsonDataSource}();function ReportGroup_typeof(e){return(ReportGroup_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportGroup_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ReportGroup_possibleConstructorReturn(e,t){return!t||"object"!==ReportGroup_typeof(t)&&"function"!=typeof t?function ReportGroup_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportGroup_getPrototypeOf(e){return(ReportGroup_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportGroup_setPrototypeOf(e,t){return(ReportGroup_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ui=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},li=function(){function ReportGroup(e,t,r){var n;return function ReportGroup_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportGroup),(n=ReportGroup_possibleConstructorReturn(this,ReportGroup_getPrototypeOf(ReportGroup).call(this,e,t,r))).header=null,n.footer=null,n}return function ReportGroup_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportGroup_setPrototypeOf(e,t)}(ReportGroup,Me),function ReportGroup_createClass(e,t,r){return t&&ReportGroup_defineProperties(e.prototype,t),r&&ReportGroup_defineProperties(e,r),e}(ReportGroup,[{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return ui(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o,i,a,s,c;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(this.headerProperty=this.GetProperty(G.GroupHeader),this.footerProperty=this.GetProperty(G.GroupFooter),t=this.provider.GetService(I.IDesignerHost),t.GetService(I.IComponentChangeService),r=this.Parent,n=t.GetService(I.IDesignSurfaceManager),o=n.ActiveDesignSurface,a=i=null,s=this.PropertyStore[G.GroupHeader],c=this.PropertyStore[G.GroupFooter],s)return e.next=14,t.CreateComponent(_.GroupHeaderSection,s,r,!0);e.next=20;break;case 14:return i=e.sent,e.next=17,t.CreateComponent(_.GroupFooterSection,c,r,!0);case 17:a=e.sent,e.next=32;break;case 20:return e.next=22,o.CreateNewComponent(_.GroupHeaderSection,null,r);case 22:if(i=e.sent){e.next=25;break}throw new Error("Could not create new '".concat(_.GroupHeaderSection,"'."));case 25:return e.next=27,o.CreateNewComponent(_.GroupFooterSection,null,r);case 27:if(a=e.sent){e.next=30;break}throw new Error("Could not create new '".concat(_.GroupFooterSection,"'."));case 30:r.RemoveItem(i.PropertyStore),r.RemoveItem(a.PropertyStore);case 32:this.Header=i,this.Footer=a;case 34:case"end":return e.stop()}},_callee,this)}))}},{key:"DeleteSections",value:function DeleteSections(){this.Header.Delete(),this.Footer.Delete(),this.Header=null,this.Footer=null}},{key:"Header",get:function get(){return this.header},set:function set(e){(this.header=e)?this.headerProperty.SetValue(e.PropertyStore,this,this.PropertyStore):this.headerProperty.ResetValue(this,this.PropertyStore)}},{key:"Footer",get:function get(){return this.footer},set:function set(e){(this.footer=e)?this.footerProperty.SetValue(e.PropertyStore,this,this.PropertyStore):this.footerProperty.ResetValue(this,this.PropertyStore)}}]),ReportGroup}();function ReportParameter_typeof(e){return(ReportParameter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportParameter_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ReportParameter_possibleConstructorReturn(e,t){return!t||"object"!==ReportParameter_typeof(t)&&"function"!=typeof t?function ReportParameter_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportParameter_get(e,t,r){return(ReportParameter_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function ReportParameter_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ReportParameter_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function ReportParameter_getPrototypeOf(e){return(ReportParameter_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportParameter_setPrototypeOf(e,t){return(ReportParameter_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var pi=function(){function ReportParameter(){return function ReportParameter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportParameter),ReportParameter_possibleConstructorReturn(this,ReportParameter_getPrototypeOf(ReportParameter).apply(this,arguments))}return function ReportParameter_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportParameter_setPrototypeOf(e,t)}(ReportParameter,Qo),function ReportParameter_createClass(e,t,r){return t&&ReportParameter_defineProperties(e.prototype,t),r&&ReportParameter_defineProperties(e,r),e}(ReportParameter,[{key:"Delete",value:function Delete(){var e=this.Parent;ReportParameter_get(ReportParameter_getPrototypeOf(ReportParameter.prototype),"DeleteCollectionComponent",this).call(this,e.ReportParameters,G.ReportParameters)}},{key:"DataSourceName",get:function get(){var e=this.PropertyStore[G.AvailableValues];return e?e[G.DataSourceName]:null},set:function set(e){var t,r=this.provider.GetService(I.IDesignerHost);r.InTransaction||(t=r.CreateTransaction("Change property '".concat(G.DataSourceName,"' of '").concat(this.Name,"'")));var n=this.provider.GetService(I.IComponentChangeService);this.PropertyStore[G.AvailableValues]||(this.PropertyStore[G.AvailableValues]={});var o=this.PropertyStore[G.AvailableValues];if(n.OnComponentChanging(this,null),e){var i=o[G.DataSourceName];o[G.DataSourceName]=e,this.RaiseComponentChanged(null,i,e)}else{var a=o[G.DataSourceName];delete o[G.DataSourceName],this.RaiseComponentChanged(null,a,void 0)}t&&t.Commit()}}]),ReportParameter}();function SqlDataSource_typeof(e){return(SqlDataSource_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlDataSource_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlDataSource_possibleConstructorReturn(e,t){return!t||"object"!==SqlDataSource_typeof(t)&&"function"!=typeof t?function SqlDataSource_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlDataSource_getPrototypeOf(e){return(SqlDataSource_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlDataSource_setPrototypeOf(e,t){return(SqlDataSource_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var fi=function(){function SqlDataSource(){return function SqlDataSource_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlDataSource),SqlDataSource_possibleConstructorReturn(this,SqlDataSource_getPrototypeOf(SqlDataSource).apply(this,arguments))}return function SqlDataSource_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlDataSource_setPrototypeOf(e,t)}(SqlDataSource,K),function SqlDataSource_createClass(e,t,r){return t&&SqlDataSource_defineProperties(e.prototype,t),r&&SqlDataSource_defineProperties(e,r),e}(SqlDataSource,[{key:"CanLoadDataModel",value:function CanLoadDataModel(){return!!this.ConnectionString&&!!this.SelectCommand}},{key:"ConnectionString",get:function get(){return this.getValueRaw(G.ConnectionString)}},{key:"ProviderName",get:function get(){return this.getValueRaw(G.ProviderName)}},{key:"SelectCommand",get:function get(){return this.getValueRaw(G.SelectCommand)}},{key:"CommandType",get:function get(){return this.getValueRaw(G.CommandType)}},{key:"CommandTimeout",get:function get(){return this.getValueRaw(G.CommandTimeout)}}]),SqlDataSource}();function StyleRule_typeof(e){return(StyleRule_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function StyleRule_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function StyleRule_possibleConstructorReturn(e,t){return!t||"object"!==StyleRule_typeof(t)&&"function"!=typeof t?function StyleRule_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function StyleRule_getPrototypeOf(e){return(StyleRule_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function StyleRule_setPrototypeOf(e,t){return(StyleRule_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var di=function(){function StyleRule(e,t,r){var n;return function StyleRule_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StyleRule),(n=StyleRule_possibleConstructorReturn(this,StyleRule_getPrototypeOf(StyleRule).call(this,e,t,r,!1))).Style=n.PropertyStore[G.Style],n.Selectors=n.PropertyStore[G.Selectors],n}return function StyleRule_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&StyleRule_setPrototypeOf(e,t)}(StyleRule,S),function StyleRule_createClass(e,t,r){return t&&StyleRule_defineProperties(e.prototype,t),r&&StyleRule_defineProperties(e,r),e}(StyleRule,[{key:"GetPropertyValue",value:function GetPropertyValue(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.getPropertyValuesCore(t).InlineValue}},{key:"Delete",value:function Delete(){var e=this.Parent,t=e.StyleSheet.indexOf(this);e.StyleSheet.splice(t,1);var r=e.PropertyStore[G.StyleSheet],n=r.indexOf(this.PropertyStore);r.splice(n,1),0===r.length&&delete e.PropertyStore[G.StyleSheet],this.Designer.Dispose(),e.ClearStyleRulesCache(),this.provider.GetService(I.IComponentChangeService).OnComponentRemoved(this)}}]),StyleRule}();function ClientTypes_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var yi=function(){function ClientTypes(){!function ClientTypes_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ClientTypes)}return function ClientTypes_createClass(e,t,r){return t&&ClientTypes_defineProperties(e.prototype,t),r&&ClientTypes_defineProperties(e,r),e}(ClientTypes,null,[{key:"ReportStyleSheet",get:function get(){return"ReportStyleSheet"}},{key:"ReportDataSources",get:function get(){return"ReportDataSources"}},{key:"ReportParameters",get:function get(){return"ReportParameters"}},{key:"ReportGroups",get:function get(){return"Groups"}},{key:"TableGroups",get:function get(){return"TableGroups"}},{key:"TablePart",get:function get(){return"TablePart"}},{key:"None",get:function get(){return"(none)"}}]),ClientTypes}();function TableGroups_typeof(e){return(TableGroups_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TableGroups_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TableGroups_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TableGroups_possibleConstructorReturn(e,t){return!t||"object"!==TableGroups_typeof(t)&&"function"!=typeof t?function TableGroups_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TableGroups_getPrototypeOf(e){return(TableGroups_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TableGroups_setPrototypeOf(e,t){return(TableGroups_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var hi=function(){function TableGroups(e,t,r){var n;return function TableGroups_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableGroups),(n=TableGroups_possibleConstructorReturn(this,TableGroups_getPrototypeOf(TableGroups).call(this,TableGroups.getPropertyStore(),t,r))).groups=e,n}return function TableGroups_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TableGroups_setPrototypeOf(e,t)}(TableGroups,k),function TableGroups_createClass(e,t,r){return t&&TableGroups_defineProperties(e.prototype,t),r&&TableGroups_defineProperties(e,r),e}(TableGroups,[{key:"GetType",value:function GetType(){return yi.TableGroups}},{key:"Groups",get:function get(){return this.groups}}],[{key:"getPropertyStore",value:function getPropertyStore(){var e;return TableGroups_defineProperty(e={},G.NetType,"ItemCollection"),TableGroups_defineProperty(e,G.Type,"ItemCollection"),TableGroups_defineProperty(e,G.Name,"Groups"),e}}]),TableGroups}();function TablePart_typeof(e){return(TablePart_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TablePart_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TablePart_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TablePart_possibleConstructorReturn(e,t){return!t||"object"!==TablePart_typeof(t)&&"function"!=typeof t?function TablePart_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TablePart_getPrototypeOf(e){return(TablePart_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TablePart_setPrototypeOf(e,t){return(TablePart_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var mi=function(){function TablePart(e,t,r){var n;return function TablePart_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TablePart),(n=TablePart_possibleConstructorReturn(this,TablePart_getPrototypeOf(TablePart).call(this,TablePart.getPropertyStore(),t,r))).CellContainer=e,n}return function TablePart_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TablePart_setPrototypeOf(e,t)}(TablePart,k),function TablePart_createClass(e,t,r){return t&&TablePart_defineProperties(e.prototype,t),r&&TablePart_defineProperties(e,r),e}(TablePart,[{key:"GetType",value:function GetType(){return yi.TablePart}}],[{key:"getPropertyStore",value:function getPropertyStore(){var e;return TablePart_defineProperty(e={},G.NetType,"ItemCollection"),TablePart_defineProperty(e,G.Type,"ItemCollection"),TablePart_defineProperty(e,G.Name,"Cells"),e}}]),TablePart}();function WebServiceDataSource_typeof(e){return(WebServiceDataSource_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WebServiceDataSource_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WebServiceDataSource_possibleConstructorReturn(e,t){return!t||"object"!==WebServiceDataSource_typeof(t)&&"function"!=typeof t?function WebServiceDataSource_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function WebServiceDataSource_getPrototypeOf(e){return(WebServiceDataSource_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WebServiceDataSource_setPrototypeOf(e,t){return(WebServiceDataSource_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var gi=function(){function WebServiceDataSource(){return function WebServiceDataSource_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WebServiceDataSource),WebServiceDataSource_possibleConstructorReturn(this,WebServiceDataSource_getPrototypeOf(WebServiceDataSource).apply(this,arguments))}return function WebServiceDataSource_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WebServiceDataSource_setPrototypeOf(e,t)}(WebServiceDataSource,K),function WebServiceDataSource_createClass(e,t,r){return t&&WebServiceDataSource_defineProperties(e.prototype,t),r&&WebServiceDataSource_defineProperties(e,r),e}(WebServiceDataSource,[{key:"CanLoadDataModel",value:function CanLoadDataModel(){return!!this.ServiceUrl||ci.IsSourceValid(this.Source)}},{key:"Source",get:function get(){return this.getValueRaw(G.Source)}},{key:"ServiceUrl",get:function get(){return this.getValueRaw(G.ServiceUrl)}}]),WebServiceDataSource}();function Xna(e){!function CultureContext_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Xna),this.decimalSeparator=e.decimalSeparator,this.listSeparator=e.listSeparator}function SnapLineType_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var vi=function(){function SnapLineType(){!function SnapLineType_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SnapLineType)}return function SnapLineType_createClass(e,t,r){return t&&SnapLineType_defineProperties(e.prototype,t),r&&SnapLineType_defineProperties(e,r),e}(SnapLineType,null,[{key:"Top",get:function get(){return"Top"}},{key:"Bottom",get:function get(){return"Bottom"}},{key:"Left",get:function get(){return"Left"}},{key:"Right",get:function get(){return"Right"}},{key:"Horizontal",get:function get(){return"Horizontal"}},{key:"Vertical",get:function get(){return"Vertical"}},{key:"Baseline",get:function get(){return"Baseline"}}]),SnapLineType}();function SnapLinePriority_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var bi=function(){function SnapLinePriority(){!function SnapLinePriority_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SnapLinePriority)}return function SnapLinePriority_createClass(e,t,r){return t&&SnapLinePriority_defineProperties(e.prototype,t),r&&SnapLinePriority_defineProperties(e,r),e}(SnapLinePriority,null,[{key:"Low",get:function get(){return 1}},{key:"Medium",get:function get(){return 2}},{key:"High",get:function get(){return 3}},{key:"Always",get:function get(){return 4}}]),SnapLinePriority}();function SnapLine_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _i=function(){function SnapLine(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:bi.Low;!function SnapLine_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SnapLine),this.SnapLineType=e,this.Offset=t,this.Filter=r,this.Priority=n,this.Tag=""}return function SnapLine_createClass(e,t,r){return t&&SnapLine_defineProperties(e.prototype,t),r&&SnapLine_defineProperties(e,r),e}(SnapLine,[{key:"AdjustOffset",value:function AdjustOffset(e){this.Offset+=e}},{key:"IsHorizontal",get:function get(){return this.SnapLineType===vi.Top||this.SnapLineType===vi.Bottom||this.SnapLineType===vi.Horizontal||this.SnapLineType===vi.Baseline}},{key:"IsVertical",get:function get(){return this.SnapLineType===vi.Left||this.SnapLineType===vi.Right||this.SnapLineType===vi.Vertical}}],[{key:"ShouldSnap",value:function ShouldSnap(e,t,r,n){if(e.SnapLineType!==r.SnapLineType)return!1;if(null==e.Filter&&null==r.Filter)return!0;if(null==e.Filter||null==r.Filter)return!1;if(e.Filter.includes(SnapLine.Margin))switch(e.Filter){case SnapLine.MarginRight:return SnapLine.HorizontalIntersects(t,n)&&(r.Filter===SnapLine.MarginLeft||r.Filter===SnapLine.PaddingRight);case SnapLine.MarginLeft:return SnapLine.HorizontalIntersects(t,n)&&(r.Filter===SnapLine.MarginRight||r.Filter===SnapLine.PaddingLeft);case SnapLine.MarginTop:return SnapLine.VerticalIntersects(t,n)&&(r.Filter===SnapLine.MarginBottom||r.Filter===SnapLine.PaddingTop);case SnapLine.MarginBottom:return SnapLine.VerticalIntersects(t,n)&&(r.Filter===SnapLine.MarginTop||r.Filter===SnapLine.PaddingBottom)}if(e.Filter.includes(SnapLine.Padding))switch(e.Filter){case SnapLine.PaddingTop:return SnapLine.VerticalIntersects(t,n)&&r.Filter===SnapLine.MarginTop;case SnapLine.PaddingBottom:return SnapLine.VerticalIntersects(t,n)&&r.Filter===SnapLine.MarginBottom;case SnapLine.PaddingLeft:return SnapLine.HorizontalIntersects(t,n)&&r.Filter===SnapLine.MarginLeft;case SnapLine.PaddingRight:return SnapLine.HorizontalIntersects(t,n)&&r.Filter===SnapLine.MarginRight}return e.Filter===r.Filter}},{key:"HorizontalIntersects",value:function HorizontalIntersects(e,t){return e.Top<=t.Top&&t.Top<=e.Bottom||t.Top<=e.Top&&e.Top<=t.Bottom}},{key:"VerticalIntersects",value:function VerticalIntersects(e,t){return e.Left<=t.Left&&t.Left<=e.Right||t.Left<=e.Left&&e.Left<=t.Right}},{key:"Margin",get:function get(){return"Margin"}},{key:"MarginBottom",get:function get(){return"Margin.Bottom"}},{key:"MarginLeft",get:function get(){return"Margin.Left"}},{key:"MarginRight",get:function get(){return"Margin.Right"}},{key:"MarginTop",get:function get(){return"Margin.Top"}},{key:"Padding",get:function get(){return"Padding"}},{key:"PaddingBottom",get:function get(){return"Padding.Bottom"}},{key:"PaddingLeft",get:function get(){return"Padding.Left"}},{key:"PaddingRight",get:function get(){return"Padding.Right"}},{key:"PaddingTop",get:function get(){return"Padding.Top"}}]),SnapLine}();function ContextMenuItem_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Si=function(){function ContextMenuItem(e,t){!function ContextMenuItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ContextMenuItem),this.label=e,this.provider=t}return function ContextMenuItem_createClass(e,t,r){return t&&ContextMenuItem_defineProperties(e.prototype,t),r&&ContextMenuItem_defineProperties(e,r),e}(ContextMenuItem,[{key:"Execute",value:function Execute(e){try{if(this.QueryAction()){var t=this.provider.GetService(I.IDesignerHost).CreateTransaction(this.label);try{this.PerformAction(e)?t.Commit():t.Rollback()}catch(e){throw t.Rollback(),e}}}catch(e){this.provider.GetService(I.Notifications).Error("Error executing action '".concat(this.label,"'"),e)}}},{key:"QueryAction",value:function QueryAction(){return!0}}]),ContextMenuItem}();function StandardCommandContextMenuItem_typeof(e){return(StandardCommandContextMenuItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function StandardCommandContextMenuItem_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function StandardCommandContextMenuItem_possibleConstructorReturn(e,t){return!t||"object"!==StandardCommandContextMenuItem_typeof(t)&&"function"!=typeof t?function StandardCommandContextMenuItem_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function StandardCommandContextMenuItem_getPrototypeOf(e){return(StandardCommandContextMenuItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function StandardCommandContextMenuItem_setPrototypeOf(e,t){return(StandardCommandContextMenuItem_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ci=function(){function StandardCommandContextMenuItem(e,t,r){var n;return function StandardCommandContextMenuItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StandardCommandContextMenuItem),(n=StandardCommandContextMenuItem_possibleConstructorReturn(this,StandardCommandContextMenuItem_getPrototypeOf(StandardCommandContextMenuItem).call(this,e,t))).commandId=r,n}return function StandardCommandContextMenuItem_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&StandardCommandContextMenuItem_setPrototypeOf(e,t)}(StandardCommandContextMenuItem,Si),function StandardCommandContextMenuItem_createClass(e,t,r){return t&&StandardCommandContextMenuItem_defineProperties(e.prototype,t),r&&StandardCommandContextMenuItem_defineProperties(e,r),e}(StandardCommandContextMenuItem,[{key:"PerformAction",value:function PerformAction(e){return this.provider.GetService(I.TargetCommandManager).TryExecuteCommand(this.commandId,e)}}]),StandardCommandContextMenuItem}();function LineType_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Pi=function(){function LineType(){!function LineType_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LineType)}return function LineType_createClass(e,t,r){return t&&LineType_defineProperties(e.prototype,t),r&&LineType_defineProperties(e,r),e}(LineType,null,[{key:"Standard",get:function get(){return"Standard"}},{key:"Margin",get:function get(){return"Margin"}},{key:"Padding",get:function get(){return"Padding"}},{key:"Baseline",get:function get(){return"Baseline"}}]),LineType}();function coa(e){!function Glyph_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,coa),this.Behavior=e}function SnapLineGlyph_typeof(e){return(SnapLineGlyph_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SnapLineGlyph_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SnapLineGlyph_possibleConstructorReturn(e,t){return!t||"object"!==SnapLineGlyph_typeof(t)&&"function"!=typeof t?function SnapLineGlyph_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SnapLineGlyph_getPrototypeOf(e){return(SnapLineGlyph_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SnapLineGlyph_setPrototypeOf(e,t){return(SnapLineGlyph_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var wi=function(){function SnapLineGlyph(e,t,r,n,o){var i;return function SnapLineGlyph_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SnapLineGlyph),(i=SnapLineGlyph_possibleConstructorReturn(this,SnapLineGlyph_getPrototypeOf(SnapLineGlyph).call(this,null))).type=e||Pi.Standard,i.x1=t,i.y1=r,i.x2=n,i.y2=o,i.originalBounds=zr.Empty,i.baseDesigner,i.tag,i}return function SnapLineGlyph_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SnapLineGlyph_setPrototypeOf(e,t)}(SnapLineGlyph,coa),function SnapLineGlyph_createClass(e,t,r){return t&&SnapLineGlyph_defineProperties(e.prototype,t),r&&SnapLineGlyph_defineProperties(e,r),e}(SnapLineGlyph,[{key:"OriginalBounds",get:function get(){return this.originalBounds},set:function set(e){this.originalBounds=e}},{key:"Tag",get:function get(){return this.tag},set:function set(e){this.tag=e}},{key:"Designer",set:function set(e){this.baseDesigner=e}}],[{key:"Overlap",value:function Overlap(e,t){if(e.type===t.type){if(e.type!==Pi.Standard&&e.type!==Pi.Baseline)return null;if(e.x1===e.x2&&t.x1===t.x2&&e.x1===t.x1)return new SnapLineGlyph(e.type,e.x1,Math.min(e.y1,t.y1),e.x1,Math.max(e.y2,t.y2));if(e.y1===e.y2&&t.y1===t.y2&&e.y1===t.y1)return new SnapLineGlyph(e.type,Math.min(e.x1,t.x1),e.y1,Math.max(e.x2,t.x2),e.y1)}return null}}]),SnapLineGlyph}();function eoa(e,t,r){!function SnapResult_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,eoa),this.SizeF=e,this.SnappedX=t,this.SnappedY=r}function SnapLineEngine_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Oi=function(){function SnapLineEngine(e,t,r){!function SnapLineEngine_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SnapLineEngine),this.provider=r,this.InvalidDistance=5e4,this.dragComponents=e,this.designerHost=this.provider.GetService(I.IDesignerHost),this.targetVerticalSnapLines=[],this.targetHorizontalSnapLines=[],this.verticalSnapLines=[],this.horizontalSnapLines=[],this.snapLineToBounds=new Map,this.verticalDistances,this.horizontalDistances,this.snapThreshold=t,this.snapOffsetX,this.snapOffsetY,this.dragOffset,this.behaviorService=this.provider.GetService(I.BehaviorService),this.Initialize()}return function SnapLineEngine_createClass(e,t,r){return t&&SnapLineEngine_defineProperties(e.prototype,t),r&&SnapLineEngine_defineProperties(e,r),e}(SnapLineEngine,[{key:"Dispose",value:function Dispose(){this.Stop()}},{key:"Stop",value:function Stop(){this.SnapLineGlyphs.length=0}},{key:"Initialize",value:function Initialize(){this.dragOffset=zr.Empty;var e=null;if(this.dragComponents&&0<this.dragComponents.length&&this.dragComponents[0]instanceof A&&(e=this.dragComponents[0]),e){var t=e.Designer;t&&t instanceof Hi&&(this.AddSnapLines(t,this.targetVerticalSnapLines,this.targetHorizontalSnapLines,!0),this.dragOffset=t.GetBounds(!0))}var r=e instanceof Q?[this.designerHost.RootComponent]:this.designerHost.Components,n=!0,o=!1,i=void 0;try{for(var a,s=r[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(this.CanAddSnapLines(c,e)){var u=c.Designer;u&&u instanceof Hi&&this.AddSnapLines(u,this.verticalSnapLines,this.horizontalSnapLines,!1)}}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}this.verticalDistances=new Array(this.verticalSnapLines.length),this.horizontalDistances=new Array(this.horizontalSnapLines.length),this.SnapLineGlyphs.length=0}},{key:"AddSnapLines",value:function AddSnapLines(e,t,r,n){var o=e.GetBounds(!0),i=!0,a=!1,s=void 0;try{for(var c,u=e.SnapLines()[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value;l.Tag=""+e.Component,n||this.snapLineToBounds.set(l,o),l.IsHorizontal?r.push(l):t.push(l)}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}}},{key:"Snap",value:function Snap(e,t){if(t){this.targetVerticalSnapLines.length=0;var r=!(this.targetHorizontalSnapLines.length=0),n=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;s.IsHorizontal?this.targetHorizontalSnapLines.push(s):this.targetVerticalSnapLines.push(s)}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}return this.SnapOverload(e,null==t)}},{key:"SnapOverload",value:function SnapOverload(e,t){if(t){for(var r=new B(e.X-this.dragOffset.X,e.Y-this.dragOffset.Y),n=0;n<this.targetHorizontalSnapLines.length;n++)this.targetHorizontalSnapLines[n].AdjustOffset(r.Height);for(var o=0;o<this.targetVerticalSnapLines.length;o++)this.targetVerticalSnapLines[o].AdjustOffset(r.Width)}this.SnapLineGlyphs.length=0;var i=!1,a=!1;return this.snapOffsetX=this.CalculateMinDistance(this.targetVerticalSnapLines,this.verticalSnapLines,this.snapLineToBounds,e,this.verticalDistances),this.snapOffsetY=this.CalculateMinDistance(this.targetHorizontalSnapLines,this.horizontalSnapLines,this.snapLineToBounds,e,this.horizontalDistances),Math.abs(this.snapOffsetX)-this.snapThreshold>Number.EPSILON&&(this.snapOffsetX=this.InvalidDistance),Math.abs(this.snapOffsetY)-this.snapThreshold>Number.EPSILON&&(this.snapOffsetY=this.InvalidDistance),this.snapOffsetX!==this.InvalidDistance&&(this.AddSnapLineGlyphs(this.verticalSnapLines,this.verticalDistances,this.snapOffsetX,e),i=!0),this.snapOffsetY!==this.InvalidDistance&&(this.AddSnapLineGlyphs(this.horizontalSnapLines,this.horizontalDistances,this.snapOffsetY,e),a=!0),this.dragOffset=e,new eoa(new B(i?-this.snapOffsetX:0,a?-this.snapOffsetY:0),i,a)}},{key:"CalculateMinDistance",value:function CalculateMinDistance(e,t,r,n,o){for(var i=this.InvalidDistance,a=0,s=0;s<t.length;s++){for(var c=t[s],u=this.InvalidDistance,l=0;l<e.length;l++){var p=e[l];if(_i.ShouldSnap(c,r.get(c),p,n)){var f=p.Offset-c.Offset;Math.abs(f)<Math.abs(u)&&(u=f)}}o[s]=u;var d=Math.abs(u)-Math.abs(i);(d<0||Math.abs(d)<Number.EPSILON&&c.Priority>a)&&(i=u,c.Priority!==bi.Always&&(a=c.Priority))}return i}},{key:"CanAddSnapLines",value:function CanAddSnapLines(e,t){return e instanceof A&&(!this.dragComponents||!this.dragComponents.includes(e))&&!this.IsChildOf(e,t)}},{key:"AddSnapLineGlyphs",value:function AddSnapLineGlyphs(e,t,r,n){for(var o=1,i=0;i<t.length;i++)if(Math.abs(Math.abs(t[i])-Math.abs(r))<Number.EPSILON){var a=e[i].Priority;o<a&&a!==bi.Always&&(o=a)}for(var s=this.dragComponents[0].Designer,c=0;c<t.length;c++)Math.abs(Math.abs(t[c])-Math.abs(r))<Number.EPSILON&&(e[c].Priority===o||e[c].Priority===bi.Always)&&this.AddSnapLineGlyph(e[c],n,s)}},{key:"AddSnapLineGlyph",value:function AddSnapLineGlyph(e,t,r){var n,o=this.snapLineToBounds.get(e),i=Pi.Standard;if(e.SnapLineType===vi.Baseline?i=Pi.Baseline:e.Filter&&e.Filter.startsWith("Margin")?i=Pi.Margin:e.Filter&&e.Filter.startsWith("Padding")&&(i=Pi.Padding),e.IsVertical){var a=t.Top-(this.snapOffsetY!==this.InvalidDistance?this.snapOffsetY:0),s=t.Bottom-(this.snapOffsetY!==this.InvalidDistance?this.snapOffsetY:0);n=new wi(i,e.Offset,Math.min(a,o.Top),e.Offset,Math.max(s,o.Bottom))}else{var c=t.Left-(this.snapOffsetX!==this.InvalidDistance?this.snapOffsetX:0),u=t.Right-(this.snapOffsetX!==this.InvalidDistance?this.snapOffsetX:0);n=new wi(i,Math.min(c,o.Left),e.Offset,Math.max(u,o.Right),e.Offset)}n.OriginalBounds=o,n.Designer=r,n.Tag=e.Filter,this.CombineSnapLines(n)}},{key:"CombineSnapLines",value:function CombineSnapLines(e){for(var t=!0,r=0;r<this.SnapLineGlyphs.length;r++){var n=this.SnapLineGlyphs[r],o=wi.Overlap(n,e);o&&(this.SnapLineGlyphs[r]=o,t=!1)}t&&this.SnapLineGlyphs.push(e)}},{key:"IsChildOf",value:function IsChildOf(e,t){if(e&&t)for(;e.Parent;){if(e.Parent===t)return!0;e=e.Parent}return!1}},{key:"SnapLineGlyphs",get:function get(){return this.behaviorService.SnapLinesAdorner.Glyphs}}]),SnapLineEngine}();function SnappingEngine_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ei=function(){function SnappingEngine(e,t){if(!function SnappingEngine_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SnappingEngine),this.provider=t,this.behaviorService=this.provider.GetService(I.BehaviorService),this.snapLineEngine=null,this.snapInfo=null,this.behaviorService.SnapToSnapLines&&(this.snapLineEngine=new Oi(e,8,t)),this.behaviorService.SnapToGrid){var r=this.behaviorService.SnapGridService;this.snapInfo=r.GetSnapGridInfo()}}return function SnappingEngine_createClass(e,t,r){return t&&SnappingEngine_defineProperties(e.prototype,t),r&&SnappingEngine_defineProperties(e,r),e}(SnappingEngine,[{key:"Dispose",value:function Dispose(){this.snapLineEngine&&(this.snapLineEngine.Dispose(),this.snapLineEngine=null)}},{key:"Snap",value:function Snap(e,t,r){var n=2<arguments.length&&void 0!==r?r:null,o=!1,i=!1,a=B.Empty;if(this.snapLineEngine){var s=this.snapLineEngine.Snap(t,n);a=s.SizeF,o=s.SnappedX,i=s.SnappedY}if(this.snapInfo&&(!o||!i)&&this.behaviorService.ShouldSnap){var c=this.snapInfo.Snap(e,!o,!i);o||(a.Width=c.Width),i||(a.Height=c.Height)}return a}}]),SnappingEngine}();function Format_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ki=function(){function Format(){!function Format_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Format)}return function Format_createClass(e,t,r){return t&&Format_defineProperties(e.prototype,t),r&&Format_defineProperties(e,r),e}(Format,null,[{key:"String",value:function String(e,t){var r,n=e.toString();if(Object.keys(t).length)for(r in t)n=n.replace(new RegExp("\\{"+r+"\\}","gi"),t[r]);return n}}]),Format}();function DragItem_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ti=function(){function DragItem(e,t){!function DragItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DragItem),this.designer=e,this.initBounds=this.designer.GetBounds(!0)}return function DragItem_createClass(e,t,r){return t&&DragItem_defineProperties(e.prototype,t),r&&DragItem_defineProperties(e,r),e}(DragItem,[{key:"Item",get:function get(){return this.designer.Component}},{key:"Designer",get:function get(){return this.designer}},{key:"OriginalBounds",get:function get(){return this.initBounds}}]),DragItem}();function DesignerOverlay_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Di=function(){function DesignerOverlay(e,t){!function DesignerOverlay_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DesignerOverlay),this.designer=e,this.provider=t,this.originalDimensions=null,this.isDraggableInitialized=!1,this.isDroppableInitialized=!1,this.zIndex=0,this.visible=!0,this.designerPosition=Vr.Empty,this.designSurfaceManager=t.GetService(I.IDesignSurfaceManager)}return function DesignerOverlay_createClass(e,t,r){return t&&DesignerOverlay_defineProperties(e.prototype,t),r&&DesignerOverlay_defineProperties(e,r),e}(DesignerOverlay,[{key:"Initialize",value:function Initialize(e,t,r){var n=!(2<arguments.length&&void 0!==r)||r;this.$parent=this.designer.Component.Parent?this.designer.Component.Parent.Designer.Overlay.VisualElement:this.designSurfaceManager.ActiveDesignSurface.VisualElement,this.$parent.append(this.template),this.$visualElement=this.$parent.find("[data-component-overlay='"+this.designer.Component.Name+"']"),this.str=this.provider.GetService(I.WebReportDesignerStrings),this.visible=n,this.Update(),e&&this.initDraggable(),t&&this.initDroppable(),this.zIndex=this.designer.Overlay.ZIndex+1}},{key:"Update",value:function Update(){var e=this.calculateStyles();this.VisualElement.css(e),this.$visualElement.attr("data-component-overlay",this.designer.Component.Name),this.setBorders()}},{key:"UpdatePosition",value:function UpdatePosition(e){var t={left:this.originalDimensions.left+e.left+"px",top:this.originalDimensions.top+e.top+"px"};this.VisualElement.css(t)}},{key:"SaveCurrentDimensions",value:function SaveCurrentDimensions(){this.originalDimensions=this.getOriginalDimensions(this.VisualElement)}},{key:"initDraggable",value:function initDraggable(){var u=this,l=B.Empty;this.$visualElement.addClass("-draggable-component"),this.$visualElement.draggable({disabled:!0,helper:"clone",start:function start(){u.snappingEngine=new Ei([u.designer.Component],u.provider),u.designer.Resizable.Disable(),u.SaveDesignerPosition()},drag:function drag(e,t){var r=t.originalPosition.top,n=t.originalPosition.left,o=t.position.top,i=t.position.left;l.Width=i-n,l.Height=o-r;var a=u.designer.Component,s=new Ti(a.Designer,l);s.OriginalBounds.Offset(l.Width,l.Height);var c=u.snappingEngine.Snap(s.OriginalBounds.Location,s.OriginalBounds,null);t.position.top+=c.Height,t.position.left+=c.Width,l.Height+=c.Height,l.Width+=c.Width},stop:function stop(){var e=u.designer.Zoom;if(u.designer.VisualElement.attr("data-parent-changed"))u.designer.VisualElement.removeAttr("data-parent-changed");else{var t=new Vr((u.designerPosition.X+l.Width)/e,(u.designerPosition.Y+l.Height)/e);u.designer.Drag(t),u.designer.Resizable.Enable()}u.snappingEngine&&(u.snappingEngine.Dispose(),u.snappingEngine=null)}}),this.isDraggableInitialized=!0}},{key:"initDroppable",value:function initDroppable(){var u=this;this.$visualElement.droppable({greedy:!0,accept:".-draggable-component",over:function over(e){u.ShowDroppableStyle($(e.target)),u.HideDroppableParentsStyle()},out:function out(){u.HideDroppableStyle(),u.HideDroppableParentsStyle()},drop:function drop(e,t){var r=u.getDraggableComponent(t),n=r.VisualElement,o=r.Parent;if(u.designer.Component!==o&&u.designer.Component.CanParent(r.Type)){r.SetParent(u.designer.Component,!0);var i=u.designer.Zoom,a=u.$visualElement.offset(),s=t.helper.offset(),c=new Vr((s.left-a.left)/i,(s.top-a.top)/i);n.attr("data-parent-changed","true"),r.Designer.Drag(c),r.Designer.Resizable.Enable(),r.Designer.Overlay.VisualElement.appendTo(u.$visualElement)}u.HideDroppableStyle(),u.HideDroppableParentsStyle()}}),this.isDroppableInitialized=!0}},{key:"getDraggableComponent",value:function getDraggableComponent(e){var t=$(e.draggable[0]),r=this.provider.GetService(I.IDesignerHost),n=t.attr("data-component-overlay");return r.GetComponent(n)}},{key:"IsParent",value:function IsParent(e){var t=this.designer.Component.Parent;return t===e||!!t&&t.Designer.Overlay.IsParent(e)}},{key:"SaveDesignerPosition",value:function SaveDesignerPosition(){var e=this.designer.GetBounds(!1);this.designerPosition.X=e.Left,this.designerPosition.Y=e.Top}},{key:"Enable",value:function Enable(){this.isDraggableInitialized&&this.$visualElement.draggable("enable")}},{key:"Disable",value:function Disable(){this.isDraggableInitialized&&this.$visualElement.draggable("disable")}},{key:"Dispose",value:function Dispose(){this.$visualElement&&(this.isDraggableInitialized&&this.$visualElement.draggable("destroy"),this.IsDroppableInitialized&&this.$visualElement.droppable("destroy"),this.$visualElement.remove()),this.isDraggableInitialized=!1,this.isDroppableInitialized=!1}},{key:"GetDroppableParentOverlay",value:function GetDroppableParentOverlay(){var e=this.designer.Component.Parent;return e.Designer.Overlay.IsDroppableInitialized?e.Designer.Overlay:null}},{key:"ShowDroppableStyle",value:function ShowDroppableStyle(e){e.find(".dropping").length||this.$visualElement.addClass("dropping")}},{key:"HideDroppableStyle",value:function HideDroppableStyle(){this.$visualElement.removeClass("dropping")}},{key:"HideDroppableParentsStyle",value:function HideDroppableParentsStyle(){for(var e=this.GetDroppableParentOverlay();e;)e.HideDroppableStyle(),e=e.GetDroppableParentOverlay()}},{key:"SetOverlap",value:function SetOverlap(e,t,r){var n=0<arguments.length&&void 0!==e&&e,o=1<arguments.length&&void 0!==t?t:"",i=2<arguments.length&&void 0!==r?r:"";if(this.$visualElement.toggleClass("-overlapping",n),n){var a=ki.String(this.str.OverlapingMessage,{firstItem:o,secondItem:i});this.$visualElement.find(".overlay__overlap").attr("title",a)}}},{key:"getOriginalDimensions",value:function getOriginalDimensions(e){var t=e.position();return{width:e.outerWidth(),height:e.outerHeight(),left:t.left,top:t.top}}},{key:"calculateStyles",value:function calculateStyles(){var e=this.designer.VisualElementContent||this.designer.VisualElement,t=this.designer.VisualElement[0].offsetTop,r=this.designer.VisualElement[0].offsetLeft;return t+=j.ParseToPixels(this.designer.VisualElement.css("border-left-width"))/2,r+=j.ParseToPixels(this.designer.VisualElement.css("border-top-width"))/2,{width:e.outerWidth()+"px",height:e.outerHeight()+"px",left:r+"px",top:t+"px"}}},{key:"setBorders",value:function setBorders(){this.VisualElement.removeClass([s.OverlayNoBorders,s.OverlayNoBorderLeft,s.OverlayNoBorderTop,s.OverlayNoBorderRight,s.OverlayNoBorderBottom]),this.visible||this.VisualElement.addClass(s.OverlayNoBorders);var e=j.ParseToPixels(this.designer.VisualElement.css("border-left-width")),t=j.ParseToPixels(this.designer.VisualElement.css("border-top-width")),r=j.ParseToPixels(this.designer.VisualElement.css("border-right-width")),n=j.ParseToPixels(this.designer.VisualElement.css("border-bottom-width"));0<e&&this.VisualElement.addClass(s.OverlayNoBorderLeft),0<t&&this.VisualElement.addClass(s.OverlayNoBorderTop),0<r&&this.VisualElement.addClass(s.OverlayNoBorderRight),0<n&&this.VisualElement.addClass(s.OverlayNoBorderBottom)}},{key:"VisualElement",get:function get(){return this.$visualElement}},{key:"ZIndex",get:function get(){return this.zIndex}},{key:"IsDroppableInitialized",get:function get(){return this.isDroppableInitialized}},{key:"template",get:function get(){return'<div tabindex="'.concat(this.zIndex,'" class="twd-overlay" data-component-overlay="').concat(this.designer.Component.Name,'">\n            <span class="overlay__overlap">\n                <span class="k-icon k-i-overlap"></span>\n            </span>\n        </div>')}}]),DesignerOverlay}();function SelectionRules_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var xi=function(){function SelectionRules(){!function SelectionRules_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SelectionRules)}return function SelectionRules_createClass(e,t,r){return t&&SelectionRules_defineProperties(e.prototype,t),r&&SelectionRules_defineProperties(e,r),e}(SelectionRules,null,[{key:"None",get:function get(){return 1}},{key:"LeftSizeable",get:function get(){return 2}},{key:"RightSizeable",get:function get(){return 4}},{key:"TopSizeable",get:function get(){return 8}},{key:"BottomSizeable",get:function get(){return 16}},{key:"AllSizeable",get:function get(){return SelectionRules.LeftSizeable|SelectionRules.RightSizeable|SelectionRules.TopSizeable|SelectionRules.BottomSizeable}},{key:"Moveable",get:function get(){return 1<<28}},{key:"Visible",get:function get(){return 1<<30}}]),SelectionRules}();function ResizeRules_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ri=function(){function ResizeRules(){!function ResizeRules_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ResizeRules)}return function ResizeRules_createClass(e,t,r){return t&&ResizeRules_defineProperties(e.prototype,t),r&&ResizeRules_defineProperties(e,r),e}(ResizeRules,null,[{key:"Left",get:function get(){return"Left"}},{key:"Right",get:function get(){return"Right"}},{key:"Top",get:function get(){return"Top"}},{key:"Bottom",get:function get(){return"Bottom"}}]),ResizeRules}();function ResizeItem_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ii=function(){function ResizeItem(e){!function ResizeItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ResizeItem),this.Designer=e,this.originalBounds=this.Designer.GetBounds(!0)}return function ResizeItem_createClass(e,t,r){return t&&ResizeItem_defineProperties(e.prototype,t),r&&ResizeItem_defineProperties(e,r),e}(ResizeItem,[{key:"CalculateBounds",value:function CalculateBounds(e,t){var r=this.OriginalBounds,n=zr.Empty,o=this.Designer.Component.Parent;return o&&(n=o.Designer.GetClientBounds(!0)),this.CanResize(e,Ri.Left)&&(!n.IsEmpty&&r.Left+t.Width<n.Left&&(t.Width=n.Left-r.X),r.X+=t.Width,r.Width-=t.Width),this.CanResize(e,Ri.Right)&&(r.Width+=t.Width),this.CanResize(e,Ri.Top)&&(!n.IsEmpty&&r.Y+t.Height<n.Top&&(t.Height=n.Top-r.Y),r.Y+=t.Height,r.Height-=t.Height),this.CanResize(e,Ri.Bottom)&&(r.Height+=t.Height),r}},{key:"CanResize",value:function CanResize(){return!0}},{key:"Item",get:function get(){return this.Designer.Component}},{key:"OriginalBounds",get:function get(){return this.originalBounds}}]),ResizeItem}();function noa(e,t){!function SnapLinesResult_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,noa),this.SnapLines=e,this.SnapPoint=t}function Resizable_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Gi=function(){function Resizable(e,t){!function Resizable_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Resizable),this.designer=e,this.provider=t,this.isInitialized=!1,this.originalDimensions=zr.Empty,this.hasHandlers=!0,this.designSurfaceManager=t.GetService(I.IDesignSurfaceManager),this.selectionService=t.GetService(I.SelectionService),this.snappingEngine=null,this.behaviorService=null,this.selectionRules=xi.None,this.mouseStartPosition=Vr.Empty,this.designSurface=this.designSurfaceManager.ActiveDesignSurface,this.$parent=this.designSurface.VisualElement}return function Resizable_createClass(e,t,r){return t&&Resizable_defineProperties(e.prototype,t),r&&Resizable_defineProperties(e,r),e}(Resizable,[{key:"Dispose",value:function Dispose(){this.isInitialized&&(this.isInitialized=!1,this.$visualElement&&(this.$visualElement.resizable("destroy"),this.$visualElement.remove()))}},{key:"Initialize",value:function Initialize(){var g=this;this.$parent.append(this.template),this.$visualElement=this.$parent.find("[data-component-resizable='"+this.designer.Component.Name+"']");var v=this.selectionService.GetSelectedComponents(),e=this.calculateCssResizeDimensions(),b=new zr(Vr.Empty,B.Empty);this.VisualElement.resizable({handles:this.designer.GetResizableHandles,minWidth:this.designer.CalculateMinSize().Width.ToPixels(),minHeight:this.designer.CalculateMinSize().Height.ToPixels(),resize:function resize(e,t){var r=t.originalPosition.top,n=t.originalPosition.left,o=t.originalSize.width,i=t.originalSize.height,a=t.position.top,s=t.position.left,c=t.size.width,u=t.size.height,l=a+u,p=s+c,f=g.VisualElement.resizable("widget").data().uiResizable.axis,d=g.getMousePosition(f,a,s,c,u);g.mouseStartPosition=g.getMousePosition(f,r,n,o,i);var y=new Ii(v[0].Designer);if(d=g.Snap(d,y),f.includes("n")&&d.Y!==a&&(t.position.top=d.Y,t.size.height+=a-d.Y),f.includes("w")&&d.X!==s&&(t.position.left=d.X,t.size.width+=s-d.X),f.includes("s")&&d.Y!==l&&(t.size.height+=d.Y-l),f.includes("e")&&d.X!==p&&(t.size.width+=d.X-p),b.Left=t.position.left-n,b.Top=t.position.top-r,b.Width=t.size.width-o,b.Height=t.size.height-i,1<v.length)for(var h=0;h<v.length;h++){var m=v[h].Designer;m.Component.Name!==g.designer.Component.Name&&m.Resizable.Resize(b)}},start:function start(){if(g.snappingEngine=new Ei(v,g.provider),g.designer.OnResizeStart(),1<v.length)for(var e=0;e<v.length;e++){var t=v[e].Designer;t.Component.Name!==g.designer.Component.Name&&t.Resizable.SaveCurrentDimensions()}g.designSurface.designerHost.HasActiveResizeOperation=!0},stop:function stop(){if(g.UpdateDesigner(b),1<v.length)for(var e=0;e<v.length;e++){var t=v[e].Designer;t.Component.Name!==g.designer.Component.Name&&t.Resizable.UpdateDesigner(b)}g.snappingEngine&&(g.snappingEngine.Dispose(),g.snappingEngine=null),g.designSurface.designerHost.HasActiveResizeOperation=!1}}),this.VisualElement.css(e),this.VisualElement.toggleClass("-no-handlers",!this.hasHandlers),this.isInitialized=!0}},{key:"getMousePosition",value:function getMousePosition(e,t,r,n,o){var i=new Vr(r,t);return this.selectionRules=0,e.includes("n")&&(this.selectionRules|=xi.TopSizeable),e.includes("w")&&(this.selectionRules|=xi.LeftSizeable),e.includes("s")&&(i.Y+=o,this.selectionRules|=xi.BottomSizeable),e.includes("e")&&(i.X+=n,this.selectionRules|=xi.RightSizeable),i}},{key:"Update",value:function Update(){if(this.IsInitialized){var e=this.calculateCssResizeDimensions();this.VisualElement.css(e),this.VisualElement.toggleClass("-no-handlers",!this.hasHandlers)}}},{key:"UpdateDesigner",value:function UpdateDesigner(e){var t=this.designer.GetBounds(!1),r=new zr(new Vr(t.Left+e.Left,t.Top+e.Top),new B(t.Width+e.Width,t.Height+e.Height));this.designer.VisualElementContent&&(r.Width=t.Width+e.Width,r.Height=t.Height+e.Height),this.designer.Resize(r)}},{key:"Resize",value:function Resize(e){var t={width:this.originalDimensions.Width+e.Width+"px",height:this.originalDimensions.Height+e.Height+"px",left:this.originalDimensions.Left+e.Left+"px",top:this.originalDimensions.Top+e.Top+"px"};this.VisualElement.css(t)}},{key:"UpdatePosition",value:function UpdatePosition(e){var t={left:this.originalDimensions.Left+e.X+"px",top:this.originalDimensions.Top+e.Y+"px"};this.VisualElement.css(t)}},{key:"SaveCurrentDimensions",value:function SaveCurrentDimensions(){this.originalDimensions=this.designer.GetBounds(!1)}},{key:"Enable",value:function Enable(){this.IsInitialized&&this.$visualElement.resizable("enable")}},{key:"Disable",value:function Disable(){this.IsInitialized&&this.$visualElement.resizable("disable")}},{key:"ShowHandlers",value:function ShowHandlers(){this.hasHandlers=!0}},{key:"HideHandlers",value:function HideHandlers(){this.hasHandlers=!1}},{key:"Snap",value:function Snap(e,t){var r=e;if(this.snappingEngine){var n=this.CreateSnapLines(this.selectionRules,t,e),o=this.snappingEngine.Snap(n.SnapPoint,t.Designer.GetBounds(!0),n.SnapLines);r.Offset(o.Width,o.Height)}return r}},{key:"CreateSnapLines",value:function CreateSnapLines(e,t,r){var n=[],o=Vr.Empty,i=!(t.Item.Type===_.Report),a=t.Item.Margins,s=this.BehaviorService.Zoom,c=this.CalculateBounds(t,r);return(e&xi.TopSizeable)===xi.TopSizeable?(i&&(n.push(new _i(vi.Top,c.Top)),n.push(new _i(vi.Horizontal,c.Top-s*a.Top.ToPixels(),_i.MarginTop,bi.Always))),o.Y=c.Top):(e&xi.BottomSizeable)===xi.BottomSizeable&&(i&&(n.push(new _i(vi.Bottom,c.Bottom)),n.push(new _i(vi.Horizontal,c.Bottom+s*a.Bottom.ToPixels(),_i.MarginBottom,bi.Always))),o.Y=c.Bottom),(e&xi.LeftSizeable)===xi.LeftSizeable?(i&&(n.push(new _i(vi.Left,c.Left)),n.push(new _i(vi.Vertical,c.Left-s*a.Left.ToPixels(),_i.MarginLeft,bi.Always))),o.X=c.Left):(e&xi.RightSizeable)===xi.RightSizeable&&(i&&(n.push(new _i(vi.Right,c.Right)),n.push(new _i(vi.Vertical,c.Right+s*a.Right.ToPixels(),_i.MarginRight,bi.Always))),o.X=c.Right),new noa(n,o)}},{key:"CalculateBounds",value:function CalculateBounds(e,t){var r=new B(t.X-this.mouseStartPosition.X,t.Y-this.mouseStartPosition.Y);return e.CalculateBounds(this.selectionRules,r)}},{key:"calculateCssResizeDimensions",value:function calculateCssResizeDimensions(){var e=(this.designer.VisualElementContent||this.designer.VisualElement)[0].getBoundingClientRect(),t=this.designSurfaceManager.ActiveDesignSurface.VisualElement,r=t[0].getBoundingClientRect(),n=t.scrollLeft()+e.left-r.left,o=t.scrollTop()+e.top-r.top;return{width:e.width+"px",height:e.height+"px",left:n+"px",top:o+"px"}}},{key:"VisualElement",get:function get(){return this.$visualElement}},{key:"IsInitialized",get:function get(){return this.isInitialized}},{key:"BehaviorService",get:function get(){return null===this.behaviorService&&(this.behaviorService=this.provider.GetService(I.BehaviorService)),this.behaviorService}},{key:"template",get:function get(){return'<div tabindex="1000" class="twd-resizable" data-component-resizable="'.concat(this.designer.Component.Name,'"></div>')}}]),Resizable}();function HtmlColorTranslator_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ji=function(){function HtmlColorTranslator(){!function HtmlColorTranslator_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HtmlColorTranslator)}return function HtmlColorTranslator_createClass(e,t,r){return t&&HtmlColorTranslator_defineProperties(e.prototype,t),r&&HtmlColorTranslator_defineProperties(e,r),e}(HtmlColorTranslator,null,[{key:"ToHexColor",value:function ToHexColor(e){if(e){if(e.startsWith("#"))return e;var t=HtmlColorTranslator.ColorNameToHex(e);if(t)return t;if(!e.includes(","))return"#000000";var r=e.split(",").map(function(e){return e.trim()}),n=0,o=1,i=2;3<r.length&&(n=1,o=2,i=3);var a=parseInt(r[n]||"0"),s=parseInt(r[o]||"0"),c=parseInt(r[i]||"0");return"#"+this.componentToHex(a)+this.componentToHex(s)+this.componentToHex(c)}return null}},{key:"ToRgbColor",value:function ToRgbColor(e){if(e&&e.length<6){var t=1,r=e.split("");for("#"!==r[0]&&(t=0);t<r.length;t++)r[t]=r[t]+r[t];e=r.join("")}var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?"".concat(parseInt(n[1],16),", ").concat(parseInt(n[2],16),", ").concat(parseInt(n[3],16)):null}},{key:"ToRgbaColor",value:function ToRgbaColor(e){var t;if(HtmlColorTranslator.IsRgbColor(e)){var r=(t=e.split(",").map(function(e){return e.trim()}))[0],n=t[1],o=t[2],i=HtmlColorTranslator.GetAlpha(e);return 3<t.length&&(r=t[1],n=t[2],o=t[3]),"".concat(r,",").concat(n,",").concat(o,",").concat(i)}var a=HtmlColorTranslator.ToHexColor(e),s=HtmlColorTranslator.ToRgbColor(a),c=HtmlColorTranslator.GetAlpha(e);return s?"".concat(s,", ").concat(c):s}},{key:"IsRgbColor",value:function IsRgbColor(e){return!!e&&-1<e.indexOf(",")}},{key:"GetAlpha",value:function GetAlpha(e){if("Transparent"===e)return 0;if(!HtmlColorTranslator.IsRgbColor(e))return 1;var t=e.split(",").map(function(e){return e.trim()});return 4===t.length?parseFloat((parseFloat(t[0])/255).toFixed(2)):1}},{key:"ColorNameToHex",value:function ColorNameToHex(e){return{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"#ffffff"}[e.toLowerCase()]}},{key:"componentToHex",value:function componentToHex(e){var t=e.toString(16);return 1===t.length?"0"+t:t}}]),HtmlColorTranslator}();function qoa(e,t,r,n){!function Border_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,qoa),this.Top=e,this.Left=t,this.Bottom=r,this.Right=n}function ComponentCssBuilder_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Bi=function(){function ComponentCssBuilder(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];!function ComponentCssBuilder_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ComponentCssBuilder),this.component=e,this.propertyWrappers=e.PropertyWrappers,this.Styles={},this.ContentStyles={},this.styleProperty=this.getPropertyByName(G.Style),this.addStyles(t)}return function ComponentCssBuilder_createClass(e,t,r){return t&&ComponentCssBuilder_defineProperties(e.prototype,t),r&&ComponentCssBuilder_defineProperties(e,r),e}(ComponentCssBuilder,[{key:"getPropertyByName",value:function getPropertyByName(t){return this.propertyWrappers.find(function(e){return e.Name===t})}},{key:"addStyles",value:function addStyles(e){var t=this.getBorderPx(e);this.addPositionDeclarations(t),this.addSizeDeclarations(t),this.styleProperty&&(this.addTextDeclarations(),this.addFontDeclarations(),this.addBorderDeclarations(e),this.addBackgroundDeclarations(),this.addPaddingDeclarations(t))}},{key:"addPositionDeclarations",value:function addPositionDeclarations(e){var t=this.Designer.GetLocation(!1);if(this.component.Parent){var r=this.component.Parent.Designer.GetClientLocation(!1);t.Offset(r.X,r.Y)}t.Offset(-e.Left/2,-e.Top/2),this.addDeclaration("left",new j(t.X).ToString()),this.addDeclaration("top",new j(t.Y).ToString())}},{key:"addSizeDeclarations",value:function addSizeDeclarations(e){var t=this.Designer.GetSize();if(t.Width){var r=t.Width+((e.Left||0)+(e.Right||0))/2;this.addDeclaration("width",new j(r).ToString())}if(t.Height){var n=t.Height+((e.Top||0)+(e.Bottom||0))/2;this.addDeclaration("height",new j(n).ToString())}}},{key:"addTextDeclarations",value:function addTextDeclarations(){var e=this.styleProperty.GetChildProperty(G.TextIndent);if(e){var t=j.Parse(e.GetValue());this.addDeclaration("text-indent",t.ToUnit(v.Pixel).ToString())}var r=this.getPropertyByName(G.TextWrap);r&&(r.GetValue()?this.addDeclaration("word-wrap","break-word"):(this.addDeclaration("word-wrap","normal"),this.addDeclaration("white-space","nowrap")))}},{key:"addFontDeclarations",value:function addFontDeclarations(){var e=this.styleProperty.GetChildProperty(G.Color);this.addContentDeclaration("color",ji.ToHexColor(e.GetValue()));var t=this.styleProperty.GetChildProperty(G.Font),r=t.GetChildProperty(G.Name).GetValue();this.addContentDeclaration("font-family",r);var n=t.GetChildProperty(G.Size).GetValue();this.addContentDeclaration("font-size",n);var o=t.GetChildProperty(G.Italic).GetValue();o&&"true"===o.toLowerCase()&&this.addContentDeclaration("font-style","italic");var i=t.GetChildProperty(G.Bold).GetValue();i&&"true"===i.toLowerCase()&&this.addContentDeclaration("font-weight","bold");var a="",s=t.GetChildProperty(G.Underline).GetValue();s&&"true"===s.toLowerCase()&&(a+="underline");var c=t.GetChildProperty(G.Strikeout).GetValue();c&&"true"===c.toLowerCase()&&(a+=" line-through"),""!==a&&this.addContentDeclaration("text-decoration",a.trim());var u=this.styleProperty.GetChildProperty(G.VerticalAlign).GetValue(),l=!1;if("Top"!==u){var p="baseline";switch(u){case"Middle":p="center";break;case"Bottom":p="flex-end"}this.addContentDeclaration("display","flex"),this.addContentDeclaration("align-items",p),l=!0}var f="start",d="flex-start";switch(this.styleProperty.GetChildProperty(G.TextAlign).GetValue()){case"Right":f="end",d="flex-end";break;case"Center":d=f="center";break;case"Justify":f="justify"}this.addContentDeclaration("text-align",f),l&&this.addContentDeclaration("justify-content",d)}},{key:"addBorderDeclarations",value:function addBorderDeclarations(e){if(e){var t=this.styleProperty.GetChildProperty(G.BorderStyle),r=this.styleProperty.GetChildProperty(G.BorderWidth),n=this.styleProperty.GetChildProperty(G.BorderColor),o=t.GetChildProperty(G.Left).GetValue(),i=t.GetChildProperty(G.Top).GetValue(),a=t.GetChildProperty(G.Right).GetValue(),s=t.GetChildProperty(G.Bottom).GetValue(),c=j.Parse(r.GetChildProperty(G.Left).GetValue()),u=j.Parse(r.GetChildProperty(G.Top).GetValue()),l=j.Parse(r.GetChildProperty(G.Right).GetValue()),p=j.Parse(r.GetChildProperty(G.Bottom).GetValue()),f=n.GetChildProperty(G.Left).GetValue(),d=n.GetChildProperty(G.Top).GetValue(),y=n.GetChildProperty(G.Right).GetValue(),h=n.GetChildProperty(G.Bottom).GetValue();"None"!==o&&.5<c.ToPixels()&&this.addDeclaration("border-left","".concat(c.ToString()," ").concat(String(o).toLowerCase()," ").concat(ji.ToHexColor(f)||"")),"None"!==i&&.5<u.ToPixels()&&this.addDeclaration("border-top","".concat(u.ToString()," ").concat(String(i).toLowerCase()," ").concat(ji.ToHexColor(d)||"")),"None"!==a&&.5<l.ToPixels()&&this.addDeclaration("border-right","".concat(l.ToString()," ").concat(String(a).toLowerCase()," ").concat(ji.ToHexColor(y)||"")),"None"!==s&&.5<p.ToPixels()&&this.addDeclaration("border-bottom","".concat(p.ToString()," ").concat(String(s).toLowerCase()," ").concat(ji.ToHexColor(h)||""))}}},{key:"addBackgroundDeclarations",value:function addBackgroundDeclarations(){var e=this.styleProperty.GetChildProperty(G.BackgroundColor).GetValue(),t=this.ToCssRgbaColor(e);this.addDeclaration("background-color",t);var r=this.styleProperty.GetChildProperty(G.BackgroundImage);if(r){var n=r.GetChildProperty(G.ImageData).GetValue();if(n){var o=r.GetChildProperty(G.MimeType).GetValue(),i="url('data:".concat(o,";base64,").concat(n,"')");this.addDeclaration("background-image",i);var a=r.GetChildProperty(G.Repeat).GetValue();a&&("Repeat"===a&&this.addDeclaration("background-repeat","repeat"),"NoRepeat"===a&&this.addDeclaration("background-repeat","no-repeat"),"RepeatX"===a&&this.addDeclaration("background-repeat","repeat-x"),"RepeatY"===a&&this.addDeclaration("background-repeat","repeat-y"))}}}},{key:"ToCssRgbaColor",value:function ToCssRgbaColor(e){return"rgba( ".concat(ji.ToRgbaColor(e)," )")}},{key:"addPaddingDeclarations",value:function addPaddingDeclarations(e){var t=this.Designer.GetPadding(!0,!0,!0,!0);this.addContentDeclaration("padding-left",Math.max(0,t.Left)),this.addContentDeclaration("padding-top",Math.max(0,t.Top)),this.addContentDeclaration("padding-right",Math.max(0,t.Width)),this.addContentDeclaration("padding-bottom",Math.max(0,t.Height)),this.addContentDeclaration("top",-e.Top/2),this.addContentDeclaration("left",-e.Left/2),this.addContentDeclaration("right",-e.Right/2),this.addContentDeclaration("bottom",-e.Bottom/2)}},{key:"getBorderPx",value:function getBorderPx(e){var t=new qoa(0,0,0,0);if(!this.styleProperty||!e)return t;var r=this.styleProperty.GetChildProperty(G.BorderStyle),n=this.styleProperty.GetChildProperty(G.BorderWidth),o=r.GetChildProperty(G.Left).GetValue(),i=n.GetChildProperty(G.Left).GetValue();"None"!==o&&(t.Left=j.Parse(i).ToPixels());var a=r.GetChildProperty(G.Top).GetValue(),s=n.GetChildProperty(G.Top).GetValue();"None"!==a&&(t.Top=j.Parse(s).ToPixels());var c=r.GetChildProperty(G.Right).GetValue(),u=n.GetChildProperty(G.Right).GetValue();"None"!==c&&(t.Right=j.Parse(u).ToPixels());var l=r.GetChildProperty(G.Bottom).GetValue(),p=n.GetChildProperty(G.Bottom).GetValue();return"None"!==l&&(t.Bottom=j.Parse(p).ToPixels()),t}},{key:"addDeclaration",value:function addDeclaration(e,t){void 0!==t&&(this.Styles[e]=t)}},{key:"addContentDeclaration",value:function addContentDeclaration(e,t){void 0!==t&&(this.ContentStyles[e]=t)}},{key:"Designer",get:function get(){return this.component.Designer}}]),ComponentCssBuilder}();function ContextMenuContent_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Mi=function(){function ContextMenuContent(){!function ContextMenuContent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ContextMenuContent),this.items=new Map,this.Groups=[]}return function ContextMenuContent_createClass(e,t,r){return t&&ContextMenuContent_defineProperties(e.prototype,t),r&&ContextMenuContent_defineProperties(e,r),e}(ContextMenuContent,[{key:"AddItem",value:function AddItem(e,t){this.Groups.includes(e)?this.items.get(e).push(t):(this.Groups.push(e),this.items.set(e,[t]))}}]),ContextMenuContent}();function ComponentDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ai=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Ni=function(){function ComponentDesigner(e,t){!function ComponentDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ComponentDesigner),this.provider=e,this.component=t,this.$visualElement=this.CreateVisualElement(),this.$visualElementContent=null,this.resizable=new Gi(this,this.provider),this.overlay=new Di(this,this.provider),this.webDesignerEventsElement=e.GetService(I.WebDesignerEventsElement),this.cssBuilder=null,this.behaviorService=this.provider.GetService(I.BehaviorService),this.zoom=this.behaviorService.Zoom,this.postponedRedraw=!1}return function ComponentDesigner_createClass(e,t,r){return t&&ComponentDesigner_defineProperties(e.prototype,t),r&&ComponentDesigner_defineProperties(e,r),e}(ComponentDesigner,[{key:"GetContextMenuCommands",value:function GetContextMenuCommands(){var e=[];return e.push(it.Cut),e.push(it.Copy),e.push(it.Paste),e.push(it.Delete),e}},{key:"CreateVisualElement",value:function CreateVisualElement(){var e='<div class="'.concat(this.ClassName,'">\n                            <div class="components__content"></div>\n                          </div>'),t=$.parseHTML(e);return $(t)}},{key:"InitializeVisualElementContent",value:function InitializeVisualElementContent(){this.$visualElementContent=this.VisualElement.find(".components__content"),this.VisualElementContent.css(this.cssBuilder.ContentStyles)}},{key:"Initialize",value:function Initialize(){return Ai(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},_callee)}))}},{key:"OnComponentChanged",value:function OnComponentChanged(e){var t=this.provider.GetService(I.IDesignerHost);if(this.redrawChildren=!!e.propertyDescriptor&&ComponentDesigner.ButterflyEffectProperties.includes(e.propertyDescriptor.Name),t.InTransaction){if(!this.postponedRedraw){this.postponedRedraw=!0,this.provider.GetService(I.DesignSurfaceEventsElement).addEventListener(y.TransactionClosed,this.RedrawPostponed.bind(this,e),{once:!0,capture:!1})}}else this.clearStyleRulesCache(e),this.Redraw(this.redrawChildren,e)}},{key:"RedrawPostponed",value:function RedrawPostponed(e){this.postponedRedraw=!1,this.clearStyleRulesCache(e),this.Redraw(this.redrawChildren,e)}},{key:"Render",value:function Render(e){return this.createCssBuilder(),this.VisualElement.css(this.cssBuilder.Styles),this.VisualElement.attr("data-component-selection",this.Component.Name),this.AttachToParent(e,this.VisualElement),this.AttachKeyHandlers(),this.InitializeVisualElementContent(),this.InitializeOverlay(),this.SetTooltipGlyphs(),this.VisualElement}},{key:"AttachToParent",value:function AttachToParent(e,t){e.append(t)}},{key:"InitializeOverlay",value:function InitializeOverlay(){this.overlay.Initialize(!1,!1,!0)}},{key:"Resize",value:function Resize(){}},{key:"OnResizeStart",value:function OnResizeStart(){}},{key:"Drag",value:function Drag(){}},{key:"Redraw",value:function Redraw(e,t){var r=0<arguments.length&&void 0!==e&&e,n=1<arguments.length&&void 0!==t?t:null;this.createCssBuilder(),this.VisualElement.removeAttr("style"),this.VisualElement.css(this.cssBuilder.Styles),this.VisualElement.attr("data-component-selection",this.Component.Name),this.VisualElementContent.removeAttr("style"),this.VisualElementContent.css(this.cssBuilder.ContentStyles),this.UpdateOverlay(),this.UpdateResizable(),r&&this.RedrawChildren(n),this.SetTooltipGlyphs(!0)}},{key:"RedrawChildren",value:function RedrawChildren(e){var t=0<arguments.length&&void 0!==e?e:null,r=!0,n=!1,o=void 0;try{for(var i,a=this.Component.Children[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value.Designer;s&&s.Redraw(!0,t)}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}},{key:"UpdateResizable",value:function UpdateResizable(){this.resizable.Update()}},{key:"UpdateOverlay",value:function UpdateOverlay(e){var t=0<arguments.length&&void 0!==e&&e;this.overlay.Update(),t&&this.UpdateChildrenOverlay()}},{key:"UpdateChildrenOverlay",value:function UpdateChildrenOverlay(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.Component.Children[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value.Designer;i&&i.UpdateOverlay(!0)}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}}},{key:"SetTooltipGlyphs",value:function SetTooltipGlyphs(e){}},{key:"ToggleInteractivity",value:function ToggleInteractivity(e){e?(this.resizable.IsInitialized?this.resizable.Update():this.resizable.Initialize(),this.overlay.Enable()):(this.resizable.Dispose(),this.overlay.Disable())}},{key:"AttachKeyHandlers",value:function AttachKeyHandlers(){}},{key:"Dispose",value:function Dispose(){this.provider.GetService(I.IDesignerHost).UnregisterComponent(this.Component);var e=!0,t=!1,r=void 0;try{for(var n,o=this.Component.Children[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;i.Designer&&i.Designer.Dispose()}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}this.overlay.Dispose(),this.resizable.Dispose(),this.VisualElement.remove()}},{key:"GetBounds",value:function GetBounds(){return zr.Empty}},{key:"GetLocation",value:function GetLocation(){return Vr.Empty}},{key:"GetClientBounds",value:function GetClientBounds(){throw new Error("Method not implemented.")}},{key:"GetClientLocation",value:function GetClientLocation(){throw new Error("Method not implemented.")}},{key:"GetPadding",value:function GetPadding(){throw new Error("Method not implemented.")}},{key:"GetSize",value:function GetSize(){return B.Empty}},{key:"ComposeContextMenuContent",value:function ComposeContextMenuContent(){return new Mi}},{key:"createCssBuilder",value:function createCssBuilder(){this.cssBuilder=new Bi(this.component)}},{key:"clearStyleRulesCache",value:function clearStyleRulesCache(e){e.propertyDescriptor&&e.propertyDescriptor.Name===G.StyleName&&this.provider.GetService(I.IDesignerHost).RootComponent.ClearStyleRulesCache()}},{key:"ClassName",get:function get(){return s.ComponentsClassName}},{key:"Provider",get:function get(){return this.provider}},{key:"Component",get:function get(){return this.component.Component}},{key:"ParentDesigner",get:function get(){var e=this.Component.Parent;return e?e.Designer:null}},{key:"VisualElement",get:function get(){return this.$visualElement}},{key:"VisualElementContent",get:function get(){return this.$visualElementContent}},{key:"GetResizableHandles",get:function get(){return""}},{key:"Resizable",get:function get(){return this.resizable}},{key:"Overlay",get:function get(){return this.overlay}},{key:"Zoom",get:function get(){return this.zoom}}],[{key:"ButterflyEffectProperties",get:function get(){return[G.Style,G.Items,G.Width,G.Height,G.Top,G.Left]}}]),ComponentDesigner}();function ReportItemBaseDesigner_typeof(e){return(ReportItemBaseDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportItemBaseDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ReportItemBaseDesigner_possibleConstructorReturn(e,t){return!t||"object"!==ReportItemBaseDesigner_typeof(t)&&"function"!=typeof t?function ReportItemBaseDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportItemBaseDesigner_getPrototypeOf(e){return(ReportItemBaseDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportItemBaseDesigner_setPrototypeOf(e,t){return(ReportItemBaseDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Hi=function(){function ReportItemBaseDesigner(){return function ReportItemBaseDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportItemBaseDesigner),ReportItemBaseDesigner_possibleConstructorReturn(this,ReportItemBaseDesigner_getPrototypeOf(ReportItemBaseDesigner).apply(this,arguments))}return function ReportItemBaseDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportItemBaseDesigner_setPrototypeOf(e,t)}(ReportItemBaseDesigner,Ni),function ReportItemBaseDesigner_createClass(e,t,r){return t&&ReportItemBaseDesigner_defineProperties(e.prototype,t),r&&ReportItemBaseDesigner_defineProperties(e,r),e}(ReportItemBaseDesigner,[{key:"SnapLines",value:function SnapLines(){var e=[];return this.addRectangleSnapLines(this.GetClientBounds(!0),e),e}},{key:"CalculateMinSize",value:function CalculateMinSize(){var e=new M(new j(5),new j(5)),t=e.Width.ToPixels(),r=e.Height.ToPixels(),n=!0,o=!1,i=void 0;try{for(var a,s=this.Component.Children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value.Designer;if(c){var u=c.GetBounds(!1);t=Math.max(t,u.Right),r=Math.max(r,u.Bottom)}}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return new M(new j(t),new j(r))}},{key:"GetBounds",value:function GetBounds(e){return new zr(this.GetLocation(e),this.GetSize())}},{key:"GetClientBounds",value:function GetClientBounds(e){return new zr(this.GetClientLocation(e),this.GetClientSize())}},{key:"GetLocation",value:function GetLocation(e){var t=this.Component,r=t.PropertyStore[G.Left];r=r||new j(0).ToString();var n=t.PropertyStore[G.Top];n=n||new j(0).ToString();var o=new Vr(j.Parse(r).ToPixels()*this.Zoom,j.Parse(n).ToPixels()*this.Zoom);if(e&&this.Component.Parent&&this.Component.Parent.Designer){var i=this.Component.Parent.Designer;if(i){var a=i.GetClientLocation(e);o.Offset(a.X,a.Y)}}return o}},{key:"GetClientLocation",value:function GetClientLocation(e){var t=this.GetLocation(e),r=this.GetPadding(!0,!0,!1,!1);return e&&r.Location.Offset(t.X,t.Y),r.Location}},{key:"GetSize",value:function GetSize(){var e=this.Component,t=e.PropertyStore[G.Width];t=t||new j(0).ToString();var r=e.PropertyStore[G.Height];return r=r||new j(0).ToString(),new B(j.Parse(t).ToPixels()*this.Zoom,j.Parse(r).ToPixels()*this.Zoom)}},{key:"GetClientSize",value:function GetClientSize(){var e=this.GetSize(),t=this.GetPadding(!1,!1,!0,!0),r=Math.max(0,e.Width-t.Left-t.Right),n=Math.max(0,e.Height-t.Top-t.Bottom);return new B(r,n)}},{key:"GetPadding",value:function GetPadding(e,t,r,n){var o=zr.Empty;return e&&(o.X=this.getZoomedPadding(this.Component.GetCascadingPropertyValue(G.Style,G.Padding,G.Left))),t&&(o.Y=this.getZoomedPadding(this.Component.GetCascadingPropertyValue(G.Style,G.Padding,G.Top))),r&&(o.Width=this.getZoomedPadding(this.Component.GetCascadingPropertyValue(G.Style,G.Padding,G.Right))),n&&(o.Height=this.getZoomedPadding(this.Component.GetCascadingPropertyValue(G.Style,G.Padding,G.Bottom))),o}},{key:"getZoomedPadding",value:function getZoomedPadding(e){var t=0;return e&&(t=j.Parse(e).ToPixels()*this.Zoom),t}},{key:"addRectangleSnapLines",value:function addRectangleSnapLines(e,t){t.push(new _i(vi.Vertical,e.Left,_i.PaddingLeft,bi.Always)),t.push(new _i(vi.Vertical,e.Right,_i.PaddingRight,bi.Always)),t.push(new _i(vi.Horizontal,e.Top,_i.PaddingTop,bi.Always)),t.push(new _i(vi.Horizontal,e.Bottom,_i.PaddingBottom,bi.Always))}},{key:"ParentItemDesigner",get:function get(){var e=this.Component;return e&&null!==e.Parent?e.Parent.Designer:null}}]),ReportItemBaseDesigner}();function ItemDesigner_typeof(e){return(ItemDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ItemDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ItemDesigner_possibleConstructorReturn(e,t){return!t||"object"!==ItemDesigner_typeof(t)&&"function"!=typeof t?function ItemDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ItemDesigner_get(e,t,r){return(ItemDesigner_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function ItemDesigner_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ItemDesigner_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function ItemDesigner_getPrototypeOf(e){return(ItemDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ItemDesigner_setPrototypeOf(e,t){return(ItemDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Li=function(){function ItemDesigner(){return function ItemDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ItemDesigner),ItemDesigner_possibleConstructorReturn(this,ItemDesigner_getPrototypeOf(ItemDesigner).apply(this,arguments))}return function ItemDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ItemDesigner_setPrototypeOf(e,t)}(ItemDesigner,Hi),function ItemDesigner_createClass(e,t,r){return t&&ItemDesigner_defineProperties(e.prototype,t),r&&ItemDesigner_defineProperties(e,r),e}(ItemDesigner,[{key:"SnapLines",value:function SnapLines(){var e=ItemDesigner_get(ItemDesigner_getPrototypeOf(ItemDesigner.prototype),"SnapLines",this).call(this);if(!this.IsTableCell){var t=this.GetBounds(!0),r=this.Component.Margins,n=this.Zoom;e.push(new _i(vi.Top,t.Top,null,bi.Low)),e.push(new _i(vi.Bottom,t.Bottom,null,bi.Low)),e.push(new _i(vi.Left,t.Left,null,bi.Low)),e.push(new _i(vi.Right,t.Right,null,bi.Low)),e.push(new _i(vi.Horizontal,t.Top-n*r.Top.ToPixels(),_i.MarginTop,bi.Always)),e.push(new _i(vi.Horizontal,t.Bottom+n*r.Bottom.ToPixels(),_i.MarginBottom,bi.Always)),e.push(new _i(vi.Vertical,t.Left-n*r.Left.ToPixels(),_i.MarginLeft,bi.Always)),e.push(new _i(vi.Vertical,t.Right+n*r.Right.ToPixels(),_i.MarginRight,bi.Always))}return e}},{key:"GetLocation",value:function GetLocation(e){if(this.IsTableCell){var t=this.ParentItemDesigner;if(t){var r=t.GetCell(this.ReportItem);if(r)return r.Bounds.Location.ToPixels()}}return ItemDesigner_get(ItemDesigner_getPrototypeOf(ItemDesigner.prototype),"GetLocation",this).call(this,e)}},{key:"InitializeOverlay",value:function InitializeOverlay(){this.Overlay.Initialize(!this.IsTableCell,!1,!0)}},{key:"Resize",value:function Resize(e){var t=this.Provider.GetService(I.IDesignerHost),r=this.Provider.GetService(I.Notifications);if(this.IsTableCell){var n=t.CreateTransaction("Resize '".concat(this.Component.Name,"'"));try{var o=this.ParentItemDesigner;if(o){var i=this.ReportItem.Size,a=j.FromPixels(e.Size.Width,i.Width.Type),s=j.FromPixels(e.Size.Height,i.Height.Type);o.ResizeMemberByItem(this.ReportItem,a,s)}n.Commit()}catch(e){n.Rollback(),r.Error("Could not resize '".concat(this.Component.Name,"'."),e)}}else{var c=t.CreateTransaction("Resize '".concat(this.Component.Name,"'"));try{var u=this.Component.PropertyStore;this.setPosition(u,e.Location),this.setSize(u,e.Size),c.Commit()}catch(e){c.Rollback(),r.Error("Could not resize '".concat(this.Component.Name,"'."),e)}}}},{key:"Drag",value:function Drag(e){var t=this.Component.PropertyStore,r=this.Provider.GetService(I.Notifications),n=this.Provider.GetService(I.IDesignerHost).CreateTransaction("Move '".concat(this.Component.Name,"'"));try{this.setPosition(t,e),n.Commit()}catch(e){n.Rollback(),r.Error("Could not move '".concat(this.Component.Name,"'."),e)}}},{key:"createCssBuilder",value:function createCssBuilder(){this.cssBuilder=new Bi(this.Component),this.cssBuilder.Styles.position="absolute",this.cssBuilder.Styles.overflow="hidden"}},{key:"setPosition",value:function setPosition(e,t){var r=this.Component.GetProperty(G.Top),n=this.Component.GetProperty(G.Left),o=j.Parse(r.GetValue(this.Component,e)),i=j.FromPixels(t.Y,o.Type),a=j.Parse(n.GetValue(this.Component,e)),s=j.FromPixels(t.X,a.Type);o.Equals(i)||r.SetValue(i.ToString(),this.Component,e),a.Equals(s)||n.SetValue(s.ToString(),this.Component,e)}},{key:"setSize",value:function setSize(e,t){var r=this.Component.GetProperty(G.Width),n=this.Component.GetProperty(G.Height),o=j.Parse(r.GetValue(this.Component,e)),i=j.FromPixels(t.Width,o.Type),a=j.Parse(n.GetValue(this.Component,e)),s=j.FromPixels(t.Height,a.Type);o.Equals(i)||r.SetValue(i.ToString(),this.Component,e),a.Equals(s)||n.SetValue(s.ToString(),this.Component,e)}},{key:"ComposeContextMenuContent",value:function ComposeContextMenuContent(){var e=ItemDesigner_get(ItemDesigner_getPrototypeOf(ItemDesigner.prototype),"ComposeContextMenuContent",this).call(this);if(this.IsTableCell)this.ParentItemDesigner.GetCell(this.ReportItem);else e.AddItem("ZOrder",new Ci("Bring to front",this.Provider,g.BringToFront)),e.AddItem("ZOrder",new Ci("Send to back",this.Provider,g.SendToBack));return e}},{key:"CalculateMinSize",value:function CalculateMinSize(){return this.IsTableCell?this.ParentItemDesigner.CalculateItemMinSize(this.Component):ItemDesigner_get(ItemDesigner_getPrototypeOf(ItemDesigner.prototype),"CalculateMinSize",this).call(this)}},{key:"SetTooltipGlyphs",value:function SetTooltipGlyphs(e){var t=0<arguments.length&&void 0!==e&&e;if(!this.IsTableCell){this.RemoveOverlappingGlyph();var r=this.GetOverlappingItems();if(0<r.length&&this.AddOverlappingGlyph(this.Component,r),t){var n=!0,o=!1,i=void 0;try{for(var a,s=this.Component.Parent.Children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;this.Component!==c&&c.Designer instanceof ItemDesigner&&c.Designer.SetTooltipGlyphs()}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}}}},{key:"AddOverlappingGlyph",value:function AddOverlappingGlyph(e,t){this.Overlay.SetOverlap(!0,e.Name,t.map(function(e){return e.Name}).join("', '"))}},{key:"RemoveOverlappingGlyph",value:function RemoveOverlappingGlyph(){this.Overlay.SetOverlap()}},{key:"GetOverlappingItems",value:function GetOverlappingItems(){var e=this.Component.Parent,t=this.GetBounds(!1),r=[];if(e&&0<e.Children.length){var n=!0,o=!1,i=void 0;try{for(var a,s=e.Children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(c!=this.Component){var u=c.Designer;u instanceof ItemDesigner&&t.IntersectsWith(u.GetBounds(!1))&&r.push(c)}}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}return r}},{key:"ReportItem",get:function get(){return this.Component}},{key:"IsTableCell",get:function get(){return this.ReportItem.Parent instanceof rt}},{key:"GetResizableHandles",get:function get(){return this.IsTableCell?"s, se, e":"n, ne, s, se, e, w, nw, sw"}}]),ItemDesigner}();function LiveItemDesigner_typeof(e){return(LiveItemDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LiveItemDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LiveItemDesigner_possibleConstructorReturn(e,t){return!t||"object"!==LiveItemDesigner_typeof(t)&&"function"!=typeof t?function LiveItemDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function LiveItemDesigner_get(e,t,r){return(LiveItemDesigner_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function LiveItemDesigner_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=LiveItemDesigner_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function LiveItemDesigner_getPrototypeOf(e){return(LiveItemDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LiveItemDesigner_setPrototypeOf(e,t){return(LiveItemDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Vi=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Wi=function(){function LiveItemDesigner(e,t){var r;return function LiveItemDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LiveItemDesigner),(r=LiveItemDesigner_possibleConstructorReturn(this,LiveItemDesigner_getPrototypeOf(LiveItemDesigner).call(this,e,t))).postponedResetItemImage=!1,r.renderService=r.Provider.GetService(I.IRenderService),r.sr=r.Provider.GetService(I.WebReportDesignerStrings),r.designerHost=r.Provider.GetService(I.IDesignerHost),r}return function LiveItemDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LiveItemDesigner_setPrototypeOf(e,t)}(LiveItemDesigner,Li),function LiveItemDesigner_createClass(e,t,r){return t&&LiveItemDesigner_defineProperties(e.prototype,t),r&&LiveItemDesigner_defineProperties(e,r),e}(LiveItemDesigner,[{key:"CreateVisualElement",value:function CreateVisualElement(){var e='<div class="'.concat(this.ClassName," -").concat(this.DesignerClassName,'">\n                            <div class="components__content"></div>\n                          </div>'),t=$.parseHTML(e);return $(t)}},{key:"Render",value:function Render(e){var t=LiveItemDesigner_get(LiveItemDesigner_getPrototypeOf(LiveItemDesigner.prototype),"Render",this).call(this,e);return t.append('<div class="components__loading">'.concat(this.sr.GeneratingPreview,"</div>")),this.resetItemImage(t),t}},{key:"Redraw",value:function Redraw(e,t){var r=0<arguments.length&&void 0!==e&&e,n=1<arguments.length?t:void 0;LiveItemDesigner_get(LiveItemDesigner_getPrototypeOf(LiveItemDesigner.prototype),"Redraw",this).call(this,r),this.mustReloadItemImage(n)&&this.resetItemImage(this.VisualElement)}},{key:"mustReloadItemImage",value:function mustReloadItemImage(e){if(!e||!e.propertyDescriptor)return!0;var t=e.propertyDescriptor;return t.Name!==G.Left&&t.Name!==G.Top}},{key:"resetItemImage",value:function resetItemImage(t){return Vi(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(this.toggleLoadingMessage(!0),this.designerHost.InTransaction){e.next=8;break}return e.next=6,this.resetCore(null);case 6:e.next=9;break;case 8:this.postponedResetItemImage||(this.postponedResetItemImage=!0,this.Provider.GetService(I.DesignSurfaceEventsElement).addEventListener(y.TransactionClosed,this.resetCore.bind(this),{once:!0,capture:!1}));case 9:case"end":return e.stop()}},_callee,this)}))}},{key:"resetCore",value:function resetCore(i){return Vi(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r,n,o;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=4;break}if(i.detail.TransactionCommitted){e.next=4;break}return e.abrupt("return");case 4:return this.postponedResetItemImage=!1,t=this.Component,r=this.designerHost.RootComponent,e.next=9,this.RenderItem(r.PropertyStore,t.Name);case 9:n=e.sent,this.VisualElementContent.empty(),o=n.Content,n.Success&&(o=decodeURIComponent(escape(atob(o)))),this.toggleLoadingMessage(!1),this.VisualElementContent.append(o);case 15:case"end":return e.stop()}},_callee2,this)}))}},{key:"toggleLoadingMessage",value:function toggleLoadingMessage(t){return Vi(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:t?this.VisualElement.addClass("-runtime-item-generating-preview"):this.VisualElement.removeClass("-runtime-item-generating-preview");case 1:case"end":return e.stop()}},_callee3,this)}))}},{key:"RenderService",get:function get(){return this.renderService}},{key:"DesignerClassName",get:function get(){throw new Error("Designer class name for '".concat(LiveItemDesigner.name,"' not specified."))}}]),LiveItemDesigner}();function BarcodeDesigner_typeof(e){return(BarcodeDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BarcodeDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BarcodeDesigner_possibleConstructorReturn(e,t){return!t||"object"!==BarcodeDesigner_typeof(t)&&"function"!=typeof t?function BarcodeDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function BarcodeDesigner_getPrototypeOf(e){return(BarcodeDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BarcodeDesigner_setPrototypeOf(e,t){return(BarcodeDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var zi=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Fi=function(){function BarcodeDesigner(){return function BarcodeDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarcodeDesigner),BarcodeDesigner_possibleConstructorReturn(this,BarcodeDesigner_getPrototypeOf(BarcodeDesigner).apply(this,arguments))}return function BarcodeDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BarcodeDesigner_setPrototypeOf(e,t)}(BarcodeDesigner,Wi),function BarcodeDesigner_createClass(e,t,r){return t&&BarcodeDesigner_defineProperties(e.prototype,t),r&&BarcodeDesigner_defineProperties(e,r),e}(BarcodeDesigner,[{key:"RenderItem",value:function RenderItem(t,r){return zi(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.RenderService.RenderBarcode(t,r));case 1:case"end":return e.stop()}},_callee,this)}))}},{key:"DesignerClassName",get:function get(){return _.Barcode}}]),BarcodeDesigner}();function CheckBoxDesigner_typeof(e){return(CheckBoxDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CheckBoxDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CheckBoxDesigner_possibleConstructorReturn(e,t){return!t||"object"!==CheckBoxDesigner_typeof(t)&&"function"!=typeof t?function CheckBoxDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CheckBoxDesigner_get(e,t,r){return(CheckBoxDesigner_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CheckBoxDesigner_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CheckBoxDesigner_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CheckBoxDesigner_getPrototypeOf(e){return(CheckBoxDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CheckBoxDesigner_setPrototypeOf(e,t){return(CheckBoxDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ui=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},$i=function(){function CheckBoxDesigner(){return function CheckBoxDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CheckBoxDesigner),CheckBoxDesigner_possibleConstructorReturn(this,CheckBoxDesigner_getPrototypeOf(CheckBoxDesigner).apply(this,arguments))}return function CheckBoxDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CheckBoxDesigner_setPrototypeOf(e,t)}(CheckBoxDesigner,Wi),function CheckBoxDesigner_createClass(e,t,r){return t&&CheckBoxDesigner_defineProperties(e.prototype,t),r&&CheckBoxDesigner_defineProperties(e,r),e}(CheckBoxDesigner,[{key:"CreateVisualElement",value:function CreateVisualElement(){var e='<div class="'.concat(this.ClassName," -").concat(this.DesignerClassName,'">\n                            <div class="components__content">\n                              <div class="components__content-child"><div>\n                            </div>\n                          </div>'),t=$.parseHTML(e);return $(t)}},{key:"InitializeVisualElementContent",value:function InitializeVisualElementContent(){CheckBoxDesigner_get(CheckBoxDesigner_getPrototypeOf(CheckBoxDesigner.prototype),"InitializeVisualElementContent",this).call(this),this.$visualElementContentChild=this.VisualElementContent.find(".components__content-child")}},{key:"resetItemImage",value:function resetItemImage(i){return Ui(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return this.toggleLoadingMessage(!0),t=this.Component,r=this.designerHost.RootComponent,e.next=7,this.RenderItem(r.PropertyStore,t.Name);case 7:n=e.sent,this.$visualElementContentChild.empty(),o=n.Content,n.Success&&(o=decodeURIComponent(escape(atob(o)))),this.toggleLoadingMessage(!1),this.$visualElementContentChild.append(o);case 13:case"end":return e.stop()}},_callee,this)}))}},{key:"RenderItem",value:function RenderItem(t,r){return Ui(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.RenderService.RenderCheckBox(t,r));case 1:case"end":return e.stop()}},_callee2,this)}))}},{key:"DesignerClassName",get:function get(){return _.CheckBox}}]),CheckBoxDesigner}();function ClientComponentDesigner_typeof(e){return(ClientComponentDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ClientComponentDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ClientComponentDesigner_possibleConstructorReturn(e,t){return!t||"object"!==ClientComponentDesigner_typeof(t)&&"function"!=typeof t?function ClientComponentDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ClientComponentDesigner_getPrototypeOf(e){return(ClientComponentDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ClientComponentDesigner_setPrototypeOf(e,t){return(ClientComponentDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var qi=function(){function ClientComponentDesigner(){return function ClientComponentDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ClientComponentDesigner),ClientComponentDesigner_possibleConstructorReturn(this,ClientComponentDesigner_getPrototypeOf(ClientComponentDesigner).apply(this,arguments))}return function ClientComponentDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ClientComponentDesigner_setPrototypeOf(e,t)}(ClientComponentDesigner,Ni),function ClientComponentDesigner_createClass(e,t,r){return t&&ClientComponentDesigner_defineProperties(e.prototype,t),r&&ClientComponentDesigner_defineProperties(e,r),e}(ClientComponentDesigner,[{key:"Render",value:function Render(e){return e}},{key:"Redraw",value:function Redraw(e,t){}},{key:"CalculateMinSize",value:function CalculateMinSize(){throw new Error("Method not implemented.")}},{key:"DesignerClassName",get:function get(){return this.Component.Type}}]),ClientComponentDesigner}();function PropertyDescriptor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ji=function(){function PropertyDescriptor(e,t,r){!function PropertyDescriptor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PropertyDescriptor),this.propertySchema=e,this.name=e.Name,this.provider=t,this.componentChangeService=t.GetService(I.IComponentChangeService),this.setValueCallback=r}return function PropertyDescriptor_createClass(e,t,r){return t&&PropertyDescriptor_defineProperties(e.prototype,t),r&&PropertyDescriptor_defineProperties(e,r),e}(PropertyDescriptor,[{key:"GetValue",value:function GetValue(e,t){return t[this.name]||this.getShortcutPropertyValue(t)}},{key:"SetValue",value:function SetValue(e,t,r){var n=r[this.name];this.setValueCallback&&this.setValueCallback(t,this,n,e),this.componentChangeService.OnComponentChanging(t,this),r[this.name]=e,t.RaiseComponentChanged(this,n,e)}},{key:"ResetValue",value:function ResetValue(e,t){this.componentChangeService.OnComponentChanging(e,this);var r=t[this.name];delete t[this.name],e.RaiseComponentChanged(this,r,null)}},{key:"ShouldSerializeValue",value:function ShouldSerializeValue(e){var t=e[this.name];return void 0!==t&&t!==this.DefaultValue}},{key:"GetChildProperties",value:function GetChildProperties(e){var t=0<arguments.length&&void 0!==e?e:null,r=this.provider.GetService(I.ITypeDescriptorRepository),n=t||this.propertySchema.Type,o=r.GetPropertyTypeDescriptor(n);return o?o.GetProperties():[]}},{key:"GetChildProperty",value:function GetChildProperty(t){return this.GetChildProperties().find(function(e){return e.Name===t})}},{key:"getShortcutPropertyValue",value:function getShortcutPropertyValue(e){var t=this.propertySchema[G.ReportProperty];if(t&&t[G.Parent])return e[G.Default]}},{key:"Name",get:function get(){return this.name}},{key:"Type",get:function get(){return this.propertySchema.Type}},{key:"Description",get:function get(){return this.propertySchema.Description}},{key:"EditorType",get:function get(){return this.propertySchema.WebDesignerEditor||this.propertySchema.Editor||this.propertySchema.Type}},{key:"Category",get:function get(){return this.propertySchema.Category}},{key:"Mergeable",get:function get(){return this.propertySchema.Mergeable||!1}},{key:"Browsable",get:function get(){return!this.propertySchema.hasOwnProperty("Browsable")||this.propertySchema.Browsable}},{key:"BindingScope",get:function get(){var e="BindingScope";return this.propertySchema.hasOwnProperty(e)?this.propertySchema[e]:"NotSet"}},{key:"ReadOnly",get:function get(){return this.propertySchema.ReadOnly||!1}},{key:"InstanceTypes",get:function get(){return this.propertySchema.InstanceTypes?this.propertySchema.InstanceTypes.split(";"):[]}},{key:"UseParentValue",get:function get(){var e=this.propertySchema[G.ReportProperty];return e&&e[G.UseParentValue]}},{key:"NotifyParentProperty",get:function get(){return this.propertySchema[G.NotifyParentProperty]}},{key:"DefaultValue",get:function get(){var e,t=this.propertySchema[G.ReportProperty];return"null"!==(e=t?t[G.DefaultValue]:this.propertySchema[G.DefaultValue])&&"Null"!==e||(e=null),e}}]),PropertyDescriptor}();function DataSourceBaseDesigner_typeof(e){return(DataSourceBaseDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DataSourceBaseDesigner_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DataSourceBaseDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DataSourceBaseDesigner_possibleConstructorReturn(e,t){return!t||"object"!==DataSourceBaseDesigner_typeof(t)&&"function"!=typeof t?function DataSourceBaseDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function DataSourceBaseDesigner_get(e,t,r){return(DataSourceBaseDesigner_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function DataSourceBaseDesigner_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DataSourceBaseDesigner_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function DataSourceBaseDesigner_getPrototypeOf(e){return(DataSourceBaseDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DataSourceBaseDesigner_setPrototypeOf(e,t){return(DataSourceBaseDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ki=function(){function DataSourceBaseDesigner(e,t){return function DataSourceBaseDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DataSourceBaseDesigner),DataSourceBaseDesigner_possibleConstructorReturn(this,DataSourceBaseDesigner_getPrototypeOf(DataSourceBaseDesigner).call(this,e,t))}return function DataSourceBaseDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DataSourceBaseDesigner_setPrototypeOf(e,t)}(DataSourceBaseDesigner,Ni),function DataSourceBaseDesigner_createClass(e,t,r){return t&&DataSourceBaseDesigner_defineProperties(e.prototype,t),r&&DataSourceBaseDesigner_defineProperties(e,r),e}(DataSourceBaseDesigner,[{key:"PropertiesThatUpdateDataModel",value:function PropertiesThatUpdateDataModel(){return[G.CalculatedFields]}},{key:"CalculateMinSize",value:function CalculateMinSize(){return new M(new j(0),new j(0))}},{key:"Render",value:function Render(){return this.Component.Parent.Designer.VisualElement}},{key:"Redraw",value:function Redraw(e){}},{key:"UpdateOverlay",value:function UpdateOverlay(){}},{key:"UpdateChildrenOverlay",value:function UpdateChildrenOverlay(){}},{key:"ToggleInteractivity",value:function ToggleInteractivity(){}},{key:"OnComponentChanged",value:function OnComponentChanged(e){var r=this;if(e.propertyDescriptor.Name!==G.DataModel&&(DataSourceBaseDesigner_get(DataSourceBaseDesigner_getPrototypeOf(DataSourceBaseDesigner.prototype),"OnComponentChanged",this).call(this,e),this.PropertiesThatUpdateDataModel().includes(e.propertyDescriptor.Name))){var n=this.Component;n.TryInitializeDataModel().then(function(){var e,t=new Ji((DataSourceBaseDesigner_defineProperty(e={},G.Name,G.DataModel),DataSourceBaseDesigner_defineProperty(e,G.Type,iia.constructor.name),e),r.Provider,null);n.RaiseComponentChanged(t,null,null)})}}}]),DataSourceBaseDesigner}();function CsvDataSourceDesigner_typeof(e){return(CsvDataSourceDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CsvDataSourceDesigner_toConsumableArray(e){return function CsvDataSourceDesigner_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function CsvDataSourceDesigner_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function CsvDataSourceDesigner_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function CsvDataSourceDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CsvDataSourceDesigner_possibleConstructorReturn(e,t){return!t||"object"!==CsvDataSourceDesigner_typeof(t)&&"function"!=typeof t?function CsvDataSourceDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CsvDataSourceDesigner_get(e,t,r){return(CsvDataSourceDesigner_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CsvDataSourceDesigner_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CsvDataSourceDesigner_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CsvDataSourceDesigner_getPrototypeOf(e){return(CsvDataSourceDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CsvDataSourceDesigner_setPrototypeOf(e,t){return(CsvDataSourceDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Qi=function(){function CsvDataSourceDesigner(){return function CsvDataSourceDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CsvDataSourceDesigner),CsvDataSourceDesigner_possibleConstructorReturn(this,CsvDataSourceDesigner_getPrototypeOf(CsvDataSourceDesigner).apply(this,arguments))}return function CsvDataSourceDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CsvDataSourceDesigner_setPrototypeOf(e,t)}(CsvDataSourceDesigner,Ki),function CsvDataSourceDesigner_createClass(e,t,r){return t&&CsvDataSourceDesigner_defineProperties(e.prototype,t),r&&CsvDataSourceDesigner_defineProperties(e,r),e}(CsvDataSourceDesigner,[{key:"PropertiesThatUpdateDataModel",value:function PropertiesThatUpdateDataModel(){return[].concat(CsvDataSourceDesigner_toConsumableArray(CsvDataSourceDesigner_get(CsvDataSourceDesigner_getPrototypeOf(CsvDataSourceDesigner.prototype),"PropertiesThatUpdateDataModel",this).call(this)),[G.Columns,G.Source,G.FieldSeparators,G.RecordSeparators])}}]),CsvDataSourceDesigner}();function ParentItemDesigner_typeof(e){return(ParentItemDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ParentItemDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ParentItemDesigner_possibleConstructorReturn(e,t){return!t||"object"!==ParentItemDesigner_typeof(t)&&"function"!=typeof t?function ParentItemDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ParentItemDesigner_getPrototypeOf(e){return(ParentItemDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ParentItemDesigner_setPrototypeOf(e,t){return(ParentItemDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Zi=function(){function ParentItemDesigner(){return function ParentItemDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ParentItemDesigner),ParentItemDesigner_possibleConstructorReturn(this,ParentItemDesigner_getPrototypeOf(ParentItemDesigner).apply(this,arguments))}return function ParentItemDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ParentItemDesigner_setPrototypeOf(e,t)}(ParentItemDesigner,Hi),function ParentItemDesigner_createClass(e,t,r){return t&&ParentItemDesigner_defineProperties(e.prototype,t),r&&ParentItemDesigner_defineProperties(e,r),e}(ParentItemDesigner,[{key:"createCssBuilder",value:function createCssBuilder(){this.cssBuilder=new Bi(this.component),this.cssBuilder.Styles.position="relative",this.cssBuilder.Styles["min-height"]="1px"}}]),ParentItemDesigner}();function ReportHelper_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Xi=function(){function ReportHelper(){!function ReportHelper_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportHelper)}return function ReportHelper_createClass(e,t,r){return t&&ReportHelper_defineProperties(e.prototype,t),r&&ReportHelper_defineProperties(e,r),e}(ReportHelper,null,[{key:"IsMulticolumnReport",value:function IsMulticolumnReport(e){return null!=e&&1<e.GetPropertyValue(G.PageSettings,G.ColumnCount)}},{key:"GetReportWidth",value:function GetReportWidth(e){if(null==e)return j.Zero;var t=j.Parse(e.GetPropertyValue(G.Width));return ReportHelper.IsMulticolumnReport(e)?ReportHelper.CalculatePrintableWidth(e).ToUnit(t.Type):t}},{key:"CalculatePrintableWidth",value:function CalculatePrintableWidth(e){var t=e.GetPropertyValue(G.PageSettings,G.Landscape),r=e.GetPropertyValue(G.PageSettings,G.PaperSize,G.Height),n=e.GetPropertyValue(G.PageSettings,G.PaperSize,G.Width),o=j.Parse(e.GetPropertyValue(G.PageSettings,G.Margins,G.Left)),i=j.Parse(e.GetPropertyValue(G.PageSettings,G.Margins,G.Right));return j.Parse(t?r:n).Subtract(o).Subtract(i)}}]),ReportHelper}();function ReportDesigner_typeof(e){return(ReportDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ReportDesigner_getPrototypeOf(e){return(ReportDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportDesigner_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ReportDesigner_setPrototypeOf(e,t){return(ReportDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Yi=function(){function ReportDesigner(e,t){var r;return function ReportDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportDesigner),(r=function ReportDesigner_possibleConstructorReturn(e,t){return!t||"object"!==ReportDesigner_typeof(t)&&"function"!=typeof t?ReportDesigner_assertThisInitialized(e):t}(this,ReportDesigner_getPrototypeOf(ReportDesigner).call(this,e,t))).selectionService=r.Provider.GetService(I.SelectionService),r.wdEventsElement=r.Provider.GetService(I.WebDesignerEventsElement),r.dsEventsElement=r.Provider.GetService(I.DesignSurfaceEventsElement),r.onSelectionChangingBound=r.onSelectionChanging.bind(ReportDesigner_assertThisInitialized(r)),r.onSelectionChangedBound=r.onSelectionChanged.bind(ReportDesigner_assertThisInitialized(r)),r.wdEventsElement.addEventListener(y.SelectionChanging,r.onSelectionChangingBound,!1),r.wdEventsElement.addEventListener(y.SelectionChanged,r.onSelectionChangedBound,!1),r}return function ReportDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportDesigner_setPrototypeOf(e,t)}(ReportDesigner,Hi),function ReportDesigner_createClass(e,t,r){return t&&ReportDesigner_defineProperties(e.prototype,t),r&&ReportDesigner_defineProperties(e,r),e}(ReportDesigner,[{key:"SnapLines",value:function SnapLines(){var e=[];if(this.selectionService.PrimarySelection instanceof Q){var t=this.getZoomedPadding(this.Component.GetCascadingPropertyValue(G.Style,G.Padding,G.Right)),r=this.GetHorizontalPageBreaks();if(1<r.length)for(var n=1;n<r.length;n++)e.push(new _i(vi.Left,r[n]-t,null,0)),e.push(new _i(vi.Right,r[n]-t,null,0)),e.push(new _i(vi.Vertical,r[n]-t,_i.PaddingRight,0));var o=this.Component;if(Xi.IsMulticolumnReport(o)){var i=(this.GetBounds(!0).Left+ReportDesigner.CalculateColumnWidth(o).ToPixels())*this.Zoom-t;e.push(new _i(vi.Left,i,null,0)),e.push(new _i(vi.Right,i,null,0)),e.push(new _i(vi.Vertical,i,null,0))}}return e}},{key:"CreateVisualElement",value:function CreateVisualElement(){var e='<div class="'.concat(this.ClassName,'"></div>'),t=$.parseHTML(e);return $(t)}},{key:"InitializeVisualElementContent",value:function InitializeVisualElementContent(){}},{key:"Redraw",value:function Redraw(e,t){var r=0<arguments.length&&void 0!==e&&e,n=1<arguments.length&&void 0!==t?t:null;this.Component.UpdateHeight(),this.createCssBuilder(),this.VisualElement.removeAttr("style"),this.VisualElement.css(this.cssBuilder.Styles),this.VisualElement.attr("data-component-selection",this.Component.Name),this.UpdateOverlay(),this.UpdateResizable(),r&&this.RedrawChildren(n)}},{key:"Resize",value:function Resize(e){var t=this.Component.GetProperty(G.Width),r=j.Parse(t.GetValue(this.Component,this.Component.PropertyStore)),n=j.FromPixels(e.Width,r.Type);if(!r.Equals(n)){var o=n.ToString();t.SetValue(o,this.Component,this.Component.PropertyStore),this.Redraw(!0)}}},{key:"CalculateMinSize",value:function CalculateMinSize(){var e=new M(new j(5),new j(5)),t=e.Width.ToPixels(),r=e.Height.ToPixels(),n=!0,o=!1,i=void 0;try{for(var a,s=this.Component.Children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value,u=!0,l=!1,p=void 0;try{for(var f,d=c.Children[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var y=f.value.Designer;if(y){var h=y.GetBounds(!1);t=Math.max(t,h.Right)}}}catch(e){l=!0,p=e}finally{try{u||null==d.return||d.return()}finally{if(l)throw p}}}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return new M(new j(t),new j(r))}},{key:"GetLocation",value:function GetLocation(){return Vr.Empty}},{key:"GetSize",value:function GetSize(){var e=this.Component.Height.ToPixels(),t=this.Component.PropertyStore[G.Width],r=t?j.ParseToPixels(t):0;return new B(r,e)}},{key:"GetHorizontalPageBreaks",value:function GetHorizontalPageBreaks(){var e=[],t=Xi.CalculatePrintableWidth(this.Component).ToPixels()*this.Zoom;if(0<t)for(var r=this.behaviorService.AdornerWindow.ClientSize,n=this.behaviorService.AdornerWindow.AutoScrollMinSize,o=Math.max(r.Width,n.Width),i=this.GetBounds(!0).Left*this.Zoom;i<o;i+=t)e.push(i);return e}},{key:"Destroy",value:function Destroy(){this.wdEventsElement.removeEventListener(y.SelectionChanging,this.onSelectionChangingBound,!1),this.wdEventsElement.removeEventListener(y.SelectionChanged,this.onSelectionChangedBound,!1)}},{key:"onSelectionChanging",value:function onSelectionChanging(){this.toggleInteractivity(this.selectionService.GetSelectedComponents(),!1)}},{key:"onSelectionChanged",value:function onSelectionChanged(){var e=this.selectionService.GetSelectedComponents();this.updateSelectionUI(e),this.toggleInteractivity(this.selectionService.GetSelectedComponents(),!0)}},{key:"toggleInteractivity",value:function toggleInteractivity(e,t){for(var r=0;r<e.length;r++){e[r].Designer.ToggleInteractivity(t)}}},{key:"updateSelectionUI",value:function updateSelectionUI(e){$(this.dsEventsElement).find(".selected-designer").removeClass("selected-designer");for(var t=0;t<e.length;t++){$("[data-component-selection='"+e[t].Name+"']").addClass("selected-designer")}}},{key:"createCssBuilder",value:function createCssBuilder(){this.cssBuilder=new Bi(this.Component,!1)}},{key:"GetResizableHandles",get:function get(){return"e"}}],[{key:"CalculateColumnWidth",value:function CalculateColumnWidth(e){var t=Math.max(parseInt(e.GetPropertyValue(G.PageSettings,G.ColumnCount)),1),r=j.Parse(e.GetPropertyValue(G.PageSettings,G.ColumnSpacing)),n=Xi.CalculatePrintableWidth(e);n=(n=n.Subtract(r.Multiply(t-1))).Divide(t);var o=j.Parse(e.GetPropertyValue(G.Width));return n.ToUnit(o.Type)}}]),ReportDesigner}();function SectionDesigner_typeof(e){return(SectionDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SectionDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SectionDesigner_possibleConstructorReturn(e,t){return!t||"object"!==SectionDesigner_typeof(t)&&"function"!=typeof t?function SectionDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SectionDesigner_get(e,t,r){return(SectionDesigner_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function SectionDesigner_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SectionDesigner_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function SectionDesigner_getPrototypeOf(e){return(SectionDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SectionDesigner_setPrototypeOf(e,t){return(SectionDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ea=function(){function SectionDesigner(e,t){var r;(function SectionDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,SectionDesigner),(r=SectionDesigner_possibleConstructorReturn(this,SectionDesigner_getPrototypeOf(SectionDesigner).call(this,e,t))).report=r.Component.Parent,r.report.Designer instanceof Yi||r.Provider.GetService(I.Notifications).Error("Section '".concat(r.Component.Name,"' has invalid parent."));return r.reportDesigner=r.report.Designer,r}return function SectionDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SectionDesigner_setPrototypeOf(e,t)}(SectionDesigner,Zi),function SectionDesigner_createClass(e,t,r){return t&&SectionDesigner_defineProperties(e.prototype,t),r&&SectionDesigner_defineProperties(e,r),e}(SectionDesigner,[{key:"OnComponentChanged",value:function OnComponentChanged(e){this.reportDesigner.Redraw(!0),SectionDesigner_get(SectionDesigner_getPrototypeOf(SectionDesigner.prototype),"OnComponentChanged",this).call(this,e)}},{key:"InitializeOverlay",value:function InitializeOverlay(){this.Overlay.Initialize(!1,!0)}},{key:"Resize",value:function Resize(e){var t=this.Component.GetProperty(G.Height),r=j.Parse(t.GetValue(this.Component,this.Component.PropertyStore)),n=j.FromPixels(e.Height,r.Type);r.Equals(n)||t.SetValue(n.ToString(),this.Component,this.Component.PropertyStore)}},{key:"GetLocation",value:function GetLocation(e){var t=Vr.Empty;if(e){var r=this.reportDesigner.GetClientLocation(e);t.Offset(r.X,r.Y)}return t}},{key:"GetSize",value:function GetSize(){var e=this.Component.PropertyStore[G.Height],t=e?j.ParseToPixels(e):0,r=this.reportDesigner.GetSize().Width;return new B(r,t)}},{key:"AttachToParent",value:function AttachToParent(e,t){var r=this.ParentDesigner.Component.Children,n=r.indexOf(this.Component);if(n+1===r.length)e.append(t);else{var o=r[n+1];this.IsAttachedToParent(e,o)?t.insertBefore(r[n+1].Designer.VisualElement):e.append(t)}}},{key:"IsAttachedToParent",value:function IsAttachedToParent(e,t){var r=t.Designer.VisualElement;return 0<e.find(r).length}},{key:"GetResizableHandles",get:function get(){return"s"}}]),SectionDesigner}();function ReportSectionDesigner_typeof(e){return(ReportSectionDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportSectionDesigner_possibleConstructorReturn(e,t){return!t||"object"!==ReportSectionDesigner_typeof(t)&&"function"!=typeof t?function ReportSectionDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportSectionDesigner_getPrototypeOf(e){return(ReportSectionDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportSectionDesigner_setPrototypeOf(e,t){return(ReportSectionDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ta=function(){function ReportSectionDesigner(){return function ReportSectionDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportSectionDesigner),ReportSectionDesigner_possibleConstructorReturn(this,ReportSectionDesigner_getPrototypeOf(ReportSectionDesigner).apply(this,arguments))}return function ReportSectionDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportSectionDesigner_setPrototypeOf(e,t)}(ReportSectionDesigner,ea),ReportSectionDesigner}();function DetailSectionDesigner_typeof(e){return(DetailSectionDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DetailSectionDesigner_possibleConstructorReturn(e,t){return!t||"object"!==DetailSectionDesigner_typeof(t)&&"function"!=typeof t?function DetailSectionDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function DetailSectionDesigner_getPrototypeOf(e){return(DetailSectionDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DetailSectionDesigner_setPrototypeOf(e,t){return(DetailSectionDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ra=function(){function DetailSectionDesigner(){return function DetailSectionDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DetailSectionDesigner),DetailSectionDesigner_possibleConstructorReturn(this,DetailSectionDesigner_getPrototypeOf(DetailSectionDesigner).apply(this,arguments))}return function DetailSectionDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DetailSectionDesigner_setPrototypeOf(e,t)}(DetailSectionDesigner,ta),DetailSectionDesigner}();function GraphDesigner_typeof(e){return(GraphDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GraphDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GraphDesigner_possibleConstructorReturn(e,t){return!t||"object"!==GraphDesigner_typeof(t)&&"function"!=typeof t?function GraphDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GraphDesigner_getPrototypeOf(e){return(GraphDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GraphDesigner_setPrototypeOf(e,t){return(GraphDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var na=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},oa=function(){function GraphDesigner(){return function GraphDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GraphDesigner),GraphDesigner_possibleConstructorReturn(this,GraphDesigner_getPrototypeOf(GraphDesigner).apply(this,arguments))}return function GraphDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GraphDesigner_setPrototypeOf(e,t)}(GraphDesigner,Wi),function GraphDesigner_createClass(e,t,r){return t&&GraphDesigner_defineProperties(e.prototype,t),r&&GraphDesigner_defineProperties(e,r),e}(GraphDesigner,[{key:"RenderItem",value:function RenderItem(t,r){return na(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.RenderService.RenderGraph(t,r));case 1:case"end":return e.stop()}},_callee,this)}))}},{key:"DesignerClassName",get:function get(){return _.Graph}}]),GraphDesigner}();function GroupSectionDesigner_typeof(e){return(GroupSectionDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GroupSectionDesigner_possibleConstructorReturn(e,t){return!t||"object"!==GroupSectionDesigner_typeof(t)&&"function"!=typeof t?function GroupSectionDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GroupSectionDesigner_getPrototypeOf(e){return(GroupSectionDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GroupSectionDesigner_setPrototypeOf(e,t){return(GroupSectionDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ia=function(){function GroupSectionDesigner(){return function GroupSectionDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GroupSectionDesigner),GroupSectionDesigner_possibleConstructorReturn(this,GroupSectionDesigner_getPrototypeOf(GroupSectionDesigner).apply(this,arguments))}return function GroupSectionDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GroupSectionDesigner_setPrototypeOf(e,t)}(GroupSectionDesigner,ta),GroupSectionDesigner}();function GroupFooterSectionDesigner_typeof(e){return(GroupFooterSectionDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GroupFooterSectionDesigner_possibleConstructorReturn(e,t){return!t||"object"!==GroupFooterSectionDesigner_typeof(t)&&"function"!=typeof t?function GroupFooterSectionDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GroupFooterSectionDesigner_getPrototypeOf(e){return(GroupFooterSectionDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GroupFooterSectionDesigner_setPrototypeOf(e,t){return(GroupFooterSectionDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var aa=function(){function GroupFooterSectionDesigner(){return function GroupFooterSectionDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GroupFooterSectionDesigner),GroupFooterSectionDesigner_possibleConstructorReturn(this,GroupFooterSectionDesigner_getPrototypeOf(GroupFooterSectionDesigner).apply(this,arguments))}return function GroupFooterSectionDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GroupFooterSectionDesigner_setPrototypeOf(e,t)}(GroupFooterSectionDesigner,ia),GroupFooterSectionDesigner}();function GroupHeaderSectionDesigner_typeof(e){return(GroupHeaderSectionDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GroupHeaderSectionDesigner_possibleConstructorReturn(e,t){return!t||"object"!==GroupHeaderSectionDesigner_typeof(t)&&"function"!=typeof t?function GroupHeaderSectionDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GroupHeaderSectionDesigner_getPrototypeOf(e){return(GroupHeaderSectionDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GroupHeaderSectionDesigner_setPrototypeOf(e,t){return(GroupHeaderSectionDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var sa=function(){function GroupHeaderSectionDesigner(){return function GroupHeaderSectionDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GroupHeaderSectionDesigner),GroupHeaderSectionDesigner_possibleConstructorReturn(this,GroupHeaderSectionDesigner_getPrototypeOf(GroupHeaderSectionDesigner).apply(this,arguments))}return function GroupHeaderSectionDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GroupHeaderSectionDesigner_setPrototypeOf(e,t)}(GroupHeaderSectionDesigner,ia),GroupHeaderSectionDesigner}();function HtmlTextBoxDesigner_typeof(e){return(HtmlTextBoxDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HtmlTextBoxDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HtmlTextBoxDesigner_possibleConstructorReturn(e,t){return!t||"object"!==HtmlTextBoxDesigner_typeof(t)&&"function"!=typeof t?function HtmlTextBoxDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function HtmlTextBoxDesigner_getPrototypeOf(e){return(HtmlTextBoxDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HtmlTextBoxDesigner_setPrototypeOf(e,t){return(HtmlTextBoxDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ca=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},ua=function(){function HtmlTextBoxDesigner(){return function HtmlTextBoxDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HtmlTextBoxDesigner),HtmlTextBoxDesigner_possibleConstructorReturn(this,HtmlTextBoxDesigner_getPrototypeOf(HtmlTextBoxDesigner).apply(this,arguments))}return function HtmlTextBoxDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HtmlTextBoxDesigner_setPrototypeOf(e,t)}(HtmlTextBoxDesigner,Wi),function HtmlTextBoxDesigner_createClass(e,t,r){return t&&HtmlTextBoxDesigner_defineProperties(e.prototype,t),r&&HtmlTextBoxDesigner_defineProperties(e,r),e}(HtmlTextBoxDesigner,[{key:"RenderItem",value:function RenderItem(t,r){return ca(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.RenderService.RenderHtmlTextBox(t,r));case 1:case"end":return e.stop()}},_callee,this)}))}},{key:"DesignerClassName",get:function get(){return _.HtmlTextBox}}]),HtmlTextBoxDesigner}();function JsonDataSourceDesigner_typeof(e){return(JsonDataSourceDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JsonDataSourceDesigner_toConsumableArray(e){return function JsonDataSourceDesigner_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function JsonDataSourceDesigner_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function JsonDataSourceDesigner_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function JsonDataSourceDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JsonDataSourceDesigner_possibleConstructorReturn(e,t){return!t||"object"!==JsonDataSourceDesigner_typeof(t)&&"function"!=typeof t?function JsonDataSourceDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function JsonDataSourceDesigner_get(e,t,r){return(JsonDataSourceDesigner_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function JsonDataSourceDesigner_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=JsonDataSourceDesigner_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function JsonDataSourceDesigner_getPrototypeOf(e){return(JsonDataSourceDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JsonDataSourceDesigner_setPrototypeOf(e,t){return(JsonDataSourceDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var la=function(){function JsonDataSourceDesigner(){return function JsonDataSourceDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,JsonDataSourceDesigner),JsonDataSourceDesigner_possibleConstructorReturn(this,JsonDataSourceDesigner_getPrototypeOf(JsonDataSourceDesigner).apply(this,arguments))}return function JsonDataSourceDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JsonDataSourceDesigner_setPrototypeOf(e,t)}(JsonDataSourceDesigner,Ki),function JsonDataSourceDesigner_createClass(e,t,r){return t&&JsonDataSourceDesigner_defineProperties(e.prototype,t),r&&JsonDataSourceDesigner_defineProperties(e,r),e}(JsonDataSourceDesigner,[{key:"PropertiesThatUpdateDataModel",value:function PropertiesThatUpdateDataModel(){return[].concat(JsonDataSourceDesigner_toConsumableArray(JsonDataSourceDesigner_get(JsonDataSourceDesigner_getPrototypeOf(JsonDataSourceDesigner.prototype),"PropertiesThatUpdateDataModel",this).call(this)),[G.Body,G.Source])}}]),JsonDataSourceDesigner}();function MapDesigner_typeof(e){return(MapDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MapDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MapDesigner_possibleConstructorReturn(e,t){return!t||"object"!==MapDesigner_typeof(t)&&"function"!=typeof t?function MapDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function MapDesigner_getPrototypeOf(e){return(MapDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MapDesigner_setPrototypeOf(e,t){return(MapDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var pa=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},fa=function(){function MapDesigner(){return function MapDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MapDesigner),MapDesigner_possibleConstructorReturn(this,MapDesigner_getPrototypeOf(MapDesigner).apply(this,arguments))}return function MapDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MapDesigner_setPrototypeOf(e,t)}(MapDesigner,Wi),function MapDesigner_createClass(e,t,r){return t&&MapDesigner_defineProperties(e.prototype,t),r&&MapDesigner_defineProperties(e,r),e}(MapDesigner,[{key:"RenderItem",value:function RenderItem(t,r){return pa(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.RenderService.RenderMap(t,r));case 1:case"end":return e.stop()}},_callee,this)}))}},{key:"DesignerClassName",get:function get(){return _.Map}}]),MapDesigner}();function PageSectionDesigner_typeof(e){return(PageSectionDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PageSectionDesigner_possibleConstructorReturn(e,t){return!t||"object"!==PageSectionDesigner_typeof(t)&&"function"!=typeof t?function PageSectionDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PageSectionDesigner_getPrototypeOf(e){return(PageSectionDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PageSectionDesigner_setPrototypeOf(e,t){return(PageSectionDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var da=function(){function PageSectionDesigner(){return function PageSectionDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PageSectionDesigner),PageSectionDesigner_possibleConstructorReturn(this,PageSectionDesigner_getPrototypeOf(PageSectionDesigner).apply(this,arguments))}return function PageSectionDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PageSectionDesigner_setPrototypeOf(e,t)}(PageSectionDesigner,ea),PageSectionDesigner}();function PageFooterSectionDesigner_typeof(e){return(PageFooterSectionDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PageFooterSectionDesigner_possibleConstructorReturn(e,t){return!t||"object"!==PageFooterSectionDesigner_typeof(t)&&"function"!=typeof t?function PageFooterSectionDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PageFooterSectionDesigner_getPrototypeOf(e){return(PageFooterSectionDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PageFooterSectionDesigner_setPrototypeOf(e,t){return(PageFooterSectionDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ya=function(){function PageFooterSectionDesigner(){return function PageFooterSectionDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PageFooterSectionDesigner),PageFooterSectionDesigner_possibleConstructorReturn(this,PageFooterSectionDesigner_getPrototypeOf(PageFooterSectionDesigner).apply(this,arguments))}return function PageFooterSectionDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PageFooterSectionDesigner_setPrototypeOf(e,t)}(PageFooterSectionDesigner,da),PageFooterSectionDesigner}();function PageHeaderSectionDesigner_typeof(e){return(PageHeaderSectionDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PageHeaderSectionDesigner_possibleConstructorReturn(e,t){return!t||"object"!==PageHeaderSectionDesigner_typeof(t)&&"function"!=typeof t?function PageHeaderSectionDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PageHeaderSectionDesigner_getPrototypeOf(e){return(PageHeaderSectionDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PageHeaderSectionDesigner_setPrototypeOf(e,t){return(PageHeaderSectionDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ha=function(){function PageHeaderSectionDesigner(){return function PageHeaderSectionDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PageHeaderSectionDesigner),PageHeaderSectionDesigner_possibleConstructorReturn(this,PageHeaderSectionDesigner_getPrototypeOf(PageHeaderSectionDesigner).apply(this,arguments))}return function PageHeaderSectionDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PageHeaderSectionDesigner_setPrototypeOf(e,t)}(PageHeaderSectionDesigner,da),PageHeaderSectionDesigner}();function ContainerItemDesigner_typeof(e){return(ContainerItemDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ContainerItemDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ContainerItemDesigner_possibleConstructorReturn(e,t){return!t||"object"!==ContainerItemDesigner_typeof(t)&&"function"!=typeof t?function ContainerItemDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ContainerItemDesigner_getPrototypeOf(e){return(ContainerItemDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ContainerItemDesigner_setPrototypeOf(e,t){return(ContainerItemDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ma=function(){function ContainerItemDesigner(){return function ContainerItemDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ContainerItemDesigner),ContainerItemDesigner_possibleConstructorReturn(this,ContainerItemDesigner_getPrototypeOf(ContainerItemDesigner).apply(this,arguments))}return function ContainerItemDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ContainerItemDesigner_setPrototypeOf(e,t)}(ContainerItemDesigner,Li),function ContainerItemDesigner_createClass(e,t,r){return t&&ContainerItemDesigner_defineProperties(e.prototype,t),r&&ContainerItemDesigner_defineProperties(e,r),e}(ContainerItemDesigner,[{key:"createCssBuilder",value:function createCssBuilder(){this.cssBuilder=new Bi(this.Component),this.cssBuilder.Styles.position="absolute",this.cssBuilder.Styles["min-height"]="1px"}}]),ContainerItemDesigner}();function PanelDesigner_typeof(e){return(PanelDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PanelDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PanelDesigner_possibleConstructorReturn(e,t){return!t||"object"!==PanelDesigner_typeof(t)&&"function"!=typeof t?function PanelDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PanelDesigner_getPrototypeOf(e){return(PanelDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PanelDesigner_setPrototypeOf(e,t){return(PanelDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ga=function(){function PanelDesigner(){return function PanelDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PanelDesigner),PanelDesigner_possibleConstructorReturn(this,PanelDesigner_getPrototypeOf(PanelDesigner).apply(this,arguments))}return function PanelDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PanelDesigner_setPrototypeOf(e,t)}(PanelDesigner,ma),function PanelDesigner_createClass(e,t,r){return t&&PanelDesigner_defineProperties(e.prototype,t),r&&PanelDesigner_defineProperties(e,r),e}(PanelDesigner,[{key:"CreateVisualElement",value:function CreateVisualElement(){var e='<div class="'.concat(this.ClassName,' -panel">\n                          <div class="components__content"></div>\n                        </div>'),t=$.parseHTML(e);return $(t)}},{key:"InitializeOverlay",value:function InitializeOverlay(){this.Overlay.Initialize(!0,!0)}}]),PanelDesigner}();function PictureBoxDesigner_typeof(e){return(PictureBoxDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PictureBoxDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PictureBoxDesigner_possibleConstructorReturn(e,t){return!t||"object"!==PictureBoxDesigner_typeof(t)&&"function"!=typeof t?function PictureBoxDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PictureBoxDesigner_getPrototypeOf(e){return(PictureBoxDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PictureBoxDesigner_setPrototypeOf(e,t){return(PictureBoxDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var va=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},ba=function(){function PictureBoxDesigner(){return function PictureBoxDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PictureBoxDesigner),PictureBoxDesigner_possibleConstructorReturn(this,PictureBoxDesigner_getPrototypeOf(PictureBoxDesigner).apply(this,arguments))}return function PictureBoxDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PictureBoxDesigner_setPrototypeOf(e,t)}(PictureBoxDesigner,Wi),function PictureBoxDesigner_createClass(e,t,r){return t&&PictureBoxDesigner_defineProperties(e.prototype,t),r&&PictureBoxDesigner_defineProperties(e,r),e}(PictureBoxDesigner,[{key:"RenderItem",value:function RenderItem(n,o){return va(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(t=Promise.resolve(new yna(!0,btoa(this.noImageSvg))),(r=this.Component.GetPropertyValue(G.Value))&&!r.startsWith("="))return e.abrupt("return",this.RenderService.RenderPictureBox(n,o));e.next=4;break;case 4:if(this.Component.PropertyStore[G.Image])return e.abrupt("return",this.RenderService.RenderPictureBox(n,o));e.next=7;break;case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},_callee,this)}))}},{key:"noImageSvg",get:function get(){return'<svg xmlns="http://www.w3.org/2000/svg" style="position:absolute;top:0;left:0;" viewBox="0 0 50 50" fill="lightblue" width="32" height="32"><path d="M39 38H11c-1.7 0-3-1.3-3-3V15c0-1.7 1.3-3 3-3h28c1.7 0 3 1.3 3 3v20c0 1.7-1.3 3-3 3zM11 14c-.6 0-1 .4-1 1v20c0 .6.4 1 1 1h28c.6 0 1-.4 1-1V15c0-.6-.4-1-1-1H11z"></path><path d="M30 24c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM35.3 37.7L19 22.4 9.7 31l-1.4-1.4 10.7-10 17.7 16.7z"></path><path d="M40.4 32.7L35 28.3 30.5 32l-1.3-1.6 5.8-4.7 6.6 5.4z"></path></svg>'}},{key:"DesignerClassName",get:function get(){return _.PictureBox}}]),PictureBoxDesigner}();function ComponentWrapperDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _a=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Sa=function(){function ComponentWrapperDesigner(e,t){if(!function ComponentWrapperDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ComponentWrapperDesigner),!(t instanceof O))throw new Error("ComponentWrapperDesigner must be created only for ComponentWrapper instances! CurrentInstance: ".concat(t.Type,"."));this.provider=e,this.componentWrapper=t}return function ComponentWrapperDesigner_createClass(e,t,r){return t&&ComponentWrapperDesigner_defineProperties(e.prototype,t),r&&ComponentWrapperDesigner_defineProperties(e,r),e}(ComponentWrapperDesigner,[{key:"GetContextMenuCommands",value:function GetContextMenuCommands(){var e=[];return e.push(it.Delete),e}},{key:"Dispose",value:function Dispose(){}},{key:"Resize",value:function Resize(){}},{key:"OnResizeStart",value:function OnResizeStart(){}},{key:"Drag",value:function Drag(){throw new Error("Method not implemented.")}},{key:"UpdateOverlay",value:function UpdateOverlay(){throw new Error("Method not implemented.")}},{key:"CalculateMinSize",value:function CalculateMinSize(){throw new Error("Method not implemented.")}},{key:"GetClientBounds",value:function GetClientBounds(){throw new Error("Method not implemented.")}},{key:"GetClientLocation",value:function GetClientLocation(){throw new Error("Method not implemented.")}},{key:"GetPadding",value:function GetPadding(){throw new Error("Method not implemented.")}},{key:"UpdateChildrenOverlay",value:function UpdateChildrenOverlay(){throw new Error("Method not implemented.")}},{key:"UpdateResizable",value:function UpdateResizable(){throw new Error("Method not implemented.")}},{key:"Initialize",value:function Initialize(){return _a(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},_callee)}))}},{key:"Render",value:function Render(){return this.VisualElement}},{key:"Redraw",value:function Redraw(e){}},{key:"RedrawChildren",value:function RedrawChildren(){}},{key:"ToggleInteractivity",value:function ToggleInteractivity(){}},{key:"GetBounds",value:function GetBounds(){return zr.Empty}},{key:"GetLocation",value:function GetLocation(){return Vr.Empty}},{key:"GetSize",value:function GetSize(){return B.Empty}},{key:"OnComponentChanged",value:function OnComponentChanged(){}},{key:"Component",get:function get(){return this.componentWrapper.Component}},{key:"ComponentWrapper",get:function get(){return this.componentWrapper}},{key:"Provider",get:function get(){return this.provider}},{key:"VisualElement",get:function get(){return this.Component.Designer.VisualElement}},{key:"VisualElementContent",get:function get(){return this.Component.Designer.VisualElementContent}},{key:"Overlay",get:function get(){return null}}]),ComponentWrapperDesigner}();function ReportGroupDesigner_typeof(e){return(ReportGroupDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportGroupDesigner_possibleConstructorReturn(e,t){return!t||"object"!==ReportGroupDesigner_typeof(t)&&"function"!=typeof t?function ReportGroupDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportGroupDesigner_getPrototypeOf(e){return(ReportGroupDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportGroupDesigner_setPrototypeOf(e,t){return(ReportGroupDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ca=function(){function ReportGroupDesigner(){return function ReportGroupDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportGroupDesigner),ReportGroupDesigner_possibleConstructorReturn(this,ReportGroupDesigner_getPrototypeOf(ReportGroupDesigner).apply(this,arguments))}return function ReportGroupDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportGroupDesigner_setPrototypeOf(e,t)}(ReportGroupDesigner,Sa),ReportGroupDesigner}();function ReportFooterSectionDesigner_typeof(e){return(ReportFooterSectionDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportFooterSectionDesigner_possibleConstructorReturn(e,t){return!t||"object"!==ReportFooterSectionDesigner_typeof(t)&&"function"!=typeof t?function ReportFooterSectionDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportFooterSectionDesigner_getPrototypeOf(e){return(ReportFooterSectionDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportFooterSectionDesigner_setPrototypeOf(e,t){return(ReportFooterSectionDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Pa=function(){function ReportFooterSectionDesigner(){return function ReportFooterSectionDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportFooterSectionDesigner),ReportFooterSectionDesigner_possibleConstructorReturn(this,ReportFooterSectionDesigner_getPrototypeOf(ReportFooterSectionDesigner).apply(this,arguments))}return function ReportFooterSectionDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportFooterSectionDesigner_setPrototypeOf(e,t)}(ReportFooterSectionDesigner,ta),ReportFooterSectionDesigner}();function ReportHeaderSectionDesigner_typeof(e){return(ReportHeaderSectionDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportHeaderSectionDesigner_possibleConstructorReturn(e,t){return!t||"object"!==ReportHeaderSectionDesigner_typeof(t)&&"function"!=typeof t?function ReportHeaderSectionDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportHeaderSectionDesigner_getPrototypeOf(e){return(ReportHeaderSectionDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportHeaderSectionDesigner_setPrototypeOf(e,t){return(ReportHeaderSectionDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var wa=function(){function ReportHeaderSectionDesigner(){return function ReportHeaderSectionDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportHeaderSectionDesigner),ReportHeaderSectionDesigner_possibleConstructorReturn(this,ReportHeaderSectionDesigner_getPrototypeOf(ReportHeaderSectionDesigner).apply(this,arguments))}return function ReportHeaderSectionDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportHeaderSectionDesigner_setPrototypeOf(e,t)}(ReportHeaderSectionDesigner,ta),ReportHeaderSectionDesigner}();function ShapeDesigner_typeof(e){return(ShapeDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ShapeDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ShapeDesigner_possibleConstructorReturn(e,t){return!t||"object"!==ShapeDesigner_typeof(t)&&"function"!=typeof t?function ShapeDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ShapeDesigner_getPrototypeOf(e){return(ShapeDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ShapeDesigner_setPrototypeOf(e,t){return(ShapeDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Oa=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Ea=function(){function ShapeDesigner(){return function ShapeDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShapeDesigner),ShapeDesigner_possibleConstructorReturn(this,ShapeDesigner_getPrototypeOf(ShapeDesigner).apply(this,arguments))}return function ShapeDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ShapeDesigner_setPrototypeOf(e,t)}(ShapeDesigner,Wi),function ShapeDesigner_createClass(e,t,r){return t&&ShapeDesigner_defineProperties(e.prototype,t),r&&ShapeDesigner_defineProperties(e,r),e}(ShapeDesigner,[{key:"RenderItem",value:function RenderItem(t,r){return Oa(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.RenderService.RenderShape(t,r));case 1:case"end":return e.stop()}},_callee,this)}))}},{key:"DesignerClassName",get:function get(){return _.Shape}}]),ShapeDesigner}();function SlimComponentWrapperDesigner_typeof(e){return(SlimComponentWrapperDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SlimComponentWrapperDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SlimComponentWrapperDesigner_possibleConstructorReturn(e,t){return!t||"object"!==SlimComponentWrapperDesigner_typeof(t)&&"function"!=typeof t?function SlimComponentWrapperDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SlimComponentWrapperDesigner_getPrototypeOf(e){return(SlimComponentWrapperDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SlimComponentWrapperDesigner_setPrototypeOf(e,t){return(SlimComponentWrapperDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ka=function(){function SlimComponentWrapperDesigner(e,t){return function SlimComponentWrapperDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SlimComponentWrapperDesigner),SlimComponentWrapperDesigner_possibleConstructorReturn(this,SlimComponentWrapperDesigner_getPrototypeOf(SlimComponentWrapperDesigner).call(this,e,new O(t.PropertyStore,t.Parent,e,t)))}return function SlimComponentWrapperDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SlimComponentWrapperDesigner_setPrototypeOf(e,t)}(SlimComponentWrapperDesigner,Sa),function SlimComponentWrapperDesigner_createClass(e,t,r){return t&&SlimComponentWrapperDesigner_defineProperties(e.prototype,t),r&&SlimComponentWrapperDesigner_defineProperties(e,r),e}(SlimComponentWrapperDesigner,[{key:"OnComponentChanged",value:function OnComponentChanged(){}},{key:"VisualElement",get:function get(){return this.Component.Parent.Designer.VisualElement}}]),SlimComponentWrapperDesigner}();function SqlDataSourceDesigner_typeof(e){return(SqlDataSourceDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlDataSourceDesigner_toConsumableArray(e){return function SqlDataSourceDesigner_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function SqlDataSourceDesigner_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function SqlDataSourceDesigner_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function SqlDataSourceDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlDataSourceDesigner_possibleConstructorReturn(e,t){return!t||"object"!==SqlDataSourceDesigner_typeof(t)&&"function"!=typeof t?function SqlDataSourceDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlDataSourceDesigner_get(e,t,r){return(SqlDataSourceDesigner_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function SqlDataSourceDesigner_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SqlDataSourceDesigner_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function SqlDataSourceDesigner_getPrototypeOf(e){return(SqlDataSourceDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlDataSourceDesigner_setPrototypeOf(e,t){return(SqlDataSourceDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ta=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Da=function(){function SqlDataSourceDesigner(){return function SqlDataSourceDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlDataSourceDesigner),SqlDataSourceDesigner_possibleConstructorReturn(this,SqlDataSourceDesigner_getPrototypeOf(SqlDataSourceDesigner).apply(this,arguments))}return function SqlDataSourceDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlDataSourceDesigner_setPrototypeOf(e,t)}(SqlDataSourceDesigner,Ki),function SqlDataSourceDesigner_createClass(e,t,r){return t&&SqlDataSourceDesigner_defineProperties(e.prototype,t),r&&SqlDataSourceDesigner_defineProperties(e,r),e}(SqlDataSourceDesigner,[{key:"Initialize",value:function Initialize(){return Ta(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Provider.GetService(I.ITypeDescriptorRepository),e.next=3,t.GetComponentTypeDescriptor(this.Component.Type);case 3:e.sent.CreateProperty("ParameterValues","String",SqlDataSourceDesigner.setParameterValue,!1);case 5:case"end":return e.stop()}},_callee,this)}))}},{key:"GetContextMenuCommands",value:function GetContextMenuCommands(){var e=SqlDataSourceDesigner_get(SqlDataSourceDesigner_getPrototypeOf(SqlDataSourceDesigner.prototype),"GetContextMenuCommands",this).call(this);return e.push(it.Edit),e}},{key:"PropertiesThatUpdateDataModel",value:function PropertiesThatUpdateDataModel(){return[].concat(SqlDataSourceDesigner_toConsumableArray(SqlDataSourceDesigner_get(SqlDataSourceDesigner_getPrototypeOf(SqlDataSourceDesigner.prototype),"PropertiesThatUpdateDataModel",this).call(this)),[G.ConnectionString,G.SelectCommand])}}],[{key:"setParameterValue",value:function setParameterValue(){}}]),SqlDataSourceDesigner}();function ReportItemWrapperDesigner_typeof(e){return(ReportItemWrapperDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportItemWrapperDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ReportItemWrapperDesigner_possibleConstructorReturn(e,t){return!t||"object"!==ReportItemWrapperDesigner_typeof(t)&&"function"!=typeof t?function ReportItemWrapperDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportItemWrapperDesigner_getPrototypeOf(e){return(ReportItemWrapperDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportItemWrapperDesigner_setPrototypeOf(e,t){return(ReportItemWrapperDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var xa=function(){function ReportItemWrapperDesigner(e,t){return function ReportItemWrapperDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportItemWrapperDesigner),ReportItemWrapperDesigner_possibleConstructorReturn(this,ReportItemWrapperDesigner_getPrototypeOf(ReportItemWrapperDesigner).call(this,e,t))}return function ReportItemWrapperDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportItemWrapperDesigner_setPrototypeOf(e,t)}(ReportItemWrapperDesigner,Sa),function ReportItemWrapperDesigner_createClass(e,t,r){return t&&ReportItemWrapperDesigner_defineProperties(e.prototype,t),r&&ReportItemWrapperDesigner_defineProperties(e,r),e}(ReportItemWrapperDesigner,[{key:"ToggleInteractivity",value:function ToggleInteractivity(e){this.ToggleVirtualSelectionStyle(this.GetReportItem()),this.ToggleInteractivityOverride(e)}},{key:"ToggleVirtualSelectionStyle",value:function ToggleVirtualSelectionStyle(e){e&&e.VisualElement.toggleClass("-table-part-selection")}}]),ReportItemWrapperDesigner}();function TableGroupDesigner_typeof(e){return(TableGroupDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TableGroupDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TableGroupDesigner_possibleConstructorReturn(e,t){return!t||"object"!==TableGroupDesigner_typeof(t)&&"function"!=typeof t?function TableGroupDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TableGroupDesigner_getPrototypeOf(e){return(TableGroupDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TableGroupDesigner_setPrototypeOf(e,t){return(TableGroupDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ra=function(){function TableGroupDesigner(){return function TableGroupDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableGroupDesigner),TableGroupDesigner_possibleConstructorReturn(this,TableGroupDesigner_getPrototypeOf(TableGroupDesigner).apply(this,arguments))}return function TableGroupDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TableGroupDesigner_setPrototypeOf(e,t)}(TableGroupDesigner,xa),function TableGroupDesigner_createClass(e,t,r){return t&&TableGroupDesigner_defineProperties(e.prototype,t),r&&TableGroupDesigner_defineProperties(e,r),e}(TableGroupDesigner,[{key:"GetReportItem",value:function GetReportItem(){return this.ComponentWrapper.ReportItem}},{key:"ToggleInteractivityOverride",value:function ToggleInteractivityOverride(e){for(var t=this.ComponentWrapper,r=0,n=Array.from(t.ChildGroups);r<n.length;r++){n[r].Designer.ToggleInteractivity(e)}}}]),TableGroupDesigner}();function TableGroupsDesigner_typeof(e){return(TableGroupsDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TableGroupsDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TableGroupsDesigner_possibleConstructorReturn(e,t){return!t||"object"!==TableGroupsDesigner_typeof(t)&&"function"!=typeof t?function TableGroupsDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TableGroupsDesigner_getPrototypeOf(e){return(TableGroupsDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TableGroupsDesigner_setPrototypeOf(e,t){return(TableGroupsDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ia=function(){function TableGroupsDesigner(){return function TableGroupsDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableGroupsDesigner),TableGroupsDesigner_possibleConstructorReturn(this,TableGroupsDesigner_getPrototypeOf(TableGroupsDesigner).apply(this,arguments))}return function TableGroupsDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TableGroupsDesigner_setPrototypeOf(e,t)}(TableGroupsDesigner,xa),function TableGroupsDesigner_createClass(e,t,r){return t&&TableGroupsDesigner_defineProperties(e.prototype,t),r&&TableGroupsDesigner_defineProperties(e,r),e}(TableGroupsDesigner,[{key:"GetReportItem",value:function GetReportItem(){return null}},{key:"ToggleInteractivityOverride",value:function ToggleInteractivityOverride(e){for(var t=this.ComponentWrapper,r=0,n=Array.from(t.Groups);r<n.length;r++){n[r].Designer.ToggleInteractivity(e)}}},{key:"Render",value:function Render(){return this.Component.Designer.VisualElement}}]),TableGroupsDesigner}();function TablePartDesigner_typeof(e){return(TablePartDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TablePartDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TablePartDesigner_possibleConstructorReturn(e,t){return!t||"object"!==TablePartDesigner_typeof(t)&&"function"!=typeof t?function TablePartDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TablePartDesigner_get(e,t,r){return(TablePartDesigner_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function TablePartDesigner_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TablePartDesigner_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function TablePartDesigner_getPrototypeOf(e){return(TablePartDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TablePartDesigner_setPrototypeOf(e,t){return(TablePartDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ga=function(){function TablePartDesigner(e,t){return function TablePartDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TablePartDesigner),TablePartDesigner_possibleConstructorReturn(this,TablePartDesigner_getPrototypeOf(TablePartDesigner).call(this,e,t))}return function TablePartDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TablePartDesigner_setPrototypeOf(e,t)}(TablePartDesigner,xa),function TablePartDesigner_createClass(e,t,r){return t&&TablePartDesigner_defineProperties(e.prototype,t),r&&TablePartDesigner_defineProperties(e,r),e}(TablePartDesigner,[{key:"GetReportItem",value:function GetReportItem(){return null}},{key:"ToggleInteractivityOverride",value:function ToggleInteractivityOverride(){for(var e=this.ComponentWrapper,t=0,r=Array.from(e.CellContainer.Cells);t<r.length;t++){var n=r[t];TablePartDesigner_get(TablePartDesigner_getPrototypeOf(TablePartDesigner.prototype),"ToggleVirtualSelectionStyle",this).call(this,n.ReportItem)}}}]),TablePartDesigner}();function ReportObjectUtils_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ja=function(){function ReportObjectUtils(){!function ReportObjectUtils_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportObjectUtils)}return function ReportObjectUtils_createClass(e,t,r){return t&&ReportObjectUtils_defineProperties(e.prototype,t),r&&ReportObjectUtils_defineProperties(e,r),e}(ReportObjectUtils,null,[{key:"SplitName",value:function SplitName(e){var t=e.match("(p{Ll})(p{Lu})|W+");return"".concat(t[0]," ").concat(t[1]).trim()}}]),ReportObjectUtils}();function TableMember_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ba=function(){function TableMember(e,t,r){!function TableMember_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableMember),this.Index=e,this.tableLayout=t,this.size=r,this.TableRatio=0}return function TableMember_createClass(e,t,r){return t&&TableMember_defineProperties(e.prototype,t),r&&TableMember_defineProperties(e,r),e}(TableMember,[{key:"SetSize",value:function SetSize(e){var t=this.GetMinSizeNotRelative();if(e.LessThan(t))throw new Error("".concat(this.MemberName," size less than ").concat(t," is not supported. You may delete the ").concat(this.MemberName.toLowerCase()," or hide all items that form it instead."));this.size=j.FromPixels(e.ToPixels(),this.size.Type),this.tableLayout&&this.tableLayout.UpdateTableAndContentSize()}},{key:"Dispose",value:function Dispose(){this.tableLayout=null}},{key:"SetSizeCore",value:function SetSizeCore(e){this.size=e}},{key:"GetMinSize",value:function GetMinSize(){return TableMember.MinSize}},{key:"GetMinSizeNotRelative",value:function GetMinSizeNotRelative(){return TableMember.MinSize}},{key:"GetCells",value:regeneratorRuntime.mark(function GetCells(){return regeneratorRuntime.wrap(function GetCells$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},GetCells)})},{key:"TableLayout",get:function get(){return this.tableLayout}},{key:"Size",get:function get(){return this.size}}],[{key:"MinSize",get:function get(){return new j(10,v.Pixel)}}]),TableMember}();function Cell_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ma=function(){function Cell(e,t,r){!function Cell_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Cell),this.tableLayout=e,this.RowIndex=t,this.ColIndex=r,this.rowSpan=0,this.colSpan=0,this.mergeTarget=null,this.ReportItem=null,this.RowGroup=null,this.ColumnGroup=null,this.bounds=bn.Empty,this.disposed=!1}return function Cell_createClass(e,t,r){return t&&Cell_defineProperties(e.prototype,t),r&&Cell_defineProperties(e,r),e}(Cell,[{key:"SetBounds",value:function SetBounds(e){if(!this.bounds.Equals(e)&&(this.bounds=e,null===this.mergeTarget&&null!==this.ReportItem)){var t=this.bounds.Size;this.ReportItem.Size.Equals(t)||(this.ReportItem.Size=t)}}},{key:"Dispose",value:function Dispose(){try{this.tableLayout=null,this.mergeTarget=null,this.ReportItem=null}finally{this.disposed=!0}}},{key:"Merge",value:function Merge(e,t){this.rowSpan=e,this.colSpan=t;for(var r=0;r<e;r++)for(var n=0;n<t;n++){var o=this.TableLayout.CellAt(this.RowIndex+r,this.ColIndex+n);o.mergeTarget=o!==this?this:null}}},{key:"GetMinWidth",value:function GetMinWidth(){return null!==this.mergeTarget?j.Zero:Ba.MinSize.Multiply(Math.max(1,this.ColSpan))}},{key:"GetMinHeight",value:function GetMinHeight(){return null!==this.mergeTarget?j.Zero:Ba.MinSize.Multiply(Math.max(1,this.RowSpan))}},{key:"RowSpan",get:function get(){return this.rowSpan}},{key:"ColSpan",get:function get(){return this.colSpan}},{key:"TableLayout",get:function get(){return this.tableLayout}},{key:"Row",get:function get(){return this.TableLayout.Rows[this.RowIndex]}},{key:"Column",get:function get(){return this.TableLayout.Columns[this.ColIndex]}},{key:"Bounds",get:function get(){return this.bounds}},{key:"MergeTarget",get:function get(){return this.mergeTarget}},{key:"IsOrphaned",get:function get(){return this.disposed}}]),Cell}();function ExpressionUtils_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Aa=function(){function ExpressionUtils(){!function ExpressionUtils_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ExpressionUtils)}return function ExpressionUtils_createClass(e,t,r){return t&&ExpressionUtils_defineProperties(e.prototype,t),r&&ExpressionUtils_defineProperties(e,r),e}(ExpressionUtils,null,[{key:"GetFieldReference",value:function GetFieldReference(e){if(e){var t=e.match("^=s*Fields.(w+)$");if(t&&0!==t.length||(t=e.match("^=s*(w+)$")),t&&0<t.length)return t[0]}return""}},{key:"IsNumericType",value:function IsNumericType(){return!0}}]),ExpressionUtils}();function Row_typeof(e){return(Row_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Row_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Row_possibleConstructorReturn(e,t){return!t||"object"!==Row_typeof(t)&&"function"!=typeof t?function Row_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Row_get(e,t,r){return(Row_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function Row_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Row_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Row_getPrototypeOf(e){return(Row_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Row_setPrototypeOf(e,t){return(Row_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Na=function(){function Row(e,t,r){var n;!function Row_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Row),(n=Row_possibleConstructorReturn(this,Row_getPrototypeOf(Row).call(this,t,e,r))).Cells=[];for(var o=0;o<e.Columns.length;o++)n.Cells.push(e.CreateCell(t,o));return n}return function Row_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Row_setPrototypeOf(e,t)}(Row,Ba),function Row_createClass(e,t,r){return t&&Row_defineProperties(e.prototype,t),r&&Row_defineProperties(e,r),e}(Row,[{key:"Dispose",value:function Dispose(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.Cells[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){n.value.Dispose()}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}this.Cells.length=0,Row_get(Row_getPrototypeOf(Row.prototype),"Dispose",this).call(this)}},{key:"GetCells",value:regeneratorRuntime.mark(function GetCells(){return regeneratorRuntime.wrap(function GetCells$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.Cells);case 1:case"end":return e.stop()}},GetCells,this)})},{key:"GetMinSize",value:function GetMinSize(){var e=Row_get(Row_getPrototypeOf(Row.prototype),"GetMinSize",this).call(this),t=!0,r=!1,n=void 0;try{for(var o,i=this.Cells[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=j.Zero,c=a.MergeTarget;c?s=c.GetMinHeight().Multiply(this.Size.Ratio(c.Bounds.Height)):(s=a.GetMinHeight(),1<a.RowSpan&&(s=s.Multiply(this.Size.Ratio(a.Bounds.Height)))),e=j.Max(e,s)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e}},{key:"GetMinSizeNotRelative",value:function GetMinSizeNotRelative(){var e=Row_get(Row_getPrototypeOf(Row.prototype),"GetMinSize",this).call(this),t=!0,r=!1,n=void 0;try{for(var o,i=this.Cells[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=void 0,c=a.MergeTarget;c?s=this.Size.Subtract(c.Bounds.Height.Subtract(c.GetMinHeight())):(s=a.GetMinHeight(),1<a.RowSpan&&(s=this.Size.Subtract(a.Bounds.Height.Subtract(s)))),e=j.Max(e,s)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e}},{key:"Top",get:function get(){var e=j.Zero,t=!0,r=!1,n=void 0;try{for(var o,i=this.TableLayout.Rows[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e=e.Add(a.Size)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e}},{key:"MemberName",get:function get(){return"Row"}}]),Row}();function Column_typeof(e){return(Column_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Column_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Column_possibleConstructorReturn(e,t){return!t||"object"!==Column_typeof(t)&&"function"!=typeof t?function Column_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Column_get(e,t,r){return(Column_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function Column_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Column_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Column_getPrototypeOf(e){return(Column_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Column_setPrototypeOf(e,t){return(Column_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ha=function(){function Column(e,t,r){return function Column_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Column),Column_possibleConstructorReturn(this,Column_getPrototypeOf(Column).call(this,t,e,r))}return function Column_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Column_setPrototypeOf(e,t)}(Column,Ba),function Column_createClass(e,t,r){return t&&Column_defineProperties(e.prototype,t),r&&Column_defineProperties(e,r),e}(Column,[{key:"GetCells",value:regeneratorRuntime.mark(function GetCells(){var t;return regeneratorRuntime.wrap(function GetCells$(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(t<this.TableLayout.rows.length)return e.next=4,this.TableLayout.rows[t].Cells[this.Index];e.next=7;break;case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}},GetCells,this)})},{key:Symbol.iterator,value:regeneratorRuntime.mark(function value(){var t;return regeneratorRuntime.wrap(function value$(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(t<this.TableLayout.rows.length)return e.next=4,this.TableLayout.rows[t].Cells[this.Index];e.next=7;break;case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}},value,this)})},{key:"GetMinSize",value:function GetMinSize(){for(var e=Column_get(Column_getPrototypeOf(Column.prototype),"GetMinSize",this).call(this),t=0,r=Array.from(this.GetCells());t<r.length;t++){var n=r[t],o=void 0,i=n.MergeTarget;null!==i?o=i.GetMinWidth().Multiply(this.Size.Ratio(i.Bounds.Width)):(o=n.GetMinWidth(),1<n.ColSpan&&(o=o.Multiply(this.Size.Ratio(n.Bounds.Width)))),e=j.Max(e,o)}return e}},{key:"GetMinSizeNotRelative",value:function GetMinSizeNotRelative(){for(var e=Column_get(Column_getPrototypeOf(Column.prototype),"GetMinSize",this).call(this),t=0,r=Array.from(this.GetCells());t<r.length;t++){var n=r[t],o=void 0,i=n.MergeTarget;i?o=this.Size.Subtract(i.Bounds.Width.Subtract(i.GetMinWidth())):(o=n.GetMinWidth(),1<n.ColSpan&&(o=this.Size.Subtract(n.Bounds.Width.Subtract(o)))),e=j.Max(e,o)}return e}},{key:"Left",get:function get(){for(var e=j.Zero,t=0;t<this.Index;t++)e=e.Add(this.TableLayout.Columns[t].Size);return e}},{key:"MemberName",get:function get(){return"Column"}}]),Column}();function SelectionMode_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var La=function(){function SelectionMode(){!function SelectionMode_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SelectionMode)}return function SelectionMode_createClass(e,t,r){return t&&SelectionMode_defineProperties(e.prototype,t),r&&SelectionMode_defineProperties(e,r),e}(SelectionMode,null,[{key:"Replace",get:function get(){return"Replace"}},{key:"Append",get:function get(){return"Append"}}]),SelectionMode}();function TableLayout_toConsumableArray(e){return function TableLayout_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function TableLayout_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function TableLayout_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function TableLayout_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Va=function(){function TableLayout(e,t){!function TableLayout_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableLayout),this.provider=t,this.namingService=t.GetService(I.NamingService),this.rows=[],this.columns=[],this.selectedCells=[],this.Table=e,this.cells=new Map,this.layoutSuspendCount=0,this.bodyColumnCount=0,this.bodyRowCount=0,this.RowHeaderColumnCount=0,this.ColumnHeaderRowCount=0}return function TableLayout_createClass(e,t,r){return t&&TableLayout_defineProperties(e.prototype,t),r&&TableLayout_defineProperties(e,r),e}(TableLayout,[{key:"GetDefaultUnitType",value:function GetDefaultUnitType(){var e=this.provider.GetService(I.IDesignerHost);return e.IsLoaded?e.RootComponent.UnitOfMeasure:v.Cm}},{key:"CreateCell",value:function CreateCell(e,t){return new Ma(this,e,t)}},{key:"CreateRow",value:function CreateRow(e,t){return new Na(this,e,t)}},{key:"CreateColumn",value:function CreateColumn(e,t){return new Ha(this,e,t)}},{key:"Refresh",value:function Refresh(){this.Clear(),this.Init()}},{key:"DeleteComponent",value:function DeleteComponent(e){null!==e&&e.Delete()}},{key:"CreateUniqueGroupName",value:function CreateUniqueGroupName(e){return this.namingService.CreateName(e)}},{key:"SelectCellsInternal",value:function SelectCellsInternal(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n.IsOrphaned)throw new Error("Cannot select orphaned cells.");if(!n.ReportItem)throw new Error("Cannot select cells with no report item.");t.push(n.ReportItem)}this.provider.GetService(I.SelectionService).SetSelectedComponents(t)}},{key:"NewGroup",value:function NewGroup(){return!0}},{key:"Clear",value:function Clear(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.Rows[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){n.value.Dispose()}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}var i=!0,a=!1,s=void 0;try{for(var c,u=this.Columns[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){c.value.Dispose()}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}this.Rows.length=0,this.Columns.length=0,this.cells.clear()}},{key:"Init",value:function Init(){this.SuspendLayout();try{var e=Le.GetLeafGroups(this.RowGroups),t=Le.GetLeafGroups(this.ColumnGroups),r=[],n=[];if(TableLayout.InitBodyRowsColumns(this.Body,e.length,t.length,this.DefaultItemSize,r,n)){this.Body.Rows.Clear();for(var o=0;o<r.length;o++)this.Body.Rows.AddByHeight(r[o]);this.Body.Columns.Clear();for(var i=0;i<n.length;i++)this.Body.Columns.AddByWidth(n[i])}this.bodyColumnCount=t.length,this.bodyRowCount=e.length;for(var a=TableLayout.CalculateDistanceList(this.ColumnGroups,!0,!1),s=[],c=0;c<a.length;c++){var u=0===c?a[0]:a[c].Subtract(a[c-1]);s.push(u)}this.ColumnHeaderRowCount=s.length;for(var l=TableLayout.CalculateDistanceList(this.RowGroups,!1,!1),p=[],f=0;f<l.length;f++){var d=0===f?l[0]:l[f].Subtract(l[f-1]);p.push(d)}this.RowHeaderColumnCount=p.length;for(var y=0;y<this.RowHeaderColumnCount;y++)this.Columns.push(this.CreateColumn(y,p[y]));for(var h=0;h<this.bodyColumnCount;h++)this.Columns.push(this.CreateColumn(this.RowHeaderColumnCount+h,this.Body.Columns.Get(h).Width));for(var m=0;m<this.ColumnHeaderRowCount;m++)this.Rows.push(this.CreateRow(m,s[m]));for(var g=0;g<this.bodyRowCount;g++)this.Rows.push(this.CreateRow(this.ColumnHeaderRowCount+g,this.Body.Rows.Get(g).Height));if(0<this.CornerRowCount&&0<this.CornerColumnCount)for(var v=0;v<this.CornerRowCount;v++)for(var b=0;b<this.CornerColumnCount;b++)this.SetCellOverload(this.CellAt(v,b),this.Corner.ResolveAt(v,b),null,null);TableLayout.WalkHierarchy(this.ColumnGroups,this.RowHeaderColumnCount,0,this.AddColumnGroup.bind(this),this.CalcRowSpanOfColumnGroup.bind(this)),TableLayout.WalkHierarchy(this.RowGroups,this.ColumnHeaderRowCount,0,this.AddRowGroup.bind(this),this.CalcColumnSpanOfRowHeader.bind(this));for(var _=0;_<this.bodyRowCount;_++)for(var S=0;S<this.bodyColumnCount;S++)this.SetCellOverload(this.CellAt(this.ColumnHeaderRowCount+_,this.RowHeaderColumnCount+S),this.Body.ResolveAt(_,S),e[_],t[S]);this.UpdateTableAndContentSize()}finally{this.ResumeLayout()}}},{key:"CalcRowSpanOfColumnGroup",value:function CalcRowSpanOfColumnGroup(e,t){if(null===e.ReportItem)throw new Error("No header for this group!");for(var r=e.ReportItem.Height,n=t;n<this.ColumnHeaderRowCount;){var o=this.Rows[n++].Size;if(r.LessOrEqual(o))break;r=r.Subtract(o)}return n-t}},{key:"CalcColumnSpanOfRowHeader",value:function CalcColumnSpanOfRowHeader(e,t){if(null===e.ReportItem)throw new Error("No header for this group!");for(var r=e.ReportItem.Width,n=t;n<this.RowHeaderColumnCount;){var o=this.Columns[n++].Size;if(r.LessOrEqual(o))break;r=r.Subtract(o)}return n-t}},{key:"UpdateTableAndContentSize",value:function UpdateTableAndContentSize(){var e=this.CalcTableClientSizeFromContent();this.UpdateRowsAndColumnsRatio(e);var t=j.Parse(this.Table.GetCascadingPropertyValue(G.Style,G.Padding,G.Right)),r=j.Parse(this.Table.GetCascadingPropertyValue(G.Style,G.Padding,G.Left)),n=j.Parse(this.Table.GetCascadingPropertyValue(G.Style,G.Padding,G.Top)),o=j.Parse(this.Table.GetCascadingPropertyValue(G.Style,G.Padding,G.Bottom));this.Table.Size=new M(e.Width.Add(t.Add(r)),e.Height.Add(n.Add(o))),this.LayoutContent()}},{key:"UpdateRowsAndColumnsRatio",value:function UpdateRowsAndColumnsRatio(t){if(0===t.Width.Value){var r=1/this.Columns.length;this.Columns.forEach(function(e){return e.TableRatio=r})}else this.Columns.forEach(function(e){return e.TableRatio=e.Size.Ratio(t.Width)});if(0===t.Height.Value){var n=1/this.Rows.length;this.Rows.forEach(function(e){return e.TableRatio=n})}else this.Rows.forEach(function(e){return e.TableRatio=e.Size.Ratio(t.Height)})}},{key:"CalcTableClientSizeFromContent",value:function CalcTableClientSizeFromContent(){for(var e=this.Table.Size,t=new j(0,e.Width.Type),r=0;r<this.Columns.length;r++)t=t.Add(this.Columns[r].Size);for(var n=new j(0,e.Height.Type),o=0;o<this.Rows.length;o++)n=n.Add(this.Rows[o].Size);return new M(t,n)}},{key:"LayoutContent",value:function LayoutContent(){this.SuspendLayout();for(var e=this.Table.Size,t=j.Parse(this.Table.GetCascadingPropertyValue(G.Style,G.Padding,G.Right)),r=j.Parse(this.Table.GetCascadingPropertyValue(G.Style,G.Padding,G.Left)),n=j.Parse(this.Table.GetCascadingPropertyValue(G.Style,G.Padding,G.Top)),o=j.Parse(this.Table.GetCascadingPropertyValue(G.Style,G.Padding,G.Bottom)),i=t.Add(r),a=n.Add(o),s=e.Width.Subtract(i),c=0;c<this.Columns.length;c++){var u=this.Columns[c];u.SetSizeCore(s.Multiply(u.TableRatio));var l=c-this.RowHeaderColumnCount;0<=l&&(this.Body.Columns.Get(l).Width=u.Size)}for(var p=e.Height.Subtract(a),f=0;f<this.Rows.length;f++){var d=this.Rows[f];d.SetSizeCore(p.Multiply(d.TableRatio));var y=f-this.ColumnHeaderRowCount;0<=y&&(this.Body.Rows.Get(y).Height=d.Size)}for(var h=j.Zero,m=0;m<this.Rows.length;m++){for(var g=j.Zero,v=this.Rows[m],b=0;b<this.Columns.length;b++){var _=this.Columns[b],S=this.CellAt(m,b),C=bn.Empty;if(null===S.MergeTarget){for(var P=j.Zero,w=0;w<S.ColSpan;w++)P=P.Add(this.Columns[b+w].Size);for(var O=j.Zero,E=0;E<S.RowSpan;E++)O=O.Add(this.Rows[m+E].Size);C=new bn(new Wr(g,h),new M(P,O))}S.SetBounds(C),g=g.Add(_.Size)}h=h.Add(v.Size)}this.ResumeLayout()}},{key:"AddColumnGroup",value:function AddColumnGroup(e,t,r,n){e.ColumnIndex=r,e.RowIndex=t,e.ColumnSpan=n,e.RowSpan=1,this.SetCell(this.CellAt(t,r),this.CalcRowSpanOfColumnGroup(e,t),n,e.ReportItem,null,e)}},{key:"AddRowGroup",value:function AddRowGroup(e,t,r,n){e.ColumnIndex=t,e.RowIndex=r,e.ColumnSpan=1,e.RowSpan=n,this.SetCell(this.CellAt(r,t),n,this.CalcColumnSpanOfRowHeader(e,t),e.ReportItem,e,null)}},{key:"SetCell",value:function SetCell(e,t,r,n,o,i){e.Merge(t,r),e.ReportItem=n,e.RowGroup=o,e.ColumnGroup=i,null!==n&&this.cells.set(n,e)}},{key:"SetCellOverload",value:function SetCellOverload(e,t,r,n){this.SetCell(e,t.RowSpan,t.ColumnSpan,t.ReportItem,r,n)}},{key:"SuspendLayout",value:function SuspendLayout(){this.layoutSuspendCount++}},{key:"ResumeLayout",value:function ResumeLayout(){0<this.layoutSuspendCount&&this.layoutSuspendCount--}},{key:"PerformLayout",value:function PerformLayout(){0===this.layoutSuspendCount&&this.Refresh()}},{key:"GetCell",value:function GetCell(e){return this.cells.get(e)}},{key:"CellAt",value:function CellAt(e,t){return this.Rows[e].Cells[t]}},{key:"IsBodyRow",value:function IsBodyRow(e){return e>=this.ColumnHeaderRowCount}},{key:"IsBodyColumn",value:function IsBodyColumn(e){return e>=this.RowHeaderColumnCount}},{key:"IsColumnHeaderCell",value:function IsColumnHeaderCell(e){return this.IsColumnHeaderCellByIndex(e.RowIndex,e.ColIndex)}},{key:"IsColumnHeaderCellByIndex",value:function IsColumnHeaderCellByIndex(e,t){return e<this.ColumnHeaderRowCount&&t>=this.RowHeaderColumnCount}},{key:"IsRowHeaderCellByCell",value:function IsRowHeaderCellByCell(e){return this.IsRowHeaderCellByIndex(e.RowIndex,e.ColIndex)}},{key:"IsRowHeaderCellByIndex",value:function IsRowHeaderCellByIndex(e,t){return e>=this.ColumnHeaderRowCount&&t<this.RowHeaderColumnCount}},{key:"IsBodyCell",value:function IsBodyCell(e){return this.IsBodyCellByIndex(e.RowIndex,e.ColIndex)}},{key:"IsBodyCellByIndex",value:function IsBodyCellByIndex(e,t){return this.IsBodyRow(e)&&this.IsBodyColumn(t)}},{key:"IsCornerCell",value:function IsCornerCell(e){return this.IsCornerCellByIndex(e.RowIndex,e.ColIndex)}},{key:"IsCornerCellByIndex",value:function IsCornerCellByIndex(e,t){return e<this.ColumnHeaderRowCount&&t<this.RowHeaderColumnCount}},{key:"ReplaceCellContent",value:function ReplaceCellContent(e,t){var r=null,n=0,o=0;if(this.IsBodyCell(e))r=this.Table.Body,n=e.RowIndex-this.ColumnHeaderRowCount,o=e.ColIndex-this.RowHeaderColumnCount,TableLayout.IsDetailCell(e)||this.ApplyAggregateValue(t);else{if(!this.IsCornerCell(e))throw new Error("Cell must be in Body or Corner");r=this.Corner,n=e.RowIndex,o=e.ColIndex}null!==(e=this.CellAt(e.RowIndex,e.ColIndex)).ReportItem&&TableLayout.CopyStyle(e.ReportItem,t),this.DeleteComponent(e.ReportItem),e.ReportItem=null,r.SetCellContentExtended(n,o,t,e.RowSpan,e.ColSpan)}},{key:"ApplyAggregateValue",value:function ApplyAggregateValue(e){if(e instanceof Ae){var t=e,r=Aa.GetFieldReference(t.Value);if(r){var n=this.GetFieldType(r);n&&(Aa.IsNumericType(n)?t.Value="=Sum(Fields.".concat(r,")"):t.Value="=Count(Fields.".concat(r,")"))}}}},{key:"ReplaceGroupHeader",value:function ReplaceGroupHeader(e,t){var r=M.Empty;e.ReportItem&&(TableLayout.CopyStyle(e.ReportItem,t),r=e.ReportItem.Size,this.DeleteComponent(e.ReportItem)),e.ReportItem=t,e.ReportItem&&(r.IsEmpty||(e.ReportItem.Size=r))}},{key:"ReplaceGroup",value:function ReplaceGroup(e,t,r,n,o){var i=r?e.RowGroup:e.ColumnGroup;o&&(n=this.CreateUniqueGroupName(n),Le.InitDynamicGroup(i,n,[new T(function TableLayout_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},G.Expression,o),i,this.provider)])),this.ReplaceGroupHeader(i,t)}},{key:"ReplaceCellContentExtended",value:function ReplaceCellContentExtended(e,t,r,n){this.IsRowHeaderCellByCell(e)?this.ReplaceGroup(e,t,!0,r,n):this.IsColumnHeaderCell(e)?this.ReplaceGroup(e,t,!1,r,n):(this.IsBodyCell(e)||this.IsCornerCell(e))&&this.ReplaceCellContent(e,t),this.PerformLayout(),this.SetHeaderLabelText(e.RowIndex,e.ColIndex,TableLayout.GetDataField(t)),this.PerformLayout()}},{key:"GetFieldType",value:function GetFieldType(){return null}},{key:"GetHeaderLabelItem",value:function GetHeaderLabelItem(e,t){if(e<this.ColumnHeaderRowCount)return null;var r=0,n=this.CellAt(e,t).RowGroup,o=Le.GetRootGroup(n),i=this.RowGroups.IndexOf(o);if(0<i){var a=this.RowGroups.Get(i-1);if(a.IsDynamic())return null;if(0<Le.CountDynamicDescendants(a.ChildGroups))return null;var s=Le.GetIndicesOfLeavesOfTableGroup(this.RowGroups,0,a);if(!s)return null;r=this.ColumnHeaderRowCount+s.IndexOfLastLeaf}else if(0<this.ColumnHeaderRowCount&&t<this.RowHeaderColumnCount)r=this.ColumnHeaderRowCount-1;else{if(!this.IsBodyCellByIndex(e,t))return null;r=this.ColumnHeaderRowCount-1}if(r<0||t<0)return null;var c=this.CellAt(r,t);if(c.MergeTarget&&(c=c.MergeTarget).ColIndex!==t)return null;var u=c.ReportItem;return TableLayout.IsEmptyTextBox(u)?u:null}},{key:"SetHeaderLabelText",value:function SetHeaderLabelText(e,t,r){if(r){var n=this.GetHeaderLabelItem(e,t);if(n instanceof Ae){n.Value=ja.SplitName(r)}}}},{key:"IsCellSelected",value:function IsCellSelected(e){if(e.MergeTarget)return this.IsCellSelected(e.MergeTarget);for(var t=this.selectedCells.length-1;0<=t;t--){var r=this.selectedCells[t];if(r.RowIndex==e.RowIndex&&r.ColIndex==e.ColIndex)return!0}return!1}},{key:"SelectSingleCell",value:function SelectSingleCell(e,t,r){var n=[this.CellAt(e,t)];r==La.Append&&n.push.apply(n,TableLayout_toConsumableArray(this.selectedCells)),this.SetSelectedCells(n)}},{key:"SetSelectedCells",value:function SetSelectedCells(e){if(this.selectedCells=[],e)for(var t=0;t<e.length;t++){var r=e[t];if(r){if(r.IsOrphaned)throw new Error("Cannot select orphaned cells");if(r.MergeTarget&&(r=r.MergeTarget),!r.ReportItem)throw new Error("Cannot select a cell with no report item.");this.selectedCells.includes(r)||this.selectedCells.push(r)}}}},{key:"GetSelectedCells",value:regeneratorRuntime.mark(function GetSelectedCells(){var t,r,n;return regeneratorRuntime.wrap(function GetSelectedCells$(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.Rows.length)){e.next=14;break}r=0;case 3:if(!(r<this.Columns.length)){e.next=11;break}if(!(n=this.CellAt(t,r)).MergeTarget&&this.IsCellSelected(n))return e.next=8,n;e.next=8;break;case 8:r++,e.next=3;break;case 11:t++,e.next=1;break;case 14:case"end":return e.stop()}},GetSelectedCells,this)})},{key:"MoveToCell",value:function MoveToCell(e,t,r){return this.MoveToCellByRows(this.MoveToCellByColumns(e,t),r)}},{key:"MoveToCellByColumns",value:function MoveToCellByColumns(e,t){for(var r=e,n=Math.sign(t),o=0;o<Math.abs(t);o++){var i=0<n?r.ColSpan:n,a=r.ColIndex+i;if(a<0||a>=this.Columns.length)break;(r=this.CellAt(r.RowIndex,a)).MergeTarget&&(r=r.MergeTarget)}return r}},{key:"MoveToCellByRows",value:function MoveToCellByRows(e,t){for(var r=e,n=Math.sign(t),o=0;o<Math.abs(t);o++){var i=0<n?r.RowSpan:n,a=r.RowIndex+i;if(a<0||a>=this.Rows.length)break;(r=this.CellAt(a,r.ColIndex)).MergeTarget&&(r=r.MergeTarget)}return r}},{key:"MoveSelection",value:function MoveSelection(e,t){if(0<this.selectedCells.length)for(var r=0,n=Array.from(this.GetSelectedCells());r<n.length;r++){var o=n[r],i=this.MoveToCell(o,e,t);i.RowIndex===o.RowIndex&&i.ColIndex===o.ColIndex||this.SelectCellsInternal([i]);break}}},{key:"CalculateItemMinSize",value:function CalculateItemMinSize(e){for(var t=this.GetCell(e),r=j.Zero,n=t.Column.Index,o=t.ColSpan,i=0;i<o-1;i++)r=r.Add(this.Columns[i+n].Size);r=r.Add(Ba.MinSize);for(var a=j.Zero,s=t.Row.Index,c=t.RowSpan,u=0;u<c-1;u++)a=a.Add(this.Rows[u+s].Size);return a=a.Add(Ba.MinSize),new M(r,a)}},{key:"ResizeMemberByItem",value:function ResizeMemberByItem(e,t,r){var n=this.GetCell(e);this.ResizeMember(n,t,r)}},{key:"ResizeMember",value:function ResizeMember(e,t,r){for(var n=e.Column.Index,o=e.ColSpan,i=j.Zero,a=0;a<o;a++)i=i.Add(this.Columns[a+n].Size);if(!t.IsEqual(i)){for(var s=t,c=0;c<o-1;c++)s=s.Subtract(this.Columns[c+n].Size);this.Columns[n+o-1].SetSize(s,!1)}for(var u=e.Row.Index,l=e.RowSpan,p=j.Zero,f=0;f<l;f++)p=p.Add(this.Rows[f+u].Size);if(!r.IsEqual(p)){for(var d=r,y=0;y<l-1;y++)d=d.Subtract(this.Rows[y+u].Size);this.Rows[u+l-1].SetSize(d,!1)}}},{key:"Rows",get:function get(){return this.rows}},{key:"Columns",get:function get(){return this.columns}},{key:"CornerRowCount",get:function get(){return this.ColumnHeaderRowCount}},{key:"CornerColumnCount",get:function get(){return this.RowHeaderColumnCount}},{key:"IsEmpty",get:function get(){return 0===this.Rows.length&&0===this.Columns.length}},{key:"RowGroups",get:function get(){return this.Table.RowGroups}},{key:"ColumnGroups",get:function get(){return this.Table.ColumnGroups}},{key:"Body",get:function get(){return this.Table.Body}},{key:"Corner",get:function get(){return this.Table.Corner}},{key:"DefaultItemSize",get:function get(){var e=this.GetDefaultUnitType();switch(e){case v.Mm:return new M(new j(25,v.Mm),new j(5,v.Mm));case v.Cm:return new M(new j(2,v.Cm),new j(.5,v.Cm));case v.Pixel:return new M(new j(100,v.Pixel),new j(20,v.Pixel));default:return new M(new j(1,v.Inch).ToUnit(e),new j(.2,v.Inch).ToUnit(e))}}}],[{key:"InitBodyRowsColumns",value:function InitBodyRowsColumns(e,t,r,n,o,i){var a=e.Rows.Count;if(0<a&&a!==t){var s="Table Body has ".concat(a," rows but ").concat(t," are expected.");throw new Error(s)}var c=e.Columns.Count;if(0<c&&c!==r){var u="Table Body has ".concat(c," columns but ").concat(r," are expected.");throw new Error(u)}for(var l=0;l<t;l++){var p=j.Zero;0<a&&(p=e.Rows.Get(l).Height),o.push(p)}for(var f=0;f<r;f++){var d=j.Zero;0<c&&(d=e.Columns.Get(f).Width),i.push(d)}if(0<a&&0<c)return!1;for(var y=0,h=Array.from(e.Cells);y<h.length;y++){var m=h[y];if(null!==m.ReportItem&&!(m.RowIndex>=o.length||m.ColumnIndex>=i.length)){if(0===a&&m.RowSpan<=1){var g=m.RowIndex,v=o[g];m.ReportItem.Height.GreaterThan(v)&&(v=m.ReportItem.Height),o[g]=v}if(0===c&&m.ColumnSpan<=1){var b=m.ColumnIndex,_=i[b];m.ReportItem.Width.GreaterThan(_)&&(_=m.ReportItem.Width),i[b]=_}}}for(var S=n,C=0;C<t;C++)o[C].IsEqual(j.Zero)&&(o[C]=S.Height);for(var P=0;P<r;P++)i[P].IsEqual(j.Zero)&&(i[P]=S.Width);return!0}},{key:"WalkHierarchy",value:function WalkHierarchy(e,t,r,n,o){for(var i=0,a=0;a<e.Count;a++){var s=e.Get(a);s.RowIndex=s.ColumnIndex=s.RowSpan=s.ColumnSpan=-1;var c=t+i,u=s.ChildGroups;if(0<u.Count){var l=r;null!==s.ReportItem&&(l+=o(s,r)),i+=TableLayout.WalkHierarchy(u,c,l,n,o)}else i++;null!==s.ReportItem&&n(s,r,c,t+i-c)}return i}},{key:"CalculateDistanceList",value:function CalculateDistanceList(e,t,r){var n=[];return TableLayout.CollectDistances(e,t,r,j.Zero,n),n.sort(function(e,t){return e.GreaterThan(t)?1:t.GreaterThan(e)?-1:0}),TableLayout.RemoveDuplicates(n)}},{key:"RemoveDuplicates",value:function RemoveDuplicates(e){for(var t=[],r=j.Zero,n=0;n<e.length;n++){var o=e[n];o.GreaterThan(r)&&(o.Subtract(r).ToPixels()<TableLayout.tableLineEpsilon&&t.pop(),t.push(o),r=o)}return t}},{key:"CollectDistances",value:function CollectDistances(e,t,r,n,o){for(var i=0;i<e.Count;i++){var a=e.Get(i),s=n,c=a.ReportItem;if(null!==c&&(!r||c.Visible)){var u=t?c.Height:c.Width;s=s.Add(u),o.push(s)}TableLayout.CollectDistances(a.ChildGroups,t,r,s,o)}}},{key:"IsDetailCell",value:function IsDetailCell(e){return Le.FindDynamicAncestorOrSelf(e.RowGroup).IsDetail()||Le.FindDynamicAncestorOrSelf(e.ColumnGroup).IsDetail()}},{key:"GetDataField",value:function GetDataField(e){var t="";e instanceof Ae&&(t=e.Value);return Aa.GetFieldReference(t)}},{key:"CopyStyle",value:function CopyStyle(e,t){if(null!==e&&null!==t){jQuery.extend(!0,p.ResolvePropertyStore(t.PropertyStore,G.Style,function(){}),p.ResolvePropertyStore(e.PropertyStore,G.Style,function(){}));var r=t.GetProperty(G.StyleName);r.SetValue(r.GetValue(e,e.PropertyStore),t,t.PropertyStore)}}},{key:"IsEmptyTextBox",value:function IsEmptyTextBox(e){if(e instanceof Ne){var t=e.Value;return t?t===e.Name:!0}return!1}},{key:"tableLineEpsilon",get:function get(){return 1}}]),TableLayout}();function TableDesigner_typeof(e){return(TableDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TableDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TableDesigner_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TableDesigner_get(e,t,r){return(TableDesigner_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function TableDesigner_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TableDesigner_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function TableDesigner_getPrototypeOf(e){return(TableDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TableDesigner_setPrototypeOf(e,t){return(TableDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Wa=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},za=function(){function TableDesigner(e,t){var r;return function TableDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableDesigner),(r=function TableDesigner_possibleConstructorReturn(e,t){return!t||"object"!==TableDesigner_typeof(t)&&"function"!=typeof t?TableDesigner_assertThisInitialized(e):t}(this,TableDesigner_getPrototypeOf(TableDesigner).call(this,e,t))).tableLayout=new Va(t,e),r.selectionService=r.Provider.GetService(I.SelectionService),r.selectionHandler=r.OnSelectionChanged.bind(TableDesigner_assertThisInitialized(r)),r.eventsElement=r.Provider.GetService(I.WebDesignerEventsElement),r.eventsElement.addEventListener(y.SelectionChanged,r.selectionHandler,!1),r}return function TableDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TableDesigner_setPrototypeOf(e,t)}(TableDesigner,ma),function TableDesigner_createClass(e,t,r){return t&&TableDesigner_defineProperties(e.prototype,t),r&&TableDesigner_defineProperties(e,r),e}(TableDesigner,[{key:"SnapLines",value:function SnapLines(){for(var e=TableDesigner_get(TableDesigner_getPrototypeOf(TableDesigner.prototype),"SnapLines",this).call(this),t=this.tableLayout.Columns,r=this.tableLayout.Rows,n=this.GetClientBounds(!0),o=n.Left,i=0;i<t.length-1;i++){o+=t[i].Size.ToPixels()*this.Zoom,e.push(new _i(vi.Left,o,null,bi.Low)),e.push(new _i(vi.Right,o,null,bi.Low))}for(var a=n.Top,s=0;s<r.length-1;s++){a+=r[s].Size.ToPixels()*this.Zoom,e.push(new _i(vi.Top,a,null,bi.Low)),e.push(new _i(vi.Bottom,a,null,bi.Low))}return e}},{key:"Initialize",value:function Initialize(){return Wa(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createComponentWrappers(this.Provider,this.Component);case 2:case"end":return e.stop()}},_callee,this)}))}},{key:"Dispose",value:function Dispose(){this.eventsElement.removeEventListener(y.SelectionChanged,this.selectionHandler,!1),TableDesigner_get(TableDesigner_getPrototypeOf(TableDesigner.prototype),"Dispose",this).call(this)}},{key:"GetCell",value:function GetCell(e){return this.tableLayout.GetCell(e)}},{key:"CalculateItemMinSize",value:function CalculateItemMinSize(e){return this.TableLayout.CalculateItemMinSize(e)}},{key:"ResizeMemberByItem",value:function ResizeMemberByItem(e,t,r){this.tableLayout.ResizeMemberByItem(e,t,r)}},{key:"Resize",value:function Resize(e){var t=this.ReportItem.Size,r=j.FromPixels(e.Size.Width,t.Width.Type),n=j.FromPixels(e.Size.Height,t.Height.Type),o=new M(r,n);if(!t.Equals(o)){var i=this.Provider.GetService(I.IDesignerHost),a=this.Provider.GetService(I.Notifications),s=i.CreateTransaction("Resize '".concat(this.Component.Name,"'"));try{TableDesigner_get(TableDesigner_getPrototypeOf(TableDesigner.prototype),"Resize",this).call(this,e),this.tableLayout.LayoutContent(),s.Commit()}catch(e){s.Rollback(),a.Error("Could not resize '".concat(this.Component.Name,"'."),e)}}}},{key:"Render",value:function Render(e){var t=TableDesigner_get(TableDesigner_getPrototypeOf(TableDesigner.prototype),"Render",this).call(this,e);return this.tableLayout.Refresh(),t}},{key:"createComponentWrappers",value:function createComponentWrappers(r,n){return Wa(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return t=n,this.rowGroups=new hi(t.RowGroups,n,r),e.next=4,this.rowGroups.Initialize();case 4:return this.columnGroups=new hi(t.ColumnGroups,n,r),e.next=7,this.columnGroups.Initialize();case 7:return this.body=new mi(t.Body,n,r),e.next=10,this.body.Initialize();case 10:return this.corner=new mi(t.Corner,n,r),e.next=13,this.corner.Initialize();case 13:case"end":return e.stop()}},_callee2,this)}))}},{key:"OnSelectionChanged",value:function OnSelectionChanged(){var e=[],t=this.selectionService.GetSelectedComponents(),r=!0,n=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;if(s instanceof P){if(s.Parent===this.Component){var c=this.GetCell(s);c&&e.push(c)}}if(s instanceof Ba){console.debug("Since we select Member's cells, instead of the Member itself, we should never have Table.Row/Column selected");for(var u=0,l=Array.from(s.GetCells());u<l.length;u++){var p=l[u];p.MergeTarget||e.push(p)}}}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}this.TableLayout.SetSelectedCells(e)}},{key:"TableLayout",get:function get(){return this.tableLayout}},{key:"RowGroups",get:function get(){return this.rowGroups}},{key:"ColumnGroups",get:function get(){return this.columnGroups}},{key:"Corner",get:function get(){return this.corner}},{key:"Body",get:function get(){return this.body}}]),TableDesigner}();function TextBoxDesigner_typeof(e){return(TextBoxDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TextBoxDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TextBoxDesigner_possibleConstructorReturn(e,t){return!t||"object"!==TextBoxDesigner_typeof(t)&&"function"!=typeof t?function TextBoxDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TextBoxDesigner_get(e,t,r){return(TextBoxDesigner_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function TextBoxDesigner_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TextBoxDesigner_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function TextBoxDesigner_getPrototypeOf(e){return(TextBoxDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TextBoxDesigner_setPrototypeOf(e,t){return(TextBoxDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Fa=function(){function TextBoxDesigner(e,t){var r;return function TextBoxDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextBoxDesigner),(r=TextBoxDesigner_possibleConstructorReturn(this,TextBoxDesigner_getPrototypeOf(TextBoxDesigner).call(this,e,t))).editMode=!1,r}return function TextBoxDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TextBoxDesigner_setPrototypeOf(e,t)}(TextBoxDesigner,Li),function TextBoxDesigner_createClass(e,t,r){return t&&TextBoxDesigner_defineProperties(e.prototype,t),r&&TextBoxDesigner_defineProperties(e,r),e}(TextBoxDesigner,[{key:"SnapLines",value:function SnapLines(){return TextBoxDesigner_get(TextBoxDesigner_getPrototypeOf(TextBoxDesigner.prototype),"SnapLines",this).call(this)}},{key:"CreateVisualElement",value:function CreateVisualElement(){this.propertyStore=this.Component.PropertyStore;var e='<div class="'.concat(this.ClassName,' -textbox">\n                            <div class="components__content">\n                              <span></span>\n                              <textarea>').concat(this.propertyStore[G.Value],"</textarea>\n                            </div>\n                          </div>"),t=$.parseHTML(e);return $(t)}},{key:"Render",value:function Render(e){var r=this;TextBoxDesigner_get(TextBoxDesigner_getPrototypeOf(TextBoxDesigner.prototype),"Render",this).call(this,e),this.$editableElement=this.VisualElement.find("textarea"),this.$valueHolderElement=this.VisualElement.find("span"),this.VisualElement.off("focusout keydown").on("keydown","textarea",function(e){var t=r.$editableElement.val();13===e.which&&r.edit(t)}).on("focusout","textarea",function(e){var t=r.$editableElement.val();r.edit(t)});var t=this.getDisplayText();return this.$valueHolderElement.text(t),this.Overlay.VisualElement.off("dblclick").on("dblclick",function(e){r.Overlay.Disable(),r.$editableElement.show().focus(),r.$editableElement.val(r.propertyStore[G.Value]),r.editMode=!0}),this.VisualElement}},{key:"Redraw",value:function Redraw(e){var t=0<arguments.length&&void 0!==e&&e;TextBoxDesigner_get(TextBoxDesigner_getPrototypeOf(TextBoxDesigner.prototype),"Redraw",this).call(this,t);var r=this.getDisplayText();this.$valueHolderElement.text(r)}},{key:"OnResizeStart",value:function OnResizeStart(){this.editMode&&this.edit(this.$editableElement.val())}},{key:"edit",value:function edit(e){var t=this.Component.GetProperty(G.Value),r=this.Component.PropertyStore;e!==this.$valueHolderElement.html()&&(this.$valueHolderElement.text(e),t.SetValue(e,this.Component,r)),this.$editableElement.hide(),this.Overlay.Enable(),this.editMode=!1}},{key:"getDisplayText",value:function getDisplayText(){var e="<".concat(this.propertyStore[G.Name],">");this.component.Parent instanceof rt&&(e="");var t=this.propertyStore[G.Value]||e;return t.startsWith("=")&&(t="[".concat(t,"]")),t}}]),TextBoxDesigner}();function TocLevelDesigner_typeof(e){return(TocLevelDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TocLevelDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TocLevelDesigner_possibleConstructorReturn(e,t){return!t||"object"!==TocLevelDesigner_typeof(t)&&"function"!=typeof t?function TocLevelDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TocLevelDesigner_get(e,t,r){return(TocLevelDesigner_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function TocLevelDesigner_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TocLevelDesigner_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function TocLevelDesigner_getPrototypeOf(e){return(TocLevelDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TocLevelDesigner_setPrototypeOf(e,t){return(TocLevelDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ua=function(){function TocLevelDesigner(){return function TocLevelDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TocLevelDesigner),TocLevelDesigner_possibleConstructorReturn(this,TocLevelDesigner_getPrototypeOf(TocLevelDesigner).apply(this,arguments))}return function TocLevelDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TocLevelDesigner_setPrototypeOf(e,t)}(TocLevelDesigner,Hi),function TocLevelDesigner_createClass(e,t,r){return t&&TocLevelDesigner_defineProperties(e.prototype,t),r&&TocLevelDesigner_defineProperties(e,r),e}(TocLevelDesigner,[{key:"CreateVisualElement",value:function CreateVisualElement(){var e=this.getDisplayText(),t='<div class="'.concat(this.ClassName,' -toclevel">\n                            <div class="components__content">').concat(e,"</div>\n                          </div>"),r=$.parseHTML(t);return $(r)}},{key:"Render",value:function Render(e){return TocLevelDesigner_get(TocLevelDesigner_getPrototypeOf(TocLevelDesigner.prototype),"Render",this).call(this,e),this.Resizable.HideHandlers(),this.VisualElement}},{key:"InitializeOverlay",value:function InitializeOverlay(){this.Overlay.Initialize(!1,!1,!1)}},{key:"Redraw",value:function Redraw(e){var t=0<arguments.length&&void 0!==e&&e;TocLevelDesigner_get(TocLevelDesigner_getPrototypeOf(TocLevelDesigner.prototype),"Redraw",this).call(this,t);var r=this.getDisplayText();this.VisualElementContent.html(r)}},{key:"getDisplayText",value:function getDisplayText(){var e=this.Component;return"".concat(e.Name," ").concat(e.LeaderSymbol.repeat(10)," 1")}}]),TocLevelDesigner}();function CssHelper_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var $a=function(){function CssHelper(e){!function CssHelper_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CssHelper),this.stylePropertyStore=e,this.styles={},this.contentStyles={},this.addStyles()}return function CssHelper_createClass(e,t,r){return t&&CssHelper_defineProperties(e.prototype,t),r&&CssHelper_defineProperties(e,r),e}(CssHelper,[{key:"addStyles",value:function addStyles(){var e=this.getBorderPx();this.stylePropertyStore&&(this.addTextDeclarations(),this.addFontDeclarations(),this.addBorderDeclarations(),this.addBackgroundDeclarations(),this.addPaddingDeclarations(e))}},{key:"addTextDeclarations",value:function addTextDeclarations(){var e=this.stylePropertyStore[G.TextIndent];if(e){var t=j.Parse(e);this.addDeclaration("text-indent",t.ToUnit(v.Pixel).ToString())}}},{key:"addFontDeclarations",value:function addFontDeclarations(){var e=this.stylePropertyStore[G.Color];this.addContentDeclaration("color",ji.ToHexColor(e));var t=this.stylePropertyStore[G.Font]||{},r=t[G.Name];this.addContentDeclaration("font-family",r);var n=t[G.Size];this.addContentDeclaration("font-size",n);var o=t[G.Italic];o&&"true"===o.toLowerCase()&&this.addContentDeclaration("font-style","italic");var i=t[G.Bold];i&&"true"===i.toLowerCase()&&this.addContentDeclaration("font-weight","bold");var a="",s=t[G.Underline];s&&"true"===s.toLowerCase()&&(a+="underline");var c=t[G.Strikeout];c&&"true"===c.toLowerCase()&&(a+=" line-through"),""!==a&&this.addContentDeclaration("text-decoration",a.trim());var u=this.stylePropertyStore[G.VerticalAlign],l=!1;if("Top"!==u){var p="baseline";switch(u){case"Middle":p="center";break;case"Bottom":p="flex-end"}this.addContentDeclaration("display","flex"),this.addContentDeclaration("align-items",p),l=!0}var f="start",d="flex-start";switch(this.stylePropertyStore[G.TextAlign]){case"Right":f="end",d="flex-end";break;case"Center":d=f="center";break;case"Justify":f="justify"}this.addContentDeclaration("text-align",f),l&&this.addContentDeclaration("justify-content",d)}},{key:"addBorderDeclarations",value:function addBorderDeclarations(){var e=this.stylePropertyStore[G.BorderStyle]||{},t=this.stylePropertyStore[G.BorderWidth]||{},r=this.stylePropertyStore[G.BorderColor]||{},n=e[G.Left],o=e[G.Top],i=e[G.Right],a=e[G.Bottom],s=j.Parse(t[G.Left]||"0px"),c=j.Parse(t[G.Top]||"0px"),u=j.Parse(t[G.Right]||"0px"),l=j.Parse(t[G.Bottom]||"0px"),p=r[G.Left]||"Transparent",f=r[G.Top]||"Transparent",d=r[G.Right]||"Transparent",y=r[G.Bottom]||"Transparent";n&&"None"!==n&&.5<s.ToPixels()&&this.addDeclaration("border-left","".concat(s.ToString()," ").concat(String(n).toLowerCase()," ").concat(ji.ToHexColor(p)||"")),o&&"None"!==o&&.5<c.ToPixels()&&this.addDeclaration("border-top","".concat(c.ToString()," ").concat(String(o).toLowerCase()," ").concat(ji.ToHexColor(f)||"")),i&&"None"!==i&&.5<u.ToPixels()&&this.addDeclaration("border-right","".concat(u.ToString()," ").concat(String(i).toLowerCase()," ").concat(ji.ToHexColor(d)||"")),a&&"None"!==a&&.5<l.ToPixels()&&this.addDeclaration("border-bottom","".concat(l.ToString()," ").concat(String(a).toLowerCase()," ").concat(ji.ToHexColor(y)||""))}},{key:"addBackgroundDeclarations",value:function addBackgroundDeclarations(){var e=this.stylePropertyStore[G.BackgroundColor]||"Transparent",t=this.ToCssRgbaColor(e);this.addDeclaration("background-color",t);var r=this.stylePropertyStore[G.BackgroundImage];if(r){var n=r[G.ImageData];if(n){var o=r[G.MimeType],i="url('data:".concat(o,";base64,").concat(n,"')");this.addDeclaration("background-image",i);var a=r[G.Repeat];a&&("Repeat"===a&&this.addDeclaration("background-repeat","repeat"),"NoRepeat"===a&&this.addDeclaration("background-repeat","no-repeat"),"RepeatX"===a&&this.addDeclaration("background-repeat","repeat-x"),"RepeatY"===a&&this.addDeclaration("background-repeat","repeat-y"))}}}},{key:"ToCssRgbaColor",value:function ToCssRgbaColor(e){return"rgba( ".concat(ji.ToRgbaColor(e)," )")}},{key:"addPaddingDeclarations",value:function addPaddingDeclarations(e){var t=this.getPadding(!0,!0,!0,!0);this.addContentDeclaration("padding-left",Math.max(0,t.Left)),this.addContentDeclaration("padding-top",Math.max(0,t.Top)),this.addContentDeclaration("padding-right",Math.max(0,t.Width)),this.addContentDeclaration("padding-bottom",Math.max(0,t.Height)),this.addContentDeclaration("top",-e.Top/2),this.addContentDeclaration("left",-e.Left/2),this.addContentDeclaration("right",-e.Right/2),this.addContentDeclaration("bottom",-e.Bottom/2)}},{key:"getBorderPx",value:function getBorderPx(){var e={Left:0,Top:0,Right:0,Bottom:0};if(!this.stylePropertyStore)return e;var t=this.stylePropertyStore[G.BorderStyle]||{},r=this.stylePropertyStore[G.BorderWidth]||{},n=t[G.Left],o=r[G.Left];n&&o&&"None"!==n&&(e.Left=j.Parse(o).ToPixels());var i=t[G.Top],a=r[G.Top];i&&a&&"None"!==i&&(e.Top=j.Parse(a).ToPixels());var s=t[G.Right],c=r[G.Right];s&&c&&"None"!==s&&(e.Right=j.Parse(c).ToPixels());var u=t[G.Bottom],l=r[G.Bottom];return u&&l&&"None"!==u&&(e.Bottom=j.Parse(l).ToPixels()),e}},{key:"getPadding",value:function getPadding(e,t,r,n){var o=zr.Empty,i=this.stylePropertyStore;if(!i)return o;var a=i[G.Padding];return a&&(e&&(o.X=this.getSinglePadding(a,G.Left)),t&&(o.Y=this.getSinglePadding(a,G.Top)),r&&(o.Width=this.getSinglePadding(a,G.Right)),n&&(o.Height=this.getSinglePadding(a,G.Bottom))),o}},{key:"getSinglePadding",value:function getSinglePadding(e,t){var r=0,n=e[t];return n&&(r=j.Parse(n).ToPixels()),r}},{key:"addDeclaration",value:function addDeclaration(e,t){void 0!==t&&(this.styles[e]=t)}},{key:"addContentDeclaration",value:function addContentDeclaration(e,t){void 0!==t&&(this.contentStyles[e]=t)}},{key:"Styles",get:function get(){return this.styles}},{key:"ContentStyles",get:function get(){return this.contentStyles}}]),CssHelper}();function TocSectionDesigner_typeof(e){return(TocSectionDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TocSectionDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TocSectionDesigner_possibleConstructorReturn(e,t){return!t||"object"!==TocSectionDesigner_typeof(t)&&"function"!=typeof t?function TocSectionDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TocSectionDesigner_get(e,t,r){return(TocSectionDesigner_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function TocSectionDesigner_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TocSectionDesigner_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function TocSectionDesigner_getPrototypeOf(e){return(TocSectionDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TocSectionDesigner_setPrototypeOf(e,t){return(TocSectionDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var qa=function(){function TocSectionDesigner(){return function TocSectionDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TocSectionDesigner),TocSectionDesigner_possibleConstructorReturn(this,TocSectionDesigner_getPrototypeOf(TocSectionDesigner).apply(this,arguments))}return function TocSectionDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TocSectionDesigner_setPrototypeOf(e,t)}(TocSectionDesigner,ta),function TocSectionDesigner_createClass(e,t,r){return t&&TocSectionDesigner_defineProperties(e.prototype,t),r&&TocSectionDesigner_defineProperties(e,r),e}(TocSectionDesigner,[{key:"OnComponentChanged",value:function OnComponentChanged(e){if(e.propertyDescriptor.Name===G.Position&&this.Provider.GetService(I.IDesignerHost).IsLoaded){this.report.SortSections();var t=this.VisualElement.parent();this.VisualElement.detach(),this.AttachToParent(t,this.VisualElement)}TocSectionDesigner_get(TocSectionDesigner_getPrototypeOf(TocSectionDesigner.prototype),"OnComponentChanged",this).call(this,e)}},{key:"Render",value:function Render(e){return TocSectionDesigner_get(TocSectionDesigner_getPrototypeOf(TocSectionDesigner.prototype),"Render",this).call(this,e),this.renderTitle(this.Component),this.renderDefaultLevel(this.Component),this.VisualElement}},{key:"InitializeOverlay",value:function InitializeOverlay(){this.Overlay.Initialize(!1,!0,!0)}},{key:"renderTitle",value:function renderTitle(e){var t=this.buildHtmlElement(e.Title,e.TitleStyle);this.VisualElementContent.prepend(t)}},{key:"renderDefaultLevel",value:function renderDefaultLevel(e){if(!e.Levels||0===e.Levels.length){var t=this.buildHtmlElement("Default TOC Level .......... 1",null);this.VisualElementContent.append(t)}}},{key:"buildHtmlElement",value:function buildHtmlElement(e,t){var r=new $a(t),n="<div>".concat(e,"</div>"),o=$.parseHTML(n);$(o).css(r.ContentStyles);var i=$.parseHTML("<div></div>"),a=$(i);return a.css(r.Styles),a.append(o),a}}]),TocSectionDesigner}();function WebServiceDataSourceDesigner_typeof(e){return(WebServiceDataSourceDesigner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WebServiceDataSourceDesigner_toConsumableArray(e){return function WebServiceDataSourceDesigner_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function WebServiceDataSourceDesigner_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function WebServiceDataSourceDesigner_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function WebServiceDataSourceDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WebServiceDataSourceDesigner_possibleConstructorReturn(e,t){return!t||"object"!==WebServiceDataSourceDesigner_typeof(t)&&"function"!=typeof t?function WebServiceDataSourceDesigner_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function WebServiceDataSourceDesigner_get(e,t,r){return(WebServiceDataSourceDesigner_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function WebServiceDataSourceDesigner_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=WebServiceDataSourceDesigner_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function WebServiceDataSourceDesigner_getPrototypeOf(e){return(WebServiceDataSourceDesigner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WebServiceDataSourceDesigner_setPrototypeOf(e,t){return(WebServiceDataSourceDesigner_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ja=function(){function WebServiceDataSourceDesigner(){return function WebServiceDataSourceDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WebServiceDataSourceDesigner),WebServiceDataSourceDesigner_possibleConstructorReturn(this,WebServiceDataSourceDesigner_getPrototypeOf(WebServiceDataSourceDesigner).apply(this,arguments))}return function WebServiceDataSourceDesigner_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WebServiceDataSourceDesigner_setPrototypeOf(e,t)}(WebServiceDataSourceDesigner,Ki),function WebServiceDataSourceDesigner_createClass(e,t,r){return t&&WebServiceDataSourceDesigner_defineProperties(e.prototype,t),r&&WebServiceDataSourceDesigner_defineProperties(e,r),e}(WebServiceDataSourceDesigner,[{key:"PropertiesThatUpdateDataModel",value:function PropertiesThatUpdateDataModel(){return[].concat(WebServiceDataSourceDesigner_toConsumableArray(WebServiceDataSourceDesigner_get(WebServiceDataSourceDesigner_getPrototypeOf(WebServiceDataSourceDesigner.prototype),"PropertiesThatUpdateDataModel",this).call(this)),[G.Source,G.ServiceUrl])}}]),WebServiceDataSourceDesigner}();function EditorPropertiesOrder_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ka=function(){function EditorPropertiesOrder(){!function EditorPropertiesOrder_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EditorPropertiesOrder)}return function EditorPropertiesOrder_createClass(e,t,r){return t&&EditorPropertiesOrder_defineProperties(e.prototype,t),r&&EditorPropertiesOrder_defineProperties(e,r),e}(EditorPropertiesOrder,null,[{key:"Background",get:function get(){return[G.BackgroundColor,G.BackgroundImage]}},{key:"BackgroundImage",get:function get(){return[G.ImageData,G.Repeat,G.MimeType]}},{key:"BorderSides",get:function get(){return[G.Default,G.Left,G.Right,G.Top,G.Bottom]}},{key:"Alignments",get:function get(){return[G.TextAlign,G.VerticalAlign]}},{key:"TextAlign",get:function get(){return[G.Left,G.Center,G.Justify,G.Right]}},{key:"VerticalAlign",get:function get(){return[G.Top,G.Middle,G.Bottom]}},{key:"Style",get:function get(){return[G.Visible,G.BackgroundColor,G.BackgroundImage,G.Padding,G.Border,G.FontCollection,G.Line]}},{key:"FontCollection",get:function get(){return[G.Font,G.Alignment,G.Color]}},{key:"Font",get:function get(){return[G.Name,G.Size,G.FontStyle]}},{key:"FontStyle",get:function get(){return[G.Bold,G.Italic,G.Underline,G.Strikeout]}},{key:"Line",get:function get(){return[G.LineStyle,G.LineWidth,G.LineColor]}},{key:"Padding",get:function get(){return[G.Left,G.Right,G.Top,G.Bottom]}},{key:"Location",get:function get(){return[G.Left,G.Top]}},{key:"Size",get:function get(){return[G.Width,G.Height]}}]),EditorPropertiesOrder}();function EditorWrapper_typeof(e){return(EditorWrapper_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EditorWrapper_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EditorWrapper_possibleConstructorReturn(e,t){return!t||"object"!==EditorWrapper_typeof(t)&&"function"!=typeof t?function EditorWrapper_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function EditorWrapper_get(e,t,r){return(EditorWrapper_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function EditorWrapper_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=EditorWrapper_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function EditorWrapper_getPrototypeOf(e){return(EditorWrapper_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EditorWrapper_setPrototypeOf(e,t){return(EditorWrapper_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Qa=function(){function EditorWrapper(e,t,r){var n;return function EditorWrapper_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EditorWrapper),(n=EditorWrapper_possibleConstructorReturn(this,EditorWrapper_getPrototypeOf(EditorWrapper).call(this,e,r))).propertyWrappers=t,n.childEditors=[],n.init(),n}return function EditorWrapper_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EditorWrapper_setPrototypeOf(e,t)}(EditorWrapper,kt),function EditorWrapper_createClass(e,t,r){return t&&EditorWrapper_defineProperties(e.prototype,t),r&&EditorWrapper_defineProperties(e,r),e}(EditorWrapper,[{key:"nameTemplate",value:function nameTemplate(e){return'\n            <span class="editor__name -header" title="'.concat(e,'">').concat(e,"</span>\n        ")}},{key:"init",value:function init(){EditorWrapper_get(EditorWrapper_getPrototypeOf(EditorWrapper.prototype),"init",this).call(this),this.initEditorsByOrder()}},{key:"initEditorsByOrder",value:function initEditorsByOrder(){var e=this.provider.GetService(I.ISchemaService),t=!0,r=!1,n=void 0;try{for(var o,i=this.propertiesOrder[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)for(var a=o.value,s=0;s<this.propertyWrappers.length;s++){var c=this.propertyWrappers[s];if(a===c.Name){var u=new(e.GetEditorType(a,null))(this.$visualElement,c,this.provider);this.childEditors.push(u);break}}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"Dispose",value:function Dispose(){this.childEditors.forEach(function(e){return e.Dispose()}),this.childEditors=[],this.VisualElement.remove()}},{key:"RefreshOverride",value:function RefreshOverride(){this.childEditors.forEach(function(e){return e.RefreshOverride()})}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -wrapper">\n            </div>\n        ')}},{key:"propertiesOrder",get:function get(){return[]}},{key:"ChildEditors",get:function get(){return this.childEditors}}]),EditorWrapper}();function AlignmentEditor_typeof(e){return(AlignmentEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AlignmentEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AlignmentEditor_possibleConstructorReturn(e,t){return!t||"object"!==AlignmentEditor_typeof(t)&&"function"!=typeof t?function AlignmentEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function AlignmentEditor_get(e,t,r){return(AlignmentEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function AlignmentEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=AlignmentEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function AlignmentEditor_getPrototypeOf(e){return(AlignmentEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AlignmentEditor_setPrototypeOf(e,t){return(AlignmentEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Za=function(){function AlignmentEditor(){return function AlignmentEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AlignmentEditor),AlignmentEditor_possibleConstructorReturn(this,AlignmentEditor_getPrototypeOf(AlignmentEditor).apply(this,arguments))}return function AlignmentEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AlignmentEditor_setPrototypeOf(e,t)}(AlignmentEditor,Qa),function AlignmentEditor_createClass(e,t,r){return t&&AlignmentEditor_defineProperties(e.prototype,t),r&&AlignmentEditor_defineProperties(e,r),e}(AlignmentEditor,[{key:"init",value:function init(){AlignmentEditor_get(AlignmentEditor_getPrototypeOf(AlignmentEditor.prototype),"init",this).call(this)}},{key:"propertiesOrder",get:function get(){return Ka.Alignments}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -alignment">\n                <span class="editor__name" title="').concat(this.str.Alignment,'">').concat(this.str.Alignment,"</span>\n            </div>\n        ")}}]),AlignmentEditor}();function Ipa(e,t){!function ShowDescriptionEventArgs_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Ipa),this.name=e,this.description=t}function Editor_typeof(e){return(Editor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Editor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Editor_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Editor_get(e,t,r){return(Editor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function Editor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Editor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Editor_getPrototypeOf(e){return(Editor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Editor_setPrototypeOf(e,t){return(Editor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Xa=function(){function Editor(e,t,r){var n;!function Editor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Editor),(n=function Editor_possibleConstructorReturn(e,t){return!t||"object"!==Editor_typeof(t)&&"function"!=typeof t?Editor_assertThisInitialized(e):t}(this,Editor_getPrototypeOf(Editor).call(this,e,r))).propertyWrapper=t,n.kendoWidgetInstances=[],n.childEditors=[],n.boundRefreshIfMatchingProperty=n.refreshIfMatchingProperty.bind(Editor_assertThisInitialized(n)),n.localizedName=n.str[n.propertyWrapper.Name]||n.propertyWrapper.Name,n.init();var o=n.State;return so.DisabledProperties.includes(n.propertyWrapper.Name)&&(o|=n.States.Disabled),n.propertyWrapper.ReadOnly&&(o|=n.States.ReadOnly),n.State=o,n}return function Editor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Editor_setPrototypeOf(e,t)}(Editor,kt),function Editor_createClass(e,t,r){return t&&Editor_defineProperties(e.prototype,t),r&&Editor_defineProperties(e,r),e}(Editor,[{key:"init",value:function init(){Editor_get(Editor_getPrototypeOf(Editor.prototype),"init",this).call(this),this.dsEventsElement.addEventListener(y.ComponentChanged,this.boundRefreshIfMatchingProperty,!1)}},{key:"toggleDescription",value:function toggleDescription(e){var t=new CustomEvent(y.ShowDescription,{detail:e?this.editorData:null});this.webDesignerEventsElement.dispatchEvent(t)}},{key:"refreshIfMatchingProperty",value:function refreshIfMatchingProperty(e){var t=e.detail;t.propertyDescriptor===this.propertyWrapper.Property&&void 0!==this.propertyWrapper.Components.find(function(e){return e===t.component})&&this.RefreshOverride()}},{key:"setValue",value:function setValue(){}},{key:"resetToDefaultValue",value:function resetToDefaultValue(){}},{key:"updateValue",value:function updateValue(){}},{key:"GetPropertyWrapperValue",value:function GetPropertyWrapperValue(){return this.propertyWrapper.GetValue()}},{key:"UpdatePropertyWrapperValue",value:function UpdatePropertyWrapperValue(e){this.propertyWrapper.SetValue(e)}},{key:"GetShouldSerializeValue",value:function GetShouldSerializeValue(){return this.propertyWrapper.ShouldSerializeValue()}},{key:"resetValue",value:function resetValue(){this.propertyWrapper.ResetValue(),this.resetToDefaultValue()}},{key:"Dispose",value:function Dispose(){this.dsEventsElement.removeEventListener(y.ComponentChanged,this.boundRefreshIfMatchingProperty,!1),this.DisposeChildEditors(),this.DisposeKendoWidgets(),this.VisualElement&&this.VisualElement.remove()}},{key:"DisposeKendoWidgets",value:function DisposeKendoWidgets(){this.kendoWidgetInstances.length&&this.kendoWidgetInstances.forEach(function(e){return e.destroy()}),this.kendoWidgetInstances=[]}},{key:"DisposeChildEditors",value:function DisposeChildEditors(){this.childEditors.length&&this.childEditors.forEach(function(e){return e.Dispose()}),this.childEditors=[]}},{key:"LocalizedName",get:function get(){return this.localizedName}},{key:"editorData",get:function get(){return new Ipa(this.propertyWrapper.Name,this.propertyWrapper.Description)}},{key:"ChildEditors",get:function get(){return this.childEditors}},{key:"KendoWidgetInstances",get:function get(){return this.kendoWidgetInstances}}]),Editor}();function BackgroundImageEditor_typeof(e){return(BackgroundImageEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BackgroundImageEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BackgroundImageEditor_possibleConstructorReturn(e,t){return!t||"object"!==BackgroundImageEditor_typeof(t)&&"function"!=typeof t?function BackgroundImageEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function BackgroundImageEditor_get(e,t,r){return(BackgroundImageEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function BackgroundImageEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=BackgroundImageEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function BackgroundImageEditor_getPrototypeOf(e){return(BackgroundImageEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BackgroundImageEditor_setPrototypeOf(e,t){return(BackgroundImageEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ya=function(){function BackgroundImageEditor(){return function BackgroundImageEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BackgroundImageEditor),BackgroundImageEditor_possibleConstructorReturn(this,BackgroundImageEditor_getPrototypeOf(BackgroundImageEditor).apply(this,arguments))}return function BackgroundImageEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BackgroundImageEditor_setPrototypeOf(e,t)}(BackgroundImageEditor,Xa),function BackgroundImageEditor_createClass(e,t,r){return t&&BackgroundImageEditor_defineProperties(e.prototype,t),r&&BackgroundImageEditor_defineProperties(e,r),e}(BackgroundImageEditor,[{key:"init",value:function init(){var r=this;BackgroundImageEditor_get(BackgroundImageEditor_getPrototypeOf(BackgroundImageEditor.prototype),"init",this).call(this),this.content=this.VisualElement.find(".editor__content"),this.children=this.childProperties;var e=!0,t=!1,n=void 0;try{for(var o,i=this.children[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value,s=void 0,c=this.mimeType,u=this.provider.GetService(I.ISchemaService).GetEditorType(a.EditorType,null);s=a.Name===G.ImageData?new u(this.content,a,this.provider,c):new u(this.content,a,this.provider),this.ChildEditors.push(s)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.VisualElement.on(y.UploadImageEditorFileChanged,function(e,t){r.updateMimeType(t)})}},{key:"updateMimeType",value:function updateMimeType(e){var t=this.propertiesOrder.indexOf(G.MimeType);this.ChildEditors[t].updateValue(e)}},{key:"RefreshOverride",value:function RefreshOverride(){this.ChildEditors.forEach(function(e){return e.RefreshOverride()})}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -bg-image -wrapper">\n                <span class="editor__name -header" title="').concat(this.str.BackgroundImage,'">').concat(this.str.BackgroundImage,'</span>\n                <div class="editor__content"></div>\n            </div>\n        ')}},{key:"propertiesOrder",get:function get(){return Ka.BackgroundImage}},{key:"childProperties",get:function get(){var e=this.propertyWrapper.GetChildProperties(),t=[],r=!0,n=!1,o=void 0;try{for(var i,a=this.propertiesOrder[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value,c=!0,u=!1,l=void 0;try{for(var p,f=e[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var d=p.value;if(d.Name===s){t.push(d);break}}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}},{key:"mimeType",get:function get(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.children[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;if(i.Name===G.MimeType)return i.GetValue()}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}return""}}]),BackgroundImageEditor}();function EditorTemplates_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var es=function(){function EditorTemplates(){!function EditorTemplates_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EditorTemplates)}return function EditorTemplates_createClass(e,t,r){return t&&EditorTemplates_defineProperties(e.prototype,t),r&&EditorTemplates_defineProperties(e,r),e}(EditorTemplates,null,[{key:"TextEditorTemplate",value:function TextEditorTemplate(e,t){return'\n            <div class="twd-editor -input">\n                <label class="editor__content">\n                    <span class="editor__name" title="'.concat(e,'">').concat(e,'</span>\n                    <input type="text" data-bind="value: ').concat(t,'" class="k-textbox editor__value" />\n                </label>\n            </div>\n        ')}},{key:"EnumEditorTemplate",value:function EnumEditorTemplate(e,t,r,n){return'\n            <div class="twd-editor -enum">\n                <label class="editor__content">\n                    <span class="editor__name" title="'.concat(e,'">').concat(e,'</span>\n                    <input class="editor__value"\n                        data-role="dropdownlist"\n                        data-text-field="').concat(r,'"\n                        data-value-field="').concat(n,'"\n                        data-bind="').concat(t,'" />\n                </label>\n            </div>\n        ')}},{key:"RadioEnumEditorTemplate",value:function RadioEnumEditorTemplate(e,t,r,n,o,i,a){var s=6<arguments.length&&void 0!==a&&a;return'\n            <div class="twd-editor -radio-enum">\n                <div class="editor__content">\n                    <label class="editor__name" title="'.concat(r,'">\n                        <input type="radio" name="').concat(t,'" id="').concat(e,'" class="k-radio" data-bind="checked: ').concat(s,'" />\n                    </label>\n                     <input class="editor__value"\n                        data-role="dropdownlist"\n                        data-text-field="').concat(o,'"\n                        data-value-field="').concat(i,'"\n                        data-bind="').concat(n,'" />\n                </div>\n            </div>\n        ')}}]),EditorTemplates}();function CollectionEditor_typeof(e){return(CollectionEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CollectionEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CollectionEditor_possibleConstructorReturn(e,t){return!t||"object"!==CollectionEditor_typeof(t)&&"function"!=typeof t?function CollectionEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CollectionEditor_get(e,t,r){return(CollectionEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CollectionEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CollectionEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CollectionEditor_getPrototypeOf(e){return(CollectionEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CollectionEditor_setPrototypeOf(e,t){return(CollectionEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ts=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},rs=function(){function CollectionEditor(){return function CollectionEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CollectionEditor),CollectionEditor_possibleConstructorReturn(this,CollectionEditor_getPrototypeOf(CollectionEditor).apply(this,arguments))}return function CollectionEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CollectionEditor_setPrototypeOf(e,t)}(CollectionEditor,Xa),function CollectionEditor_createClass(e,t,r){return t&&CollectionEditor_defineProperties(e.prototype,t),r&&CollectionEditor_defineProperties(e,r),e}(CollectionEditor,[{key:"init",value:function init(){var t=this;this.schemaService=this.provider.GetService(I.ISchemaService),this.namingService=this.provider.GetService(I.NamingService),this.designerHost=this.provider.GetService(I.IDesignerHost),this.component=this.propertyWrapper.Components[0],this.properties=this.propertyWrapper.GetValue(),this.properties||(this.propertyWrapper.SetValueRaw([]),this.properties=this.propertyWrapper.GetValue()),CollectionEditor_get(CollectionEditor_getPrototypeOf(CollectionEditor.prototype),"init",this).call(this),this.content=this.VisualElement.find(".editor__content"),this.properties.length&&this.initList(),this.selectedItem=null,this.typeSchema=null,this.VisualElement.off("mousedown",".editor__action-button").on("mousedown",".editor__action-button",function(e){e.stopImmediatePropagation(),e.preventDefault(),t.executeAction(e,$(e.currentTarget))})}},{key:"initNames",value:function initNames(e,t){var r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;s[G.Name]||(s[G.Name]=s[G.Value]||t.CreateName(s[G.NetType]))}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}},{key:"initList",value:function initList(){var t=this;this.VisualElement.append('<div class="editor__list"></div>'),this.popUp,this.kendoList=this.VisualElement.find(".editor__list").kendoListBox({dataSource:this.properties,draggable:this.reorderable,navigatable:!0,template:kendo.template('<div class="k-widget editor__list-item">'.concat(this.listTemplate).concat(this.actionButtons,"<div>")),change:function change(){var e=t.kendoList.dataItem(t.kendoList.select());t.editProperties(e)},dragend:function dragend(){}}).data("kendoListBox"),this.kendoWidgetInstances.push(this.kendoList)}},{key:"destroyList",value:function destroyList(){this.kendoList.destroy(),this.kendoList=null,this.VisualElement.find(".editor__list").detach()}},{key:"initPopUp",value:function initPopUp(){var t=this,e=$.parseHTML(this.popUpTemplate);this.content.append(e),this.popUpPosition=this.popUpDefaultPosition,this.popUp=$(e).kendoWindow({title:this.str.Edit,visible:!1,actions:[],minWidth:this.popUpDefaultSize.minWidth,minHeight:this.popUpDefaultSize.minHeight,width:this.popUpDefaultSize.width+"px",height:this.popUpDefaultSize.height+"px",appendTo:$("body"),modal:!0,position:this.popUpPosition,dragstart:function dragstart(e){e.sender.options.position=t.popUpPosition},dragend:function dragend(e){t.popUpPosition.left=e.sender.options.position.left,t.popUpPosition.top=e.sender.options.position.top},deactivate:function deactivate(e){t.clearTransaction(),e.sender.destroy()}}).data("kendoWindow"),this.popUp.element.off("click",".k-button").on("click",".k-button",function(e){t.executeAction(e,$(e.target))}),this.kendoWidgetInstances.push(this.popUp),this.popUp.open(),this.popUp.element.closest(".k-window").addClass(s.WebDesignerPartsClassName),this.popUp.element.closest(".k-window").find(".k-window-titlebar").addClass(s.ModalWindowHeaderClass)}},{key:"openPopUp",value:function openPopUp(){var e=this.popUpDefaultPosition;this.popUp?(this.popUpPosition.left=e.left,this.popUpPosition.top=e.top):this.initPopUp(),this.addNewItem?this.popUp.setOptions({title:this.str.AddItem}):this.popUp.setOptions({title:this.str.EditItem}),this.loadPopUpContent(),this.popUp.open(),this.popUp.element.closest(".k-window").css(e)}},{key:"loadPopUpContent",value:function loadPopUpContent(){var t=this;this.designerHost.InTransaction||(this.propertiesTransaction=this.designerHost.CreateTransaction("Edit ".concat(this.propertyWrapper.Name," ").concat(this.id))),this.popUp.content(this.popUpContentTemplate);var e=this.popUp.element.find(".twd-editors"),r=!0,n=!1,o=void 0;try{for(var i,a=this.typeSchema[G.Properties][Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value,c=s[G.Type].toLowerCase(),u=this.editorTemplate[c],l=void 0;l=this[u]?this[u](s[G.Name]):es.TextEditorTemplate(this.str[G.Name],s[G.Name]),e.append(l)}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}this.selectedItem.bind("change",function(e){t.selectedItem[e.field]=t.selectedItem.get(e.field)}),kendo.bind(e,this.selectedItem)}},{key:"closePopUp",value:function closePopUp(e){var t=!(0<arguments.length&&void 0!==e)||e;this.DisposeChildEditors(),this.popUp.close(),this.popUp=null,this.kendoList.clearSelection(),this.addNewItem=!1,t&&this.cancelChanges()}},{key:"clearTransaction",value:function clearTransaction(){this.propertiesTransaction&&(this.propertiesTransaction.Rollback(),this.propertiesTransaction=null),this.itemTransaction&&(this.itemTransaction.Rollback(),this.itemTransaction=null)}},{key:"cancelChanges",value:function cancelChanges(){var e=this.properties[this.selectedIndex];for(var t in e)e[t]!==this.selectedItem[t]&&this.selectedItem.set(t,e[t])}},{key:"saveChanges",value:function saveChanges(){this.propertiesTransaction&&(this.propertiesTransaction.Commit(),this.propertiesTransaction=null),this.itemTransaction&&(this.itemTransaction.Commit(),this.itemTransaction=null),this.updatePropertyStore(),this.closePopUp(!1)}},{key:"updatePropertyStore",value:function updatePropertyStore(){var e=this.properties[this.selectedIndex];for(var t in e)e[t]!==this.selectedItem[t]&&(e[t]=this.selectedItem.get(t));this.propertyWrapper.Components.forEach(function(e){return e.Designer.Redraw})}},{key:"executeAction",value:function executeAction(e,t){e.stopPropagation();var r=t.attr("data-action");r&&this[this.actions[r]](t)}},{key:"itemDefaultPropertyStore",value:function itemDefaultPropertyStore(){return ts(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o,i,a,s,c,u;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.propertyWrapper.Type,e.next=3,this.schemaService.GetTypeSchema(t);case 3:r=e.sent,i=!(o=!0),a=void 0,e.prev=7,s=r.Properties[Symbol.iterator]();case 9:if(o=(c=s.next()).done){e.next=20;break}if((u=c.value)[G.Name]===G.Item)return e.next=14,this.schemaService.GetDefaultPropertyStore(u.Type);e.next=17;break;case 14:return(n=e.sent)[G.Name]=this.namingService.CreateName(n[G.NetType]),e.abrupt("break",20);case 17:o=!0,e.next=9;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(7),i=!0,a=e.t0;case 26:e.prev=26,e.prev=27,o||null==s.return||s.return();case 29:if(e.prev=29,i)throw a;e.next=32;break;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return e.abrupt("return",n);case 35:case"end":return e.stop()}},_callee,this,[[7,22,26,34],[27,,29,33]])}))}},{key:"addItem",value:function addItem(){return ts(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return this.BeginAddItem(),e.next=3,this.itemDefaultPropertyStore();case 3:return t=e.sent,this.properties.push(t),this.EndAddItem(),e.abrupt("return",t);case 7:case"end":return e.stop()}},_callee2,this)}))}},{key:"BeginAddItem",value:function BeginAddItem(){this.addNewItem=!0,this.designerHost.InTransaction||(this.itemTransaction=this.designerHost.CreateTransaction("Add new '".concat(this.propertyWrapper.Name,"' item")))}},{key:"EndAddItem",value:function EndAddItem(){this.kendoList?this.kendoList.setDataSource(this.properties):this.initList(),this.kendoList.wrapper.find("li.k-item").last().trigger("click")}},{key:"removeItem",value:function removeItem(e){e=e.closest(".k-item");for(var t=this.kendoList.dataItem(e),r=0;r<this.properties.length;r++){if(this.properties[r][this.itemIdentifier]===t.get(this.itemIdentifier)){this.namingService.UnregisterName(t.get(this.itemIdentifier)),this.properties.splice(r,1),this.kendoList.remove(e);break}}this.properties.length<1&&this.destroyList()}},{key:"editProperties",value:function editProperties(r){return ts(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return this.propertiesTransaction&&(this.propertiesTransaction.Rollback(),this.propertiesTransaction=null),this.selectedItem=r,this.selectedIndex=this.kendoList.wrapper.find("li.k-item").index(this.kendoList.select()),t=r[G.NetType],e.next=6,this.schemaService.GetTypeSchema(t);case 6:this.typeSchema=e.sent,this.openPopUp();case 8:case"end":return e.stop()}},_callee3,this)}))}},{key:"RefreshOverride",value:function RefreshOverride(){this.properties=this.propertyWrapper.GetValue(),this.kendoList&&this.kendoList.setDataSource(this.properties)}},{key:"template",get:function get(){return'\n        <div id="'.concat(this.id,'" class="twd-editor -expandable -list">\n            <div class="editor__content">\n                <span class="editor__name" title="').concat(this.LocalizedName,'">\n                    ').concat(this.LocalizedName,'\n                </span>\n                <span class="editor__action-button -add" data-action="add" title="').concat(this.str.AddItem,'">\n                    <span class="k-icon k-i-plus "></span>\n                </span>\n            </div>\n        </div>\n    ')}},{key:"listTemplate",get:function get(){return"<span>#: ".concat(this.itemIdentifier," #</span>")}},{key:"popUpContentTemplate",get:function get(){return'<div class="twd-editors -no-bg-color k-panelbar">'.concat(this.EditorsTemplate,'</div>\n                <div class="twd-buttons k-window-buttongroup k-widget">\n                    <button class="k-button k-primary" data-action="save">').concat(this.str.SaveButton,'</button>\n                    <button class="k-button" data-action="cancel">').concat(this.str.CancelButton,"</button>\n                </div>")}},{key:"EditorsTemplate",get:function get(){return""}},{key:"popUpTemplate",get:function get(){return'<div class="'.concat(s.ModalWindowClasses,'"></div>')}},{key:"actionButtons",get:function get(){return'<span class="editor__action-button -remove" data-action="remove" title="'.concat(this.str.RemoveItem,'">\n                    <span class="k-icon k-i-close"></span>\n                </span>')}},{key:"reorderable",get:function get(){return!1}},{key:"itemIdentifier",get:function get(){return G.Name}},{key:"popUpDefaultSize",get:function get(){return{minWidth:340,minHeight:300,width:370,height:450}}},{key:"popUpDefaultPosition",get:function get(){var e=this.kendoList.wrapper.find(".k-state-selected")[0].getBoundingClientRect(),t=this.popUpDefaultSize.width,r=this.popUpDefaultSize.height,n=this.provider.GetService(I.WebDesignerEventsElement),o=$(n).find(".".concat(s.WebDesignerCanvasClassName)).height();this.popUp&&(t=this.popUp.wrapper.width(),r=this.popUp.wrapper.height());var i={top:e.top-r/2,left:e.left-t};if(i.top+r>o){var a=o-(i.top+r);i.top=i.top+a}return i.top<0&&(i.top=0),i}},{key:"editorTemplate",get:function get(){return{string:"textEditorTemplate",filteroperator:"enumEditorTemplate"}}},{key:"actions",get:function get(){return{add:"addItem",remove:"removeItem",save:"saveChanges",cancel:"closePopUp"}}}]),CollectionEditor}();function BindingCollectionEditor_typeof(e){return(BindingCollectionEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BindingCollectionEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BindingCollectionEditor_possibleConstructorReturn(e,t){return!t||"object"!==BindingCollectionEditor_typeof(t)&&"function"!=typeof t?function BindingCollectionEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function BindingCollectionEditor_getPrototypeOf(e){return(BindingCollectionEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BindingCollectionEditor_setPrototypeOf(e,t){return(BindingCollectionEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ns=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},os=function(){function BindingCollectionEditor(){return function BindingCollectionEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BindingCollectionEditor),BindingCollectionEditor_possibleConstructorReturn(this,BindingCollectionEditor_getPrototypeOf(BindingCollectionEditor).apply(this,arguments))}return function BindingCollectionEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BindingCollectionEditor_setPrototypeOf(e,t)}(BindingCollectionEditor,rs),function BindingCollectionEditor_createClass(e,t,r){return t&&BindingCollectionEditor_defineProperties(e.prototype,t),r&&BindingCollectionEditor_defineProperties(e,r),e}(BindingCollectionEditor,[{key:"itemDefaultPropertyStore",value:function itemDefaultPropertyStore(){return ns(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.schemaService.GetDefaultPropertyStore(G.Binding);case 2:return(t=e.sent)[G.Name]=this.namingService.CreateName(t[G.NetType]),t[G.Expression]="",t[G.Path]="",e.abrupt("return",t);case 7:case"end":return e.stop()}},_callee,this)}))}},{key:"itemIdentifier",get:function get(){return G.Path}}]),BindingCollectionEditor}();function Qpa(e,t,r){!function EditorEvent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Qpa),this.EventType=e,this.ElementSelector=t,this.Callback=r}function BooleanEditor_typeof(e){return(BooleanEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BooleanEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BooleanEditor_possibleConstructorReturn(e,t){return!t||"object"!==BooleanEditor_typeof(t)&&"function"!=typeof t?function BooleanEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function BooleanEditor_get(e,t,r){return(BooleanEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function BooleanEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=BooleanEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function BooleanEditor_getPrototypeOf(e){return(BooleanEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BooleanEditor_setPrototypeOf(e,t){return(BooleanEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var is=function(){function BooleanEditor(){return function BooleanEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BooleanEditor),BooleanEditor_possibleConstructorReturn(this,BooleanEditor_getPrototypeOf(BooleanEditor).apply(this,arguments))}return function BooleanEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BooleanEditor_setPrototypeOf(e,t)}(BooleanEditor,Xa),function BooleanEditor_createClass(e,t,r){return t&&BooleanEditor_defineProperties(e.prototype,t),r&&BooleanEditor_defineProperties(e,r),e}(BooleanEditor,[{key:"init",value:function init(){BooleanEditor_get(BooleanEditor_getPrototypeOf(BooleanEditor.prototype),"init",this).call(this),this.$inputDomEl=this.$visualElement.find(".editor__value"),this.RefreshOverride(),this.initEventListener([new Qpa("change",".editor__value","setValue")])}},{key:"setValue",value:function setValue(e,t){this.propertyWrapper.SetValue(t.prop("checked").toString())}},{key:"RefreshOverride",value:function RefreshOverride(){this.$inputDomEl.prop("checked",this.value)}},{key:"UpdateStateUI",value:function UpdateStateUI(){var e=(this.State&this.States.Disabled)==this.States.Disabled,t=(this.State&this.States.ReadOnly)==this.States.ReadOnly,r=this.VisualElement.find(":input");r.length&&r.prop("disabled",t||e)}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -bool -').concat(this.propertyWrapper.Name.toLowerCase(),'">\n                <input type="checkbox" id="').concat(this.id,'-checkbox" class="k-checkbox editor__value" />\n                <label class="k-checkbox-label editor__name" title="').concat(this.LocalizedName,'" for="').concat(this.id,'-checkbox">').concat(this.LocalizedName,"</label>\n            </div>\n        ")}},{key:"value",get:function get(){var e=this.propertyWrapper.GetValue();return"string"==typeof e?"true"===e.toLowerCase():e}}]),BooleanEditor}();function BorderModes_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var as=function(){function BorderModes(){!function BorderModes_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BorderModes)}return function BorderModes_createClass(e,t,r){return t&&BorderModes_defineProperties(e.prototype,t),r&&BorderModes_defineProperties(e,r),e}(BorderModes,null,[{key:"Group",get:function get(){return"group"}},{key:"Separated",get:function get(){return"separated"}}]),BorderModes}();function modeSwitcherEditor_typeof(e){return(modeSwitcherEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function modeSwitcherEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function modeSwitcherEditor_possibleConstructorReturn(e,t){return!t||"object"!==modeSwitcherEditor_typeof(t)&&"function"!=typeof t?function modeSwitcherEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function modeSwitcherEditor_getPrototypeOf(e){return(modeSwitcherEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function modeSwitcherEditor_setPrototypeOf(e,t){return(modeSwitcherEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ss=function(){function ModeSwitcherEditor(e,t){var r,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:as.Group;return function modeSwitcherEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ModeSwitcherEditor),(r=modeSwitcherEditor_possibleConstructorReturn(this,modeSwitcherEditor_getPrototypeOf(ModeSwitcherEditor).call(this,e,t))).state=n,r.init(),r.setState(),r.initEventListener([new Qpa("change",'[name="'.concat(r.id,'-mode"]'),"changePaddingApply")]),r}return function modeSwitcherEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&modeSwitcherEditor_setPrototypeOf(e,t)}(ModeSwitcherEditor,kt),function modeSwitcherEditor_createClass(e,t,r){return t&&modeSwitcherEditor_defineProperties(e.prototype,t),r&&modeSwitcherEditor_defineProperties(e,r),e}(ModeSwitcherEditor,[{key:"setState",value:function setState(){var e=this.$visualElement.find(".k-spreadsheet-selection"),t=this.$visualElement.find(".-".concat(this.state));e.removeClass("k-spreadsheet-selection"),t.addClass("k-spreadsheet-selection"),t.find("input").prop("checked",!0)}},{key:"changePaddingApply",value:function changePaddingApply(e,t){this.state=t.val(),this.setState(),this.parentElement.trigger(y.BorderModeChanged,this.state)}},{key:"RefreshOverride",value:function RefreshOverride(){}},{key:"template",get:function get(){return'\n            <span  id="'.concat(this.id,'" class="editor__switch-buttons">\n                <span class="editor__switch-button -').concat(as.Group,' k-widget">\n                    <input type="radio" name="').concat(this.id,'-mode" value="').concat(as.Group,'" />\n                </span>\n                <span class="editor__switch-button -').concat(as.Separated,' k-widget">\n                    <input type="radio" name="').concat(this.id,'-mode" value="').concat(as.Separated,'" />\n                </span>\n            </span>\n        ')}}]),ModeSwitcherEditor}();function BorderEditor_typeof(e){return(BorderEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BorderEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BorderEditor_possibleConstructorReturn(e,t){return!t||"object"!==BorderEditor_typeof(t)&&"function"!=typeof t?function BorderEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function BorderEditor_get(e,t,r){return(BorderEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function BorderEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=BorderEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function BorderEditor_getPrototypeOf(e){return(BorderEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BorderEditor_setPrototypeOf(e,t){return(BorderEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var cs=function(){function BorderEditor(){return function BorderEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BorderEditor),BorderEditor_possibleConstructorReturn(this,BorderEditor_getPrototypeOf(BorderEditor).apply(this,arguments))}return function BorderEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BorderEditor_setPrototypeOf(e,t)}(BorderEditor,Qa),function BorderEditor_createClass(e,t,r){return t&&BorderEditor_defineProperties(e.prototype,t),r&&BorderEditor_defineProperties(e,r),e}(BorderEditor,[{key:"init",value:function init(){this[G.BorderStyle]=null,this[G.BorderWidth]=null,this[G.BorderColor]=null,this.filterPlroperties(),this.borderMode=this.findBorderMode,BorderEditor_get(BorderEditor_getPrototypeOf(BorderEditor.prototype),"init",this).call(this),this.addModeSwicher()}},{key:"nameTemplate",value:function nameTemplate(e){return'\n            <span class="editor__name -header" title="'.concat(e,'"><span>').concat(e,"</span></span>\n        ")}},{key:"addModeSwicher",value:function addModeSwicher(){var r=this;new ss(this.$visualElement.find(".editor__name").first(),this.provider,this.borderMode),this.VisualElement.on(y.BorderModeChanged,function(e,t){r.VisualElement.removeClass("-".concat(r.borderMode)),r.borderMode=t,r.RefreshOverride(),r.VisualElement.addClass("-".concat(r.borderMode))})}},{key:"initEditorsByOrder",value:function initEditorsByOrder(){var e=this.provider.GetService(I.ISchemaService).GetEditorType("BorderSide",null),t=this.$visualElement.find(".editor__content"),r=[],n={};n[G.BorderStyle]="",n[G.BorderWidth]="";var o=!(n[G.BorderColor]=""),i=!1,a=void 0;try{for(var s,c=this.propertiesOrder[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value,l=!0,p=!1,f=void 0;try{for(var d,y=this.borderProperties[Symbol.iterator]();!(l=(d=y.next()).done);l=!0)for(var h=d.value,m=0;m<this[h].length;m++){var g=this[h][m];if(u===g.Name){r.push(g);break}}}catch(e){p=!0,f=e}finally{try{l||null==y.return||y.return()}finally{if(p)throw f}}var v=new e(t,r,this.provider);v.SetTitle(this.str[G[u]]),this.childEditors.push(v),r=[]}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}},{key:"filterPlroperties",value:function filterPlroperties(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.borderProperties[Symbol.iterator]();!(e=(n=o.next()).done);e=!0)for(var i=n.value,a=0;a<this.propertyWrappers.length;a++){var s=this.propertyWrappers[a];if(i===s.Name){this[i]=s.GetChildProperties();break}}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}}},{key:"LocalizedName",get:function get(){return this.StringResources.Borders}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -wrapper -border -').concat(this.borderMode,'">\n                ').concat(this.nameTemplate(this.LocalizedName),'\n                <div class="editor__content"></div>\n            </div>\n        ')}},{key:"propertiesOrder",get:function get(){return Ka.BorderSides}},{key:"borderProperties",get:function get(){return[G.BorderStyle,G.BorderWidth,G.BorderColor]}},{key:"findBorderMode",get:function get(){var e={},t=!1;e[G.BorderStyle]="",e[G.BorderWidth]="";var r=!(e[G.BorderColor]=""),n=!1,o=void 0;try{for(var i,a=this.propertiesOrder[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;if(t)break;var c=!0,u=!1,l=void 0;try{for(var p,f=this.borderProperties[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var d=p.value;if(t)break;for(var y=0;y<this[d].length;y++){var h=this[d][y],m=h.GetValue();if(s===h.Name){if(!e[d].length){e[d]=m;break}if(e[d]!==m){t=!0;break}}}}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t?as.Separated:as.Group}}]),BorderEditor}();function BorderSideEditor_typeof(e){return(BorderSideEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BorderSideEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BorderSideEditor_possibleConstructorReturn(e,t){return!t||"object"!==BorderSideEditor_typeof(t)&&"function"!=typeof t?function BorderSideEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function BorderSideEditor_getPrototypeOf(e){return(BorderSideEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BorderSideEditor_setPrototypeOf(e,t){return(BorderSideEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var us=function(){function BorderSideEditor(){return function BorderSideEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BorderSideEditor),BorderSideEditor_possibleConstructorReturn(this,BorderSideEditor_getPrototypeOf(BorderSideEditor).apply(this,arguments))}return function BorderSideEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BorderSideEditor_setPrototypeOf(e,t)}(BorderSideEditor,Qa),function BorderSideEditor_createClass(e,t,r){return t&&BorderSideEditor_defineProperties(e.prototype,t),r&&BorderSideEditor_defineProperties(e,r),e}(BorderSideEditor,[{key:"initEditorsByOrder",value:function initEditorsByOrder(){for(var e=this.provider.GetService(I.ISchemaService),t=this.$visualElement.find(".editor__content"),r=0;r<this.propertyWrappers.length;r++){var n=this.propertyWrappers[r],o=this.editorTitle[n.EditorType],i=new(e.GetEditorType(n.EditorType,null))(t,n,this.provider);o&&i.SetTitle(o),this.childEditors.push(i)}}},{key:"SetTitle",value:function SetTitle(e){this.$visualElement.addClass("-".concat(e.toLowerCase()));var t="".concat(e," ").concat(this.str.Border);this.$visualElement.find(".editor__name").first().attr("title",t).html(t)}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -wrapper -border-side">\n                <span class="editor__name"></span>\n                <div class="editor__content"></div>\n            </div>\n        ')}},{key:"editorTitle",get:function get(){return{Enum:this.str.Style,Unit:this.str.Size}}}]),BorderSideEditor}();function InputEditor_typeof(e){return(InputEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function InputEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function InputEditor_possibleConstructorReturn(e,t){return!t||"object"!==InputEditor_typeof(t)&&"function"!=typeof t?function InputEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function InputEditor_get(e,t,r){return(InputEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function InputEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=InputEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function InputEditor_getPrototypeOf(e){return(InputEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function InputEditor_setPrototypeOf(e,t){return(InputEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ls=function(){function InputEditor(){return function InputEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,InputEditor),InputEditor_possibleConstructorReturn(this,InputEditor_getPrototypeOf(InputEditor).apply(this,arguments))}return function InputEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&InputEditor_setPrototypeOf(e,t)}(InputEditor,Xa),function InputEditor_createClass(e,t,r){return t&&InputEditor_defineProperties(e.prototype,t),r&&InputEditor_defineProperties(e,r),e}(InputEditor,[{key:"getExtendedEditorTemplate",value:function getExtendedEditorTemplate(){return this.allowExtendedEditor?'<span class="editor__edit">\n                        <span class="k-icon k-i-more-horizontal"></span>\n                    </span>':""}},{key:"InitEditorValue",value:function InitEditorValue(e){this.value=e}},{key:"SetValueCore",value:function SetValueCore(e){this.value=e}},{key:"RefreshOverride",value:function RefreshOverride(){this.$inputDomEl.val(this.value)}},{key:"UpdateStateUI",value:function UpdateStateUI(){var e=(this.State&this.States.Disabled)==this.States.Disabled,t=(this.State&this.States.ReadOnly)==this.States.ReadOnly,r=this.VisualElement.find(":input");r.length&&(r.prop("disabled",e),r.prop("readonly",t))}},{key:"init",value:function init(){this.InitEditorValue(this.propertyWrapper.GetValue()||""),InputEditor_get(InputEditor_getPrototypeOf(InputEditor.prototype),"init",this).call(this),this.valueChanged=!1,this.$inputDomEl=this.$visualElement.find(".editor__value");var e=[new Qpa("keyup",".editor__value","setValue"),new Qpa("blur",".editor__value","setValue")];this.allowExtendedEditor&&e.push(new Qpa("click",".editor__edit","openExtendEditMode")),this.initEventListener(e),this.extendEditPopUp=null}},{key:"setValue",value:function setValue(e){13!==e.which&&"blur"!==e.type||!this.valueChanged?this.valueChanged=this.value!==this.Value:(this.updateValue(this.Value),this.valueChanged=!1)}},{key:"updateValue",value:function updateValue(e){if(null!=e){var t=this.value;try{this.SetValueCore(e),this.UpdatePropertyWrapperValue(e),this.extendEditPopUp&&this.extendEditPopUp.IsOpen&&this.extendEditPopUp.Close()}catch(e){this.SetValueCore(t),this.RefreshOverride(),this.extendEditPopUp&&this.extendEditPopUp.IsOpen&&this.extendEditPopUp.ShowError(e)}}}},{key:"openExtendEditMode",value:function openExtendEditMode(){var r=this;this.extendEditPopUp?this.extendEditPopUp.Open(this.Value,this.popUpTitle):(this.extendEditPopUp=this.popUp,this.extendEditPopUp.Open(this.Value,this.popUpTitle),this.childEditors.push(this.extendEditPopUp),this.VisualElement.on(y.PopUpUpdateValue,function(e,t){r.updateValue(t)}))}},{key:"resetToDefaultValue",value:function resetToDefaultValue(){this.SetValueCore(null),this.UpdatePropertyWrapperValue(null),this.RefreshOverride()}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -input">\n                <label class="editor__content">\n                    <span class="editor__name" title="').concat(this.LocalizedName,'">\n                        ').concat(this.LocalizedName,'\n                    </span>\n                    <input type="text" value="').concat(kendo.htmlEncode(this.value),'" class="k-textbox editor__value" />\n                    ').concat(this.getExtendedEditorTemplate(),"\n                </label>\n            </div>\n        ")}},{key:"popUp",get:function get(){return new(this.propertyWrapper.EditorType===_.String?Dt:Bt)(this.VisualElement,this.provider)}},{key:"popUpTitle",get:function get(){return this.LocalizedName}},{key:"Value",get:function get(){return this.$inputDomEl.val().toString()}},{key:"allowExtendedEditor",get:function get(){return!0}}]),InputEditor}();function CharArrayEditor_typeof(e){return(CharArrayEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CharArrayEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CharArrayEditor_possibleConstructorReturn(e,t){return!t||"object"!==CharArrayEditor_typeof(t)&&"function"!=typeof t?function CharArrayEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CharArrayEditor_get(e,t,r){return(CharArrayEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CharArrayEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CharArrayEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CharArrayEditor_getPrototypeOf(e){return(CharArrayEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CharArrayEditor_setPrototypeOf(e,t){return(CharArrayEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ps=function(){function CharArrayEditor(e,t,r){var n;return function CharArrayEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CharArrayEditor),(n=CharArrayEditor_possibleConstructorReturn(this,CharArrayEditor_getPrototypeOf(CharArrayEditor).call(this,e,t,r))).Expanded=!1,n}return function CharArrayEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CharArrayEditor_setPrototypeOf(e,t)}(CharArrayEditor,ls),function CharArrayEditor_createClass(e,t,r){return t&&CharArrayEditor_defineProperties(e.prototype,t),r&&CharArrayEditor_defineProperties(e,r),e}(CharArrayEditor,[{key:"InitEditorValue",value:function InitEditorValue(e){this.value=e.replace(/\t/g,"\\t").replace(/(\r\n)/g,"\\r\\n")}},{key:"UpdatePropertyWrapperValue",value:function UpdatePropertyWrapperValue(e){e=e.replace("\\t",String.fromCharCode(9)).replace("\\r\\n",String.fromCharCode(13)+String.fromCharCode(10)),CharArrayEditor_get(CharArrayEditor_getPrototypeOf(CharArrayEditor.prototype),"UpdatePropertyWrapperValue",this).call(this,e)}}]),CharArrayEditor}();function CharEditor_typeof(e){return(CharEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CharEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CharEditor_possibleConstructorReturn(e,t){return!t||"object"!==CharEditor_typeof(t)&&"function"!=typeof t?function CharEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CharEditor_get(e,t,r){return(CharEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CharEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CharEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CharEditor_getPrototypeOf(e){return(CharEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CharEditor_setPrototypeOf(e,t){return(CharEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var fs=function(){function CharEditor(){return function CharEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CharEditor),CharEditor_possibleConstructorReturn(this,CharEditor_getPrototypeOf(CharEditor).apply(this,arguments))}return function CharEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CharEditor_setPrototypeOf(e,t)}(CharEditor,Xa),function CharEditor_createClass(e,t,r){return t&&CharEditor_defineProperties(e.prototype,t),r&&CharEditor_defineProperties(e,r),e}(CharEditor,[{key:"init",value:function init(){CharEditor_get(CharEditor_getPrototypeOf(CharEditor.prototype),"init",this).call(this),this.$inputDomEl=this.$visualElement.find(".editor__value"),this.initEventListener([new Qpa("input",".editor__value","setValue")])}},{key:"setValue",value:function setValue(e,t){this.propertyWrapper.SetValue(t.val())}},{key:"RefreshOverride",value:function RefreshOverride(){this.$inputDomEl.val(this.propertyWrapper.GetValue())}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -input">\n                <label class="editor__content">\n                    <span class="editor__name" title="').concat(this.LocalizedName,'">\n                        ').concat(this.LocalizedName,'\n                    </span>\n                    <input maxlength="1" onClick="this.setSelectionRange(0, this.value.length)" value="').concat(this.propertyWrapper.GetValue()||"",'" class="k-textbox editor__value" />\n                </label>\n            </div>\n        ')}}]),CharEditor}();function ExpandableEditor_typeof(e){return(ExpandableEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ExpandableEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ExpandableEditor_possibleConstructorReturn(e,t){return!t||"object"!==ExpandableEditor_typeof(t)&&"function"!=typeof t?function ExpandableEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ExpandableEditor_get(e,t,r){return(ExpandableEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function ExpandableEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ExpandableEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function ExpandableEditor_getPrototypeOf(e){return(ExpandableEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ExpandableEditor_setPrototypeOf(e,t){return(ExpandableEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ds=function(){function ExpandableEditor(e,t,r){var n;return function ExpandableEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ExpandableEditor),(n=ExpandableEditor_possibleConstructorReturn(this,ExpandableEditor_getPrototypeOf(ExpandableEditor).call(this,e,t,r))).expanded=!1,n}return function ExpandableEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ExpandableEditor_setPrototypeOf(e,t)}(ExpandableEditor,Xa),function ExpandableEditor_createClass(e,t,r){return t&&ExpandableEditor_defineProperties(e.prototype,t),r&&ExpandableEditor_defineProperties(e,r),e}(ExpandableEditor,[{key:"ExpandChildEditors",value:function ExpandChildEditors(){this.CollapseChildEditors(),this.PopulateChildEditors(this.GetChildProperties().filter(function(e){return e.Browsable}))}},{key:"GetChildProperties",value:function GetChildProperties(){return this.propertyWrapper.GetChildProperties()}},{key:"PopulateChildEditors",value:function PopulateChildEditors(e){var t=this,r=io.RenderPropertyEditors(this.$visualElement,e,this.provider,function(e){return t.CanCreateEditor(e)}),n=!0,o=!1,i=void 0;try{for(var a,s=r[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;this.ChildEditors.push(c)}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}},{key:"CollapseChildEditors",value:function CollapseChildEditors(){ExpandableEditor_get(ExpandableEditor_getPrototypeOf(ExpandableEditor.prototype),"DisposeChildEditors",this).call(this)}},{key:"CanCreateEditor",value:function CanCreateEditor(e){return this.provider.GetService(I.PropertiesArea).CanCreateEditor(e)}},{key:"init",value:function init(){ExpandableEditor_get(ExpandableEditor_getPrototypeOf(ExpandableEditor.prototype),"init",this).call(this),this.initEvent()}},{key:"initEvent",value:function initEvent(){this.initEventListener([new Qpa("click","> .editor__content","toggleExpandedState")])}},{key:"toggleExpandedState",value:function toggleExpandedState(){this.Expanded=!this.Expanded}},{key:"toggleExpandButtonState",value:function toggleExpandButtonState(e){var t=this.VisualElement.find("> .editor__content .editor__action-button");e?t.addClass("-expanded"):t.removeClass("-expanded")}},{key:"toggleChildEditors",value:function toggleChildEditors(e){e?this.ExpandChildEditors():this.CollapseChildEditors()}},{key:"RefreshOverride",value:function RefreshOverride(){this.ChildEditors.forEach(function(e){return e.RefreshOverride()})}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor ').concat(this.classNames,'">\n                <label class="editor__content">\n                    <span class="editor__action-button ').concat(this.propertyWrapper.Name.toLowerCase(),'__action">\n                        <span class="k-icon k-i-arrow-chevron-up"></span>\n                        <span class="k-icon k-i-arrow-chevron-down"></span>\n                    </span>\n                    <span class="editor__name" title="').concat(this.LocalizedName,'">\n                        ').concat(this.LocalizedName,'\n\n                        <span class="editor__info" title="').concat(this.EditorInfo,'">\n                            ').concat(this.EditorInfo,"\n                        </span>\n                    </span>\n                    \n                </label>\n                ").concat(this.DescendantsTemplate,"\n            </div>\n        ")}},{key:"EditorInfo",get:function get(){return""}},{key:"classNames",get:function get(){return"-expandable"}},{key:"DescendantsTemplate",get:function get(){return""}},{key:"Expanded",get:function get(){return this.expanded},set:function set(e){this.expanded=e,this.toggleChildEditors(e),this.toggleExpandButtonState(e)}}]),ExpandableEditor}();function UploadImageEditor_typeof(e){return(UploadImageEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UploadImageEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UploadImageEditor_possibleConstructorReturn(e,t){return!t||"object"!==UploadImageEditor_typeof(t)&&"function"!=typeof t?function UploadImageEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function UploadImageEditor_get(e,t,r){return(UploadImageEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function UploadImageEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=UploadImageEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function UploadImageEditor_getPrototypeOf(e){return(UploadImageEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UploadImageEditor_setPrototypeOf(e,t){return(UploadImageEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ys=function(){function UploadImageEditor(e,t,r,n){var o;return function UploadImageEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UploadImageEditor),(o=UploadImageEditor_possibleConstructorReturn(this,UploadImageEditor_getPrototypeOf(UploadImageEditor).call(this,e,t,r))).mimeType=n,o.value?o.setUiImage():o.VisualElement.addClass(o.className),o}return function UploadImageEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UploadImageEditor_setPrototypeOf(e,t)}(UploadImageEditor,Xa),function UploadImageEditor_createClass(e,t,r){return t&&UploadImageEditor_defineProperties(e.prototype,t),r&&UploadImageEditor_defineProperties(e,r),e}(UploadImageEditor,[{key:"init",value:function init(){this.value=this.propertyWrapper.GetValue(),UploadImageEditor_get(UploadImageEditor_getPrototypeOf(UploadImageEditor.prototype),"init",this).call(this),this.$container=this.VisualElement.find(".editor__content"),this.className="-empty",this.initEventListener([new Qpa("change",".editor__value","setValue"),new Qpa("click",".-remove","resetToDefaultValue")])}},{key:"setValue",value:function setValue(e,t){var r=this;this.readImage(t).done(function(e){e&&(t.val(""),r.setImageData(e))})}},{key:"setImageData",value:function setImageData(e){this.value=e.split(",")[1],this.mimeType=e.split(";")[0].split(":")[1],this.setUiImage(),this.UpdatePropertyWrapperValue(this.value),this.parentElement.trigger(y.UploadImageEditorFileChanged,this.mimeType)}},{key:"setUiImage",value:function setUiImage(){this.VisualElement.removeClass(this.className),this.$container.css("background-image","url('data:".concat(this.mimeType,";base64,").concat(this.value,"')"))}},{key:"resetToDefaultValue",value:function resetToDefaultValue(){this.propertyWrapper.ResetValue(),this.value=null,this.VisualElement.addClass(this.className),this.$container.removeAttr("style"),this.parentElement.trigger(y.UploadImageEditorFileChanged,this.value)}},{key:"readImage",value:function readImage(e){var t=$.Deferred(),r=e.get(0).files;if(r&&r[0]){var n=new FileReader;n.onload=function(e){t.resolve(e.target.result)},n.readAsDataURL(r[0])}else t.resolve(void 0);return t.promise()}},{key:"RefreshOverride",value:function RefreshOverride(){var e=this.propertyWrapper.GetValue();this.value!==e&&(this.value=e,this.value?(this.VisualElement.removeClass(this.className),this.$container.css("background-image","url('data:".concat(this.mimeType,";base64,").concat(this.value,"')"))):(this.VisualElement.addClass(this.className),this.$container.removeAttr("style")))}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -upload">\n                <div class="editor__content k-widget">\n                    <div class="k-button k-button-icontext editor__action -add">\n                        <span class="k-icon k-i-folder"></span>\n                        ').concat(this.str.AddImage,'\n                        <input id="').concat(this.id,'_add" class="editor__value" type=\'file\'>\n                    </div>\n                    <div class="k-button k-button-icontext editor__action k-primary -remove">\n                        <span class="k-icon k-i-close"></span>\n                        ').concat(this.str.Remove,'\n                    </div>\n                    <div class="k-button k-button-icontext editor__action k-primary -replace">\n                        <span class="k-icon k-i-folder"></span>\n                        ').concat(this.str.Replace,'\n                        <input id="').concat(this.id,'_replace" class="editor__value" type=\'file\'>\n                    </div>\n                </div>\n            </div>\n        ')}}]),UploadImageEditor}();function ImageModel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var hs=function(){function ImageModel(e,t){!function ImageModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ImageModel),this.type=e?G.Embedded:G.Expression,this.Value=t}return function ImageModel_createClass(e,t,r){return t&&ImageModel_defineProperties(e.prototype,t),r&&ImageModel_defineProperties(e,r),e}(ImageModel,[{key:"isValidValue",value:function isValidValue(e){return e===G.Expression||e===G.Embedded||(window.TelerikWebReportDesignerDebugMode&&p.LogError('The passed value for ImageModel.Type is not supported: "'.concat(e,'".')),!1)}},{key:"Type",get:function get(){return this.type},set:function set(e){this.isValidValue&&(this.type=e)}}]),ImageModel}();function ImageEditorBase_typeof(e){return(ImageEditorBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ImageEditorBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ImageEditorBase_possibleConstructorReturn(e,t){return!t||"object"!==ImageEditorBase_typeof(t)&&"function"!=typeof t?function ImageEditorBase_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ImageEditorBase_get(e,t,r){return(ImageEditorBase_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function ImageEditorBase_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ImageEditorBase_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function ImageEditorBase_getPrototypeOf(e){return(ImageEditorBase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ImageEditorBase_setPrototypeOf(e,t){return(ImageEditorBase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ms=function(){function ImageEditorBase(){return function ImageEditorBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ImageEditorBase),ImageEditorBase_possibleConstructorReturn(this,ImageEditorBase_getPrototypeOf(ImageEditorBase).apply(this,arguments))}return function ImageEditorBase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ImageEditorBase_setPrototypeOf(e,t)}(ImageEditorBase,ds),function ImageEditorBase_createClass(e,t,r){return t&&ImageEditorBase_defineProperties(e.prototype,t),r&&ImageEditorBase_defineProperties(e,r),e}(ImageEditorBase,[{key:"init",value:function init(){this.sr=this.provider.GetService(I.WebReportDesignerStrings);var e=this.propertyWrapper.GetValue();if(this.MustCreateEditor(e)){var t=this.IsEmbeddedImageProperty;this.imageModel=new hs(t,e),ImageEditorBase_get(ImageEditorBase_getPrototypeOf(ImageEditorBase.prototype),"init",this).call(this);var r=[{Id:G.Expression,Text:this.sr.Expression},{Id:G.Embedded,Text:this.sr.EmbeddedImage}];this.initDropDown(r),this.initEditors(),this.Expanded=!1}}},{key:"initDropDown",value:function initDropDown(e){var t=this.imageModel,r=this;this.kendoDropDownList=this.imageEditorVisualElement.find(".editor__dropdown").kendoDropDownList({dataSource:e,value:t.Type,dataTextField:"Text",dataValueField:"Id",popup:{appendTo:$("body")},change:function change(){r.changeEditorType()},autoWidth:!0}).data("kendoDropDownList"),this.kendoDropDownList&&this.KendoWidgetInstances.push(this.kendoDropDownList)}},{key:"initEditors",value:function initEditors(){var r=this;this.expressionEditor=this.CreateInputEditor(this.imageEditorVisualElement),this.ChildEditors.push(this.expressionEditor),this.uploadImageEditor=this.CreateUploadImageEditor(this.imageEditorVisualElement),this.ChildEditors.push(this.uploadImageEditor),this.imageEditorVisualElement.on(y.UploadImageEditorFileChanged,function(e,t){r.MimeTypeProperty&&r.MimeTypeProperty.SetValue(t)}),this.setEditorsVisibility(this.imageModel.Type)}},{key:"changeEditorType",value:function changeEditorType(){var e=this.kendoDropDownList.value();this.imageModel.Type=e,this.setEditorsVisibility(this.imageModel.Type)}},{key:"setEditorsVisibility",value:function setEditorsVisibility(e){e===G.Expression?(this.ImageProperty.GetValue()&&this.ResetEditorValue(this.uploadImageEditor),this.uploadImageEditor.VisualElement.hide(),this.expressionEditor.VisualElement.show()):(this.ExpressionProperty.GetValue()&&this.ResetEditorValue(this.expressionEditor),this.expressionEditor.VisualElement.hide(),this.uploadImageEditor.VisualElement.show())}},{key:"CreateInputEditor",value:function CreateInputEditor(e){return new ls(e,this.ExpressionProperty,this.provider)}},{key:"CreateUploadImageEditor",value:function CreateUploadImageEditor(e){return new ys(e,this.ImageProperty,this.provider,null)}},{key:"ResetEditorValue",value:function ResetEditorValue(e){e.resetValue()}},{key:"ExpandChildEditors",value:function ExpandChildEditors(){this.imageEditorVisualElement.show()}},{key:"CollapseChildEditors",value:function CollapseChildEditors(){this.imageEditorVisualElement.hide()}},{key:"RefreshOverride",value:function RefreshOverride(){this.imageModel.Type==G.Expression?this.expressionEditor.RefreshOverride():this.uploadImageEditor.RefreshOverride()}},{key:"DescendantsTemplate",get:function get(){return'\n                <div class="twd-editor" id="'.concat(this.id,'__imageEditor">\n                    <div class="twd-editor -enum">\n                        <label class="editor__content">\n                            <span class="editor__name" title="').concat(G.Type,'">\n                                ').concat(G.Type,'\n                            </span>\n                            <input class="editor__dropdown" type="text" />\n                        </label>\n                    </div>\n                </div>\n        ')}},{key:"imageEditorVisualElement",get:function get(){return $("#"+this.id+"__imageEditor")}}]),ImageEditorBase}();function CheckboxInputEditor_typeof(e){return(CheckboxInputEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CheckboxInputEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CheckboxInputEditor_possibleConstructorReturn(e,t){return!t||"object"!==CheckboxInputEditor_typeof(t)&&"function"!=typeof t?function CheckboxInputEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CheckboxInputEditor_get(e,t,r){return(CheckboxInputEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CheckboxInputEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CheckboxInputEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CheckboxInputEditor_getPrototypeOf(e){return(CheckboxInputEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CheckboxInputEditor_setPrototypeOf(e,t){return(CheckboxInputEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var gs=function(){function CheckboxInputEditor(){return function CheckboxInputEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CheckboxInputEditor),CheckboxInputEditor_possibleConstructorReturn(this,CheckboxInputEditor_getPrototypeOf(CheckboxInputEditor).apply(this,arguments))}return function CheckboxInputEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CheckboxInputEditor_setPrototypeOf(e,t)}(CheckboxInputEditor,ls),function CheckboxInputEditor_createClass(e,t,r){return t&&CheckboxInputEditor_defineProperties(e.prototype,t),r&&CheckboxInputEditor_defineProperties(e,r),e}(CheckboxInputEditor,[{key:"resetToDefaultValue",value:function resetToDefaultValue(){this.SetValueCore(null);var e=!0,t=!1,r=void 0;try{for(var n,o=this.propertyWrapper.Components[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){delete n.value.PropertyStore[this.propertyWrapper.Name]}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}this.RefreshOverride()}},{key:"UpdatePropertyWrapperValue",value:function UpdatePropertyWrapperValue(e){CheckboxInputEditor_get(CheckboxInputEditor_getPrototypeOf(CheckboxInputEditor.prototype),"UpdatePropertyWrapperValue",this).call(this,e);var t=this.propertyWrapper.ParentWrapper;if(e&&""!==e){var r=!0,n=!1,o=void 0;try{for(var i,a=t.Components[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value,c=s.PropertyStore[t.Name];c?(c.Expression=e,delete c.Image):s.PropertyStore[t.Name]=bs.CreateExpressionPropertyStore(e)}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}}}]),CheckboxInputEditor}();function CheckboxUploadImageEditor_typeof(e){return(CheckboxUploadImageEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CheckboxUploadImageEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CheckboxUploadImageEditor_possibleConstructorReturn(e,t){return!t||"object"!==CheckboxUploadImageEditor_typeof(t)&&"function"!=typeof t?function CheckboxUploadImageEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CheckboxUploadImageEditor_get(e,t,r){return(CheckboxUploadImageEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CheckboxUploadImageEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CheckboxUploadImageEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CheckboxUploadImageEditor_getPrototypeOf(e){return(CheckboxUploadImageEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CheckboxUploadImageEditor_setPrototypeOf(e,t){return(CheckboxUploadImageEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var vs=function(){function CheckboxUploadImageEditor(){return function CheckboxUploadImageEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CheckboxUploadImageEditor),CheckboxUploadImageEditor_possibleConstructorReturn(this,CheckboxUploadImageEditor_getPrototypeOf(CheckboxUploadImageEditor).apply(this,arguments))}return function CheckboxUploadImageEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CheckboxUploadImageEditor_setPrototypeOf(e,t)}(CheckboxUploadImageEditor,ys),function CheckboxUploadImageEditor_createClass(e,t,r){return t&&CheckboxUploadImageEditor_defineProperties(e.prototype,t),r&&CheckboxUploadImageEditor_defineProperties(e,r),e}(CheckboxUploadImageEditor,[{key:"UpdatePropertyWrapperValue",value:function UpdatePropertyWrapperValue(e){CheckboxUploadImageEditor_get(CheckboxUploadImageEditor_getPrototypeOf(CheckboxUploadImageEditor.prototype),"UpdatePropertyWrapperValue",this).call(this,e);var t=this.propertyWrapper.ParentWrapper;if(e&&""!==e){var r=!0,n=!1,o=void 0;try{for(var i,a=t.Components[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value,c=s.PropertyStore[t.Name];c?(c.Image=e,delete c.Expression):s.PropertyStore[t.Name]=bs.CreateImagePropertyStore(e)}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}}}]),CheckboxUploadImageEditor}();function CheckBoxImageEditor_typeof(e){return(CheckBoxImageEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CheckBoxImageEditor_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CheckBoxImageEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CheckBoxImageEditor_possibleConstructorReturn(e,t){return!t||"object"!==CheckBoxImageEditor_typeof(t)&&"function"!=typeof t?function CheckBoxImageEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CheckBoxImageEditor_get(e,t,r){return(CheckBoxImageEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CheckBoxImageEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CheckBoxImageEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CheckBoxImageEditor_getPrototypeOf(e){return(CheckBoxImageEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CheckBoxImageEditor_setPrototypeOf(e,t){return(CheckBoxImageEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var bs=function(){function CheckBoxImageEditor(){return function CheckBoxImageEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CheckBoxImageEditor),CheckBoxImageEditor_possibleConstructorReturn(this,CheckBoxImageEditor_getPrototypeOf(CheckBoxImageEditor).apply(this,arguments))}return function CheckBoxImageEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CheckBoxImageEditor_setPrototypeOf(e,t)}(CheckBoxImageEditor,ms),function CheckBoxImageEditor_createClass(e,t,r){return t&&CheckBoxImageEditor_defineProperties(e.prototype,t),r&&CheckBoxImageEditor_defineProperties(e,r),e}(CheckBoxImageEditor,[{key:"MustCreateEditor",value:function MustCreateEditor(){return!0}},{key:"init",value:function init(){this.expressionProperty=this.ensureProperty(G.Expression),this.imageProperty=this.ensureProperty(G.Image),CheckBoxImageEditor_get(CheckBoxImageEditor_getPrototypeOf(CheckBoxImageEditor.prototype),"init",this).call(this)}},{key:"ensureProperty",value:function ensureProperty(e){var t=this.propertyWrapper.GetChildProperty(e);if(!t){var r,n=this.provider.GetService(I.ITypeDescriptorRepository).GetPropertyTypeDescriptor(G.ImageSource).GetProperty(e),o=[(CheckBoxImageEditor_defineProperty(r={},G.NetType,G.ImageSource),CheckBoxImageEditor_defineProperty(r,G.Expression,null),r)];t=new $o(this.propertyWrapper.Components,o,n,this.propertyWrapper)}return t}},{key:"CreateInputEditor",value:function CreateInputEditor(e){return new gs(e,this.ExpressionProperty,this.provider)}},{key:"CreateUploadImageEditor",value:function CreateUploadImageEditor(e){return new vs(e,this.ImageProperty,this.provider,null)}},{key:"ResetEditorValue",value:function ResetEditorValue(e){e.resetToDefaultValue()}},{key:"IsEmbeddedImageProperty",get:function get(){var e=this.propertyWrapper.GetChildProperty(G.Image);return e&&e.GetValue()}},{key:"ExpressionProperty",get:function get(){return this.expressionProperty}},{key:"ImageProperty",get:function get(){return this.imageProperty}},{key:"MimeTypeProperty",get:function get(){return null}}],[{key:"CreateExpressionPropertyStore",value:function CreateExpressionPropertyStore(e){var t;return CheckBoxImageEditor_defineProperty(t={},G.NetType,G.ImageSource),CheckBoxImageEditor_defineProperty(t,G.Expression,e),t}},{key:"CreateImagePropertyStore",value:function CreateImagePropertyStore(e){var t;return CheckBoxImageEditor_defineProperty(t={},G.NetType,G.ImageSource),CheckBoxImageEditor_defineProperty(t,G.Image,e),t}}]),CheckBoxImageEditor}();function UIValidation_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _s=function(){function UiValidation(){!function UIValidation_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UiValidation)}return function UIValidation_createClass(e,t,r){return t&&UIValidation_defineProperties(e.prototype,t),r&&UIValidation_defineProperties(e,r),e}(UiValidation,null,[{key:"IsValidHexColor",value:function IsValidHexColor(e){return RegExp("^#((0x){0,1}|#{0,1})([0-9A-F]{8}|[0-9A-F]{6}|[0-9A-F]{3})$","ig").test(e)}}]),UiValidation}();function ColorPickerEditor_typeof(e){return(ColorPickerEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ColorPickerEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ColorPickerEditor_possibleConstructorReturn(e,t){return!t||"object"!==ColorPickerEditor_typeof(t)&&"function"!=typeof t?function ColorPickerEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ColorPickerEditor_get(e,t,r){return(ColorPickerEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function ColorPickerEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ColorPickerEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function ColorPickerEditor_getPrototypeOf(e){return(ColorPickerEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ColorPickerEditor_setPrototypeOf(e,t){return(ColorPickerEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ss=function(){function ColorPickerEditor(){return function ColorPickerEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ColorPickerEditor),ColorPickerEditor_possibleConstructorReturn(this,ColorPickerEditor_getPrototypeOf(ColorPickerEditor).apply(this,arguments))}return function ColorPickerEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ColorPickerEditor_setPrototypeOf(e,t)}(ColorPickerEditor,Xa),function ColorPickerEditor_createClass(e,t,r){return t&&ColorPickerEditor_defineProperties(e.prototype,t),r&&ColorPickerEditor_defineProperties(e,r),e}(ColorPickerEditor,[{key:"init",value:function init(){this.getValueFromPS(),ColorPickerEditor_get(ColorPickerEditor_getPrototypeOf(ColorPickerEditor.prototype),"init",this).call(this),this.$colorValue=$("#"+this.id).find(".editor__value"),this.$kendoColorPicker=$("#"+this.id).find(".editor__color"),this.kendoColorPicker=null,this.$resetStyleInput=$("#".concat(this.id,"-checkbox")),this.initColorControl(),this.applyReset(),this.initEvents()}},{key:"getValueFromPS",value:function getValueFromPS(){if(this.psColorValue=this.GetPropertyWrapperValue(),this.color=ji.ToRgbaColor(this.psColorValue),this.hexColor=ji.ToHexColor(this.psColorValue),this.color){var e=this.color.split(",");this.opacity=parseFloat(e[3]),this.kendoColor=kendo.Color.fromBytes(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]),this.opacity)}this.resetStyle=this.GetShouldSerializeValue()}},{key:"initEvents",value:function initEvents(){this.initEventListener([new Qpa("change","#".concat(this.id,"-checkbox"),"setResetColor"),new Qpa("keyup",".editor__value","changeColor")])}},{key:"setResetColor",value:function setResetColor(){this.resetStyle=this.$resetStyleInput.prop("checked"),this.setColor()}},{key:"changeColor",value:function changeColor(e,t){var r=t.val();if(_s.IsValidHexColor(r)){if(this.$colorValue.removeClass("k-invalid"),13===e.which){this.setReset(),this.color=ji.ToRgbaColor(r);var n=this.color.split(",");this.kendoColor=kendo.Color.fromBytes(parseInt(n[0]),parseInt(n[1]),parseInt(n[2]),this.opacity),this.kendoColorPicker.color(this.kendoColor),this.setColor()}}else this.$colorValue.addClass("k-invalid")}},{key:"kendoColor",value:function kendoColor(){throw new Error("Method not implemented.")}},{key:"initColorControl",value:function initColorControl(){var e=this;this.kendoColorPicker=this.$kendoColorPicker.kendoColorPicker({opacity:!0,change:function change(){e.kendoColor=this.color().toBytes(),e.hexColor=this.color().toHex(),e.$colorValue.val(e.hexColor),e.opacity=e.kendoColor.a,e.setReset(),e.setColor()}}).data("kendoColorPicker"),this.color&&(this.kendoColorPicker.color(this.kendoColor),this.$colorValue.val(this.hexColor)),this.KendoWidgetInstances.push(this.kendoColorPicker)}},{key:"setReset",value:function setReset(){this.resetStyle||(this.resetStyle=!0,this.applyReset())}},{key:"applyReset",value:function applyReset(){this.$resetStyleInput.prop("checked",this.resetStyle).prop("disabled",!this.resetStyle&&null===this.kendoColorPicker.value())}},{key:"setColor",value:function setColor(){if(!this.resetStyle)return this.resetValue(),void this.applyReset();var e="".concat(this.convertOpacity,",").concat(this.kendoColor.r,", ").concat(this.kendoColor.g,", ").concat(this.kendoColor.b);this.UpdatePropertyWrapperValue(e)}},{key:"resetToDefaultValue",value:function resetToDefaultValue(){this.getValueFromPS(),this.kendoColorPicker&&this.kendoColorPicker.color(this.kendoColor),this.$colorValue.val(this.hexColor)}},{key:"RefreshOverride",value:function RefreshOverride(){this.getValueFromPS(),this.color&&(this.kendoColorPicker.color(this.kendoColor),this.$colorValue.val(this.hexColor))}},{key:"template",get:function get(){return'\n        <div id="'.concat(this.id,'" class="twd-editor -color-picker">\n            <span class="editor__name -header" title="').concat(this.LocalizedName,'">').concat(this.LocalizedName,'</span>\n            <div class="editor__content">\n                <span class="editor__name" title="').concat(this.str.Color,'">\n                    ').concat(this.str.Color,'\n                </span>\n                <div class="editor__content">\n                    <input type="checkbox" id="').concat(this.id,'-checkbox" class="k-checkbox editor__checkbox" />\n                    <label class="k-checkbox-label" for="').concat(this.id,'-checkbox"></label>\n\n                    <div class="editor__color"></div>\n\n                    <input class="editor__value k-textbox" type="text" />\n                    <span class="editor__picker k-icon k-i-eyedropper"></span>\n                </div>\n            </div>\n        </div>\n        ')}},{key:"convertOpacity",get:function get(){return 255*this.opacity}}]),ColorPickerEditor}();function DropDownListEditor_typeof(e){return(DropDownListEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DropDownListEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DropDownListEditor_possibleConstructorReturn(e,t){return!t||"object"!==DropDownListEditor_typeof(t)&&"function"!=typeof t?function DropDownListEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function DropDownListEditor_get(e,t,r){return(DropDownListEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function DropDownListEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DropDownListEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function DropDownListEditor_getPrototypeOf(e){return(DropDownListEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DropDownListEditor_setPrototypeOf(e,t){return(DropDownListEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Cs=function(){function DropDownListEditor(){return function DropDownListEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DropDownListEditor),DropDownListEditor_possibleConstructorReturn(this,DropDownListEditor_getPrototypeOf(DropDownListEditor).apply(this,arguments))}return function DropDownListEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DropDownListEditor_setPrototypeOf(e,t)}(DropDownListEditor,Xa),function DropDownListEditor_createClass(e,t,r){return t&&DropDownListEditor_defineProperties(e.prototype,t),r&&DropDownListEditor_defineProperties(e,r),e}(DropDownListEditor,[{key:"init",value:function init(){DropDownListEditor_get(DropDownListEditor_getPrototypeOf(DropDownListEditor.prototype),"init",this).call(this),this.initDropDown(this.GetOptions())}},{key:"initDropDown",value:function initDropDown(e){var t=this;this.kendoWidget=$("#"+this.id).find(".editor__dropdown").kendoDropDownList({dataSource:e,value:t.GetDropDownListInitialValue(e),dataTextField:t.DataTextField,dataValueField:t.DataValueField,change:function change(){var e=this.value();t.UpdatePropertyWrapperValue(e)},popup:{appendTo:$("body")},optionLabel:t.GetOptionLabel(),autoWidth:!0}).data("kendoDropDownList"),this.kendoWidget&&this.KendoWidgetInstances.push(this.kendoWidget)}},{key:"GetDropDownListInitialValue",value:function GetDropDownListInitialValue(e){return this.GetPropertyWrapperValue()||e[0].Name}},{key:"GetOptionLabel",value:function GetOptionLabel(){}},{key:"RefreshOverride",value:function RefreshOverride(){this.kendoWidget&&this.kendoWidget.value(this.GetPropertyWrapperValue())}},{key:"UpdateStateUI",value:function UpdateStateUI(){var e=this.State&this.States.Disabled;this.kendoWidget&&this.kendoWidget.enable(!e)}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -enum">\n                <label class="editor__content">\n                    <span class="editor__name" title="').concat(this.LocalizedName,'">\n                        ').concat(this.LocalizedName,'\n                    </span>\n                    <input class="editor__dropdown" type="text" />\n                </label>\n            </div>\n        ')}},{key:"DataTextField",get:function get(){return"Name"}},{key:"DataValueField",get:function get(){return"Name"}}]),DropDownListEditor}();function DataSourceEditor_typeof(e){return(DataSourceEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DataSourceEditor_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DataSourceEditor_toConsumableArray(e){return function DataSourceEditor_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function DataSourceEditor_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function DataSourceEditor_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function DataSourceEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DataSourceEditor_possibleConstructorReturn(e,t){return!t||"object"!==DataSourceEditor_typeof(t)&&"function"!=typeof t?function DataSourceEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function DataSourceEditor_getPrototypeOf(e){return(DataSourceEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DataSourceEditor_setPrototypeOf(e,t){return(DataSourceEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ps=function(){function DataSourceEditor(e,t,r){var n;return function DataSourceEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DataSourceEditor),(n=DataSourceEditor_possibleConstructorReturn(this,DataSourceEditor_getPrototypeOf(DataSourceEditor).call(this,e,t,r))).report=null,n}return function DataSourceEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DataSourceEditor_setPrototypeOf(e,t)}(DataSourceEditor,Cs),function DataSourceEditor_createClass(e,t,r){return t&&DataSourceEditor_defineProperties(e.prototype,t),r&&DataSourceEditor_defineProperties(e,r),e}(DataSourceEditor,[{key:"GetOptions",value:function GetOptions(){return[DataSourceEditor_defineProperty({},G.Name,yi.None)].concat(DataSourceEditor_toConsumableArray(this.Report.DataSources.map(function(e){return DataSourceEditor_defineProperty({},G.Name,e.Name)})))}},{key:"GetDropDownListInitialValue",value:function GetDropDownListInitialValue(){var e=DataSourceEditor_toConsumableArray(Array.from(new Set(this.propertyWrapper.Components.filter(function(e){return e instanceof U||e instanceof pi}).map(function(e){return e.DataSourceName}))));return 1===e.length?e[0]:yi.None}},{key:"UpdatePropertyWrapperValue",value:function UpdatePropertyWrapperValue(t){this.propertyWrapper.Components.filter(function(e){return e instanceof U||e instanceof pi}).forEach(function(e){t===yi.None?e.DataSourceName=null:e.DataSourceName=t})}},{key:"findReportComponent",value:function findReportComponent(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.propertyWrapper.Components[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;return ze.GetParentByType(i,ye)}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}return null}},{key:"Report",get:function get(){return this.report||(this.report=this.findReportComponent()),this.report}}]),DataSourceEditor}();function DoubleEditor_typeof(e){return(DoubleEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DoubleEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DoubleEditor_possibleConstructorReturn(e,t){return!t||"object"!==DoubleEditor_typeof(t)&&"function"!=typeof t?function DoubleEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function DoubleEditor_get(e,t,r){return(DoubleEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function DoubleEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DoubleEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function DoubleEditor_getPrototypeOf(e){return(DoubleEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DoubleEditor_setPrototypeOf(e,t){return(DoubleEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ws=function(){function DoubleEditor(){return function DoubleEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DoubleEditor),DoubleEditor_possibleConstructorReturn(this,DoubleEditor_getPrototypeOf(DoubleEditor).apply(this,arguments))}return function DoubleEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DoubleEditor_setPrototypeOf(e,t)}(DoubleEditor,Xa),function DoubleEditor_createClass(e,t,r){return t&&DoubleEditor_defineProperties(e.prototype,t),r&&DoubleEditor_defineProperties(e,r),e}(DoubleEditor,[{key:"init",value:function init(){DoubleEditor_get(DoubleEditor_getPrototypeOf(DoubleEditor.prototype),"init",this).call(this),this.$inputDomEl=this.$visualElement.find(".editor__value"),this.initEventListener([new Qpa("input",".editor__value","setValue")])}},{key:"setValue",value:function setValue(e,t){this.propertyWrapper.SetValue(t.val())}},{key:"RefreshOverride",value:function RefreshOverride(){this.$inputDomEl.val(this.propertyWrapper.GetValue())}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -input">\n                <label class="editor__content">\n                    <span class="editor__name" title="').concat(this.LocalizedName,'">\n                        ').concat(this.LocalizedName,'\n                    </span>\n                    <input type="number" value="').concat(this.propertyWrapper.GetValue(),'" class="k-textbox editor__value" />\n                </label>\n            </div>\n        ')}}]),DoubleEditor}();function jqa(e){!function EncodingInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,jqa),this.CodePage=e.codePage,this.DisplayName=e.displayName,this.Name=e.name,this.FullName="".concat(this.Name," - ").concat(this.DisplayName)}function Encoding_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Os=function(){function Encoding(){!function Encoding_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Encoding)}return function Encoding_createClass(e,t,r){return t&&Encoding_defineProperties(e.prototype,t),r&&Encoding_defineProperties(e,r),e}(Encoding,null,[{key:"GetEncodings",value:function GetEncodings(){return Encoding.encodings.map(function(e){return new jqa(e)})}},{key:"GetEncoding",value:function GetEncoding(t){var e=Encoding.encodings.find(function(e){return e.codePage===t});return e?new jqa(e):null}},{key:"encodings",get:function get(){return[{codePage:37,name:"IBM037",displayName:"IBM EBCDIC (US-Canada)"},{codePage:437,name:"IBM437",displayName:"OEM United States"},{codePage:500,name:"IBM500",displayName:"IBM EBCDIC (International)"},{codePage:708,name:"ASMO-708",displayName:"Arabic (ASMO 708)"},{codePage:720,name:"DOS-720",displayName:"Arabic (DOS)"},{codePage:737,name:"ibm737",displayName:"Greek (DOS)"},{codePage:775,name:"ibm775",displayName:"Baltic (DOS)"},{codePage:850,name:"ibm850",displayName:"Western European (DOS)"},{codePage:852,name:"ibm852",displayName:"Central European (DOS)"},{codePage:855,name:"IBM855",displayName:"OEM Cyrillic"},{codePage:857,name:"ibm857",displayName:"Turkish (DOS)"},{codePage:858,name:"IBM00858",displayName:"OEM Multilingual Latin I"},{codePage:860,name:"IBM860",displayName:"Portuguese (DOS)"},{codePage:861,name:"ibm861",displayName:"Icelandic (DOS)"},{codePage:862,name:"DOS-862",displayName:"Hebrew (DOS)"},{codePage:863,name:"IBM863",displayName:"French Canadian (DOS)"},{codePage:864,name:"IBM864",displayName:"Arabic (864)"},{codePage:865,name:"IBM865",displayName:"Nordic (DOS)"},{codePage:866,name:"cp866",displayName:"Cyrillic (DOS)"},{codePage:869,name:"ibm869",displayName:"Greek, Modern (DOS)"},{codePage:870,name:"IBM870",displayName:"IBM EBCDIC (Multilingual Latin-2)"},{codePage:874,name:"windows-874",displayName:"Thai (Windows)"},{codePage:875,name:"cp875",displayName:"IBM EBCDIC (Greek Modern)"},{codePage:932,name:"shift_jis",displayName:"Japanese (Shift-JIS)"},{codePage:936,name:"gb2312",displayName:"Chinese Simplified (GB2312)"},{codePage:949,name:"ks_c_5601-1987",displayName:"Korean"},{codePage:950,name:"big5",displayName:"Chinese Traditional (Big5)"},{codePage:1026,name:"IBM1026",displayName:"IBM EBCDIC (Turkish Latin-5)"},{codePage:1047,name:"IBM01047",displayName:"IBM Latin-1"},{codePage:1140,name:"IBM01140",displayName:"IBM EBCDIC (US-Canada-Euro)"},{codePage:1141,name:"IBM01141",displayName:"IBM EBCDIC (Germany-Euro)"},{codePage:1142,name:"IBM01142",displayName:"IBM EBCDIC (Denmark-Norway-Euro)"},{codePage:1143,name:"IBM01143",displayName:"IBM EBCDIC (Finland-Sweden-Euro)"},{codePage:1144,name:"IBM01144",displayName:"IBM EBCDIC (Italy-Euro)"},{codePage:1145,name:"IBM01145",displayName:"IBM EBCDIC (Spain-Euro)"},{codePage:1146,name:"IBM01146",displayName:"IBM EBCDIC (UK-Euro)"},{codePage:1147,name:"IBM01147",displayName:"IBM EBCDIC (France-Euro)"},{codePage:1148,name:"IBM01148",displayName:"IBM EBCDIC (International-Euro)"},{codePage:1149,name:"IBM01149",displayName:"IBM EBCDIC (Icelandic-Euro)"},{codePage:1200,name:"utf-16",displayName:"Unicode"},{codePage:1201,name:"utf-16BE",displayName:"Unicode (Big-Endian)"},{codePage:1250,name:"windows-1250",displayName:"Central European (Windows)"},{codePage:1251,name:"windows-1251",displayName:"Cyrillic (Windows)"},{codePage:1252,name:"Windows-1252",displayName:"Western European (Windows)"},{codePage:1253,name:"windows-1253",displayName:"Greek (Windows)"},{codePage:1254,name:"windows-1254",displayName:"Turkish (Windows)"},{codePage:1255,name:"windows-1255",displayName:"Hebrew (Windows)"},{codePage:1256,name:"windows-1256",displayName:"Arabic (Windows)"},{codePage:1257,name:"windows-1257",displayName:"Baltic (Windows)"},{codePage:1258,name:"windows-1258",displayName:"Vietnamese (Windows)"},{codePage:1361,name:"Johab",displayName:"Korean (Johab)"},{codePage:1e4,name:"macintosh",displayName:"Western European (Mac)"},{codePage:10001,name:"x-mac-japanese",displayName:"Japanese (Mac)"},{codePage:10002,name:"x-mac-chinesetrad",displayName:"Chinese Traditional (Mac)"},{codePage:10003,name:"x-mac-korean",displayName:"Korean (Mac)"},{codePage:10004,name:"x-mac-arabic",displayName:"Arabic (Mac)"},{codePage:10005,name:"x-mac-hebrew",displayName:"Hebrew (Mac)"},{codePage:10006,name:"x-mac-greek",displayName:"Greek (Mac)"},{codePage:10007,name:"x-mac-cyrillic",displayName:"Cyrillic (Mac)"},{codePage:10008,name:"x-mac-chinesesimp",displayName:"Chinese Simplified (Mac)"},{codePage:10010,name:"x-mac-romanian",displayName:"Romanian (Mac)"},{codePage:10017,name:"x-mac-ukrainian",displayName:"Ukrainian (Mac)"},{codePage:10021,name:"x-mac-thai",displayName:"Thai (Mac)"},{codePage:10029,name:"x-mac-ce",displayName:"Central European (Mac)"},{codePage:10079,name:"x-mac-icelandic",displayName:"Icelandic (Mac)"},{codePage:10081,name:"x-mac-turkish",displayName:"Turkish (Mac)"},{codePage:10082,name:"x-mac-croatian",displayName:"Croatian (Mac)"},{codePage:12e3,name:"utf-32",displayName:"Unicode (UTF-32)"},{codePage:12001,name:"utf-32BE",displayName:"Unicode (UTF-32 Big-Endian)"},{codePage:2e4,name:"x-Chinese-CNS",displayName:"Chinese Traditional (CNS)"},{codePage:20001,name:"x-cp20001",displayName:"TCA Taiwan"},{codePage:20002,name:"x-Chinese-Eten",displayName:"Chinese Traditional (Eten)"},{codePage:20003,name:"x-cp20003",displayName:"IBM5550 Taiwan"},{codePage:20004,name:"x-cp20004",displayName:"TeleText Taiwan"},{codePage:20005,name:"x-cp20005",displayName:"Wang Taiwan"},{codePage:20105,name:"x-IA5",displayName:"Western European (IA5)"},{codePage:20106,name:"x-IA5-German",displayName:"German (IA5)"},{codePage:20107,name:"x-IA5-Swedish",displayName:"Swedish (IA5)"},{codePage:20108,name:"x-IA5-Norwegian",displayName:"Norwegian (IA5)"},{codePage:20127,name:"us-ascii",displayName:"US-ASCII"},{codePage:20261,name:"x-cp20261",displayName:"T.61"},{codePage:20269,name:"x-cp20269",displayName:"ISO-6937"},{codePage:20273,name:"IBM273",displayName:"IBM EBCDIC (Germany)"},{codePage:20277,name:"IBM277",displayName:"IBM EBCDIC (Denmark-Norway)"},{codePage:20278,name:"IBM278",displayName:"IBM EBCDIC (Finland-Sweden)"},{codePage:20280,name:"IBM280",displayName:"IBM EBCDIC (Italy)"},{codePage:20284,name:"IBM284",displayName:"IBM EBCDIC (Spain)"},{codePage:20285,name:"IBM285",displayName:"IBM EBCDIC (UK)"},{codePage:20290,name:"IBM290",displayName:"IBM EBCDIC (Japanese katakana)"},{codePage:20297,name:"IBM297",displayName:"IBM EBCDIC (France)"},{codePage:20420,name:"IBM420",displayName:"IBM EBCDIC (Arabic)"},{codePage:20423,name:"IBM423",displayName:"IBM EBCDIC (Greek)"},{codePage:20424,name:"IBM424",displayName:"IBM EBCDIC (Hebrew)"},{codePage:20833,name:"x-EBCDIC-KoreanExtended",displayName:"IBM EBCDIC (Korean Extended)"},{codePage:20838,name:"IBM-Thai",displayName:"IBM EBCDIC (Thai)"},{codePage:20866,name:"koi8-r",displayName:"Cyrillic (KOI8-R)"},{codePage:20871,name:"IBM871",displayName:"IBM EBCDIC (Icelandic)"},{codePage:20880,name:"IBM880",displayName:"IBM EBCDIC (Cyrillic Russian)"},{codePage:20905,name:"IBM905",displayName:"IBM EBCDIC (Turkish)"},{codePage:20924,name:"IBM00924",displayName:"IBM Latin-1"},{codePage:20932,name:"EUC-JP",displayName:"Japanese (JIS 0208-1990 and 0212-1990)"},{codePage:20936,name:"x-cp20936",displayName:"Chinese Simplified (GB2312-80)"},{codePage:20949,name:"x-cp20949",displayName:"Korean Wansung"},{codePage:21025,name:"cp1025",displayName:"IBM EBCDIC (Cyrillic Serbian-Bulgarian)"},{codePage:21866,name:"koi8-u",displayName:"Cyrillic (KOI8-U)"},{codePage:28591,name:"iso-8859-1",displayName:"Western European (ISO)"},{codePage:28592,name:"iso-8859-2",displayName:"Central European (ISO)"},{codePage:28593,name:"iso-8859-3",displayName:"Latin 3 (ISO)"},{codePage:28594,name:"iso-8859-4",displayName:"Baltic (ISO)"},{codePage:28595,name:"iso-8859-5",displayName:"Cyrillic (ISO)"},{codePage:28596,name:"iso-8859-6",displayName:"Arabic (ISO)"},{codePage:28597,name:"iso-8859-7",displayName:"Greek (ISO)"},{codePage:28598,name:"iso-8859-8",displayName:"Hebrew (ISO-Visual)"},{codePage:28599,name:"iso-8859-9",displayName:"Turkish (ISO)"},{codePage:28603,name:"iso-8859-13",displayName:"Estonian (ISO)"},{codePage:28605,name:"iso-8859-15",displayName:"Latin 9 (ISO)"},{codePage:29001,name:"x-Europa",displayName:"Europa"},{codePage:38598,name:"iso-8859-8-i",displayName:"Hebrew (ISO-Logical)"},{codePage:50220,name:"iso-2022-jp",displayName:"Japanese (JIS)"},{codePage:50221,name:"csISO2022JP",displayName:"Japanese (JIS-Allow 1 byte Kana)"},{codePage:50222,name:"iso-2022-jp",displayName:"Japanese (JIS-Allow 1 byte Kana - SO/SI)"},{codePage:50225,name:"iso-2022-kr",displayName:"Korean (ISO)"},{codePage:50227,name:"x-cp50227",displayName:"Chinese Simplified (ISO-2022)"},{codePage:51932,name:"euc-jp",displayName:"Japanese (EUC)"},{codePage:51936,name:"EUC-CN",displayName:"Chinese Simplified (EUC)"},{codePage:51949,name:"euc-kr",displayName:"Korean (EUC)"},{codePage:52936,name:"hz-gb-2312",displayName:"Chinese Simplified (HZ)"},{codePage:54936,name:"GB18030",displayName:"Chinese Simplified (GB18030)"},{codePage:57002,name:"x-iscii-de",displayName:"ISCII Devanagari"},{codePage:57003,name:"x-iscii-be",displayName:"ISCII Bengali"},{codePage:57004,name:"x-iscii-ta",displayName:"ISCII Tamil"},{codePage:57005,name:"x-iscii-te",displayName:"ISCII Telugu"},{codePage:57006,name:"x-iscii-as",displayName:"ISCII Assamese"},{codePage:57007,name:"x-iscii-or",displayName:"ISCII Oriya"},{codePage:57008,name:"x-iscii-ka",displayName:"ISCII Kannada"},{codePage:57009,name:"x-iscii-ma",displayName:"ISCII Malayalam"},{codePage:57010,name:"x-iscii-gu",displayName:"ISCII Gujarati"},{codePage:57011,name:"x-iscii-pa",displayName:"ISCII Punjabi"},{codePage:65e3,name:"utf-7",displayName:"Unicode (UTF-7)"},{codePage:65001,name:"utf-8",displayName:"Unicode (UTF-8)"}]}}]),Encoding}();function EnumEditor_typeof(e){return(EnumEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EnumEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EnumEditor_possibleConstructorReturn(e,t){return!t||"object"!==EnumEditor_typeof(t)&&"function"!=typeof t?function EnumEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function EnumEditor_getPrototypeOf(e){return(EnumEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EnumEditor_setPrototypeOf(e,t){return(EnumEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Es=function(){function EnumEditor(){return function EnumEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnumEditor),EnumEditor_possibleConstructorReturn(this,EnumEditor_getPrototypeOf(EnumEditor).apply(this,arguments))}return function EnumEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EnumEditor_setPrototypeOf(e,t)}(EnumEditor,Cs),function EnumEditor_createClass(e,t,r){return t&&EnumEditor_defineProperties(e.prototype,t),r&&EnumEditor_defineProperties(e,r),e}(EnumEditor,[{key:"GetOptions",value:function GetOptions(){return this.provider.GetService(I.ITypeDescriptorRepository).GetPropertyTypeDescriptor(this.propertyWrapper.Type).GetEnumValues()}}]),EnumEditor}();function EncodingEditor_typeof(e){return(EncodingEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EncodingEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EncodingEditor_possibleConstructorReturn(e,t){return!t||"object"!==EncodingEditor_typeof(t)&&"function"!=typeof t?function EncodingEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function EncodingEditor_getPrototypeOf(e){return(EncodingEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EncodingEditor_setPrototypeOf(e,t){return(EncodingEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ks=function(){function EncodingEditor(){return function EncodingEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EncodingEditor),EncodingEditor_possibleConstructorReturn(this,EncodingEditor_getPrototypeOf(EncodingEditor).apply(this,arguments))}return function EncodingEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EncodingEditor_setPrototypeOf(e,t)}(EncodingEditor,Es),function EncodingEditor_createClass(e,t,r){return t&&EncodingEditor_defineProperties(e.prototype,t),r&&EncodingEditor_defineProperties(e,r),e}(EncodingEditor,[{key:"GetOptions",value:function GetOptions(){return Os.GetEncodings().sort(function(e,t){return e.FullName>t.FullName?1:0})}},{key:"GetDropDownListInitialValue",value:function GetDropDownListInitialValue(){return this.propertyWrapper.GetValue()||Os.GetEncoding(65001).CodePage}},{key:"DataTextField",get:function get(){return"FullName"}},{key:"DataValueField",get:function get(){return"CodePage"}}]),EncodingEditor}();function FontCollectionEditor_typeof(e){return(FontCollectionEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FontCollectionEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FontCollectionEditor_possibleConstructorReturn(e,t){return!t||"object"!==FontCollectionEditor_typeof(t)&&"function"!=typeof t?function FontCollectionEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function FontCollectionEditor_getPrototypeOf(e){return(FontCollectionEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FontCollectionEditor_setPrototypeOf(e,t){return(FontCollectionEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ts=function(){function FontCollectionEditor(){return function FontCollectionEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FontCollectionEditor),FontCollectionEditor_possibleConstructorReturn(this,FontCollectionEditor_getPrototypeOf(FontCollectionEditor).apply(this,arguments))}return function FontCollectionEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FontCollectionEditor_setPrototypeOf(e,t)}(FontCollectionEditor,Qa),function FontCollectionEditor_createClass(e,t,r){return t&&FontCollectionEditor_defineProperties(e.prototype,t),r&&FontCollectionEditor_defineProperties(e,r),e}(FontCollectionEditor,[{key:"initEditorsByOrder",value:function initEditorsByOrder(){var e=this.provider.GetService(I.ISchemaService),t=!0,r=!1,n=void 0;try{for(var o,i=this.propertiesOrder[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)for(var a=o.value,s=void 0,c=e.GetEditorType(a,null),u=0;u<this.propertyWrappers.length;u++){var l=this.propertyWrappers[u];if(a===G.Alignment){s=new c(this.$visualElement,this.propertyWrappers,this.provider),this.childEditors.push(s);break}if(a===l.Name){s=new c(this.$visualElement,l,this.provider),this.childEditors.push(s);break}}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"propertiesOrder",get:function get(){return Ka.FontCollection}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -wrapper">\n                ').concat(this.nameTemplate(this.str.Font),"\n            </div>\n        ")}}]),FontCollectionEditor}();function FontEditor_typeof(e){return(FontEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FontEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FontEditor_possibleConstructorReturn(e,t){return!t||"object"!==FontEditor_typeof(t)&&"function"!=typeof t?function FontEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function FontEditor_get(e,t,r){return(FontEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function FontEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=FontEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function FontEditor_getPrototypeOf(e){return(FontEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FontEditor_setPrototypeOf(e,t){return(FontEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ds=function(){function FontEditor(){return function FontEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FontEditor),FontEditor_possibleConstructorReturn(this,FontEditor_getPrototypeOf(FontEditor).apply(this,arguments))}return function FontEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FontEditor_setPrototypeOf(e,t)}(FontEditor,Xa),function FontEditor_createClass(e,t,r){return t&&FontEditor_defineProperties(e.prototype,t),r&&FontEditor_defineProperties(e,r),e}(FontEditor,[{key:"init",value:function init(){var i=this;FontEditor_get(FontEditor_getPrototypeOf(FontEditor.prototype),"init",this).call(this),this.content=this.$visualElement.find(".editor__content");var a=this.propertyWrapper.GetChildProperties(),s=this.provider.GetService(I.ISchemaService);this.propertiesOrder.forEach(function(e){var t,r=i.propertyWrapper.GetChildProperty(e),n=r?r.Property.EditorType:e,o=s.GetEditorType(n,null);switch(e){case G.FontStyle:t=new o(i.$visualElement,a,i.provider);break;case G.Size:default:t=new o(i.$visualElement,r,i.provider)}i.ChildEditors.push(t)})}},{key:"RefreshOverride",value:function RefreshOverride(){this.ChildEditors.forEach(function(e){return e.RefreshOverride()})}},{key:"Dispose",value:function Dispose(){this.ChildEditors.forEach(function(e){return e.Dispose()}),this.childEditors=[],this.VisualElement.remove()}},{key:"template",get:function get(){return'<div id="'.concat(this.id,'" class="twd-editor -font"></div>')}},{key:"propertiesOrder",get:function get(){return Ka.Font}}]),FontEditor}();function FontNameEditor_typeof(e){return(FontNameEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FontNameEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FontNameEditor_possibleConstructorReturn(e,t){return!t||"object"!==FontNameEditor_typeof(t)&&"function"!=typeof t?function FontNameEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function FontNameEditor_get(e,t,r){return(FontNameEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function FontNameEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=FontNameEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function FontNameEditor_getPrototypeOf(e){return(FontNameEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FontNameEditor_setPrototypeOf(e,t){return(FontNameEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var xs=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Rs=function(){function FontNameEditor(){return function FontNameEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FontNameEditor),FontNameEditor_possibleConstructorReturn(this,FontNameEditor_getPrototypeOf(FontNameEditor).apply(this,arguments))}return function FontNameEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FontNameEditor_setPrototypeOf(e,t)}(FontNameEditor,Xa),function FontNameEditor_createClass(e,t,r){return t&&FontNameEditor_defineProperties(e.prototype,t),r&&FontNameEditor_defineProperties(e,r),e}(FontNameEditor,[{key:"init",value:function init(){FontNameEditor_get(FontNameEditor_getPrototypeOf(FontNameEditor.prototype),"init",this).call(this),this.initDropDown()}},{key:"initDropDown",value:function initDropDown(){return xs(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return r=(t=this).provider.GetService(I.ISchemaService),e.next=4,r.GetFontNames();case 4:n=e.sent,this.kendoWidget=$("#"+this.id).find(".editor__dropdown").kendoDropDownList({dataSource:n,value:this.propertyWrapper.GetValue()||n[0].Name,change:function change(){t.propertyWrapper.SetValue(this.value())},popup:{appendTo:$("body")},autoWidth:!0}).data("kendoDropDownList"),this.KendoWidgetInstances.push(this.kendoWidget);case 7:case"end":return e.stop()}},_callee,this)}))}},{key:"kendoWidget",value:function kendoWidget(){throw new Error("Method not implemented.")}},{key:"RefreshOverride",value:function RefreshOverride(){this.kendoWidget.value(this.propertyWrapper.GetValue())}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -enum">\n                <label class="editor__content">\n                    <span class="editor__name" title="').concat(this.LocalizedName,'">\n                        ').concat(this.LocalizedName,'\n                    </span>\n                    <input class="editor__dropdown" type="text" />\n                </label>\n            </div>\n        ')}}]),FontNameEditor}();function IconCheckEditor_typeof(e){return(IconCheckEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IconCheckEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IconCheckEditor_possibleConstructorReturn(e,t){return!t||"object"!==IconCheckEditor_typeof(t)&&"function"!=typeof t?function IconCheckEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function IconCheckEditor_get(e,t,r){return(IconCheckEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function IconCheckEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=IconCheckEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function IconCheckEditor_getPrototypeOf(e){return(IconCheckEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IconCheckEditor_setPrototypeOf(e,t){return(IconCheckEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Is=function(){function IconCheckEditor(){return function IconCheckEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IconCheckEditor),IconCheckEditor_possibleConstructorReturn(this,IconCheckEditor_getPrototypeOf(IconCheckEditor).apply(this,arguments))}return function IconCheckEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IconCheckEditor_setPrototypeOf(e,t)}(IconCheckEditor,Xa),function IconCheckEditor_createClass(e,t,r){return t&&IconCheckEditor_defineProperties(e.prototype,t),r&&IconCheckEditor_defineProperties(e,r),e}(IconCheckEditor,[{key:"init",value:function init(){this.value=!1;var e=this.propertyWrapper.GetValue();this.value="string"==typeof e?"true"===e.toLowerCase():e,IconCheckEditor_get(IconCheckEditor_getPrototypeOf(IconCheckEditor.prototype),"init",this).call(this),this.$inputDomEl=this.$visualElement.find(".editor__value"),this.RefreshOverride(),this.initEventListener([new Qpa("change",".editor__value","setValue")])}},{key:"setValue",value:function setValue(e,t){this.value=t.prop("checked"),this.VisualElement.toggleClass("k-state-selected",this.value),this.propertyWrapper.SetValue(this.value.toString())}},{key:"RefreshOverride",value:function RefreshOverride(){this.$inputDomEl.prop("checked",this.value),this.VisualElement.toggleClass("k-state-selected",this.value)}},{key:"template",get:function get(){return'\n            <li id="'.concat(this.id,'" class="editor__toggle-button -').concat(this.propertyWrapper.Name.toLowerCase(),' k-button"  title="').concat(this.LocalizedName,'">\n                <span class="k-icon k-i-').concat(this.propertyWrapper.Name.toLowerCase(),'"></span>\n                <input type="checkbox" id="').concat(this.id,'-checkbox" class="editor__value" />\n            </li>\n        ')}}]),IconCheckEditor}();function FontStyle_typeof(e){return(FontStyle_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FontStyle_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FontStyle_possibleConstructorReturn(e,t){return!t||"object"!==FontStyle_typeof(t)&&"function"!=typeof t?function FontStyle_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function FontStyle_getPrototypeOf(e){return(FontStyle_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FontStyle_setPrototypeOf(e,t){return(FontStyle_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Gs=function(){function FontStyle(){return function FontStyle_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FontStyle),FontStyle_possibleConstructorReturn(this,FontStyle_getPrototypeOf(FontStyle).apply(this,arguments))}return function FontStyle_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FontStyle_setPrototypeOf(e,t)}(FontStyle,Qa),function FontStyle_createClass(e,t,r){return t&&FontStyle_defineProperties(e.prototype,t),r&&FontStyle_defineProperties(e,r),e}(FontStyle,[{key:"initEditorsByOrder",value:function initEditorsByOrder(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.propertiesOrder[Symbol.iterator]();!(e=(n=o.next()).done);e=!0)for(var i=n.value,a=0;a<this.propertyWrappers.length;a++){var s=this.propertyWrappers[a];if(i===s.Name){var c=new Is(this.$visualElement,s,this.provider);this.childEditors.push(c);break}}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}}},{key:"propertiesOrder",get:function get(){return Ka.FontStyle}},{key:"template",get:function get(){return'\n            <ul id="'.concat(this.id,'" class="twd-editor -multi-select editor__toggle-buttons k-widget k-button-group">\n            </ul>\n        ')}}]),FontStyle}();function ComponentCollectionEditor_typeof(e){return(ComponentCollectionEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ComponentCollectionEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ComponentCollectionEditor_possibleConstructorReturn(e,t){return!t||"object"!==ComponentCollectionEditor_typeof(t)&&"function"!=typeof t?function ComponentCollectionEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ComponentCollectionEditor_get(e,t,r){return(ComponentCollectionEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function ComponentCollectionEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ComponentCollectionEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function ComponentCollectionEditor_getPrototypeOf(e){return(ComponentCollectionEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ComponentCollectionEditor_setPrototypeOf(e,t){return(ComponentCollectionEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var js=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Bs=function(){function ComponentCollectionEditor(){return function ComponentCollectionEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ComponentCollectionEditor),ComponentCollectionEditor_possibleConstructorReturn(this,ComponentCollectionEditor_getPrototypeOf(ComponentCollectionEditor).apply(this,arguments))}return function ComponentCollectionEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ComponentCollectionEditor_setPrototypeOf(e,t)}(ComponentCollectionEditor,rs),function ComponentCollectionEditor_createClass(e,t,r){return t&&ComponentCollectionEditor_defineProperties(e.prototype,t),r&&ComponentCollectionEditor_defineProperties(e,r),e}(ComponentCollectionEditor,[{key:"init",value:function init(){this.designerHost=this.provider.GetService(I.IDesignerHost),this.component=this.propertyWrapper.Components[0],this.changeService=this.provider.GetService(I.IComponentChangeService),this.collectionItems=this.component[this.collectionName],this.propertyDescriptorWrapperFactory=this.provider.GetService(I.IPropertyDescriptorWrapperFactory),ComponentCollectionEditor_get(ComponentCollectionEditor_getPrototypeOf(ComponentCollectionEditor.prototype),"init",this).call(this)}},{key:"canCreateEditor",value:function canCreateEditor(e){return this.provider.GetService(I.PropertiesArea).CanCreateEditor(e)}},{key:"loadPopUpContent",value:function loadPopUpContent(){var t=this;this.popUp.content(this.popUpContentTemplate),this.designerHost.InTransaction||(this.propertiesTransaction=this.designerHost.CreateTransaction("Edit ".concat(this.propertyWrapper.Name," ").concat(this.id))),this.loadPopUpEditors(),this.popUp.element.off("click",".k-button").on("click",".k-button",function(e){t.executeAction(e,$(e.target))})}},{key:"loadPopUpEditors",value:function loadPopUpEditors(){var t=this,e=this.popUp.element.find(".twd-editors"),r=this.selectedComponent.BrowsablePropertyWrappers,n=!0,o=!1,i=void 0;try{for(var a,s=io.RenderPropertyEditors(e,r,this.provider,function(e){return t.canCreateEditor(e)})[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;this.ChildEditors.push(c)}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}},{key:"initSelectedComponent",value:function initSelectedComponent(e){var t=!0,r=!1,n=void 0;try{for(var o,i=this.collectionItems[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(a[G.Name]===e[G.Name]){this.selectedComponent=a;break}}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"editProperties",value:function editProperties(t){return js(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:this.initSelectedComponent(t),this.popUp||this.openPopUp();case 2:case"end":return e.stop()}},_callee,this)}))}},{key:"saveChanges",value:function saveChanges(){this.propertiesTransaction&&(this.propertiesTransaction.Commit(),this.propertiesTransaction=null),this.itemTransaction&&(this.itemTransaction.Commit(),this.itemTransaction=null),this.closePopUp(),this.component.RaiseComponentChanged(this.propertyWrapper.Property,null,null),this.component.Designer.Redraw(!0,null)}},{key:"closePopUp",value:function closePopUp(){ComponentCollectionEditor_get(ComponentCollectionEditor_getPrototypeOf(ComponentCollectionEditor.prototype),"closePopUp",this).call(this,!1)}},{key:"addItem",value:function addItem(){var e=this,n=Object.create(null,{BeginAddItem:{get:function get(){return ComponentCollectionEditor_get(ComponentCollectionEditor_getPrototypeOf(ComponentCollectionEditor.prototype),"BeginAddItem",e)}},EndAddItem:{get:function get(){return ComponentCollectionEditor_get(ComponentCollectionEditor_getPrototypeOf(ComponentCollectionEditor.prototype),"EndAddItem",e)}}});return js(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return n.BeginAddItem.call(this),e.next=3,this.schemaService.GetDefaultPropertyStore(this.GetNewItemType());case 3:return(t=e.sent)[G.Name]=this.namingService.CreateName(t[G.NetType]),e.next=7,this.component.CreateNonChildComponent(t);case 7:return(r=e.sent)&&(this.component[this.collectionName]instanceof w?this.addCollectionItem(r,t):this.addArrayItem(r,t),n.EndAddItem.call(this),this.collectionItems=this.component[this.collectionName]),e.abrupt("return",r);case 10:case"end":return e.stop()}},_callee2,this)}))}},{key:"GetNewItemType",value:function GetNewItemType(){return this.CollectionItemType}},{key:"addArrayItem",value:function addArrayItem(e,t){this.component[this.collectionName]||(this.component[this.collectionName]=[]),this.component[this.collectionName].push(e),this.properties.push(t)}},{key:"addCollectionItem",value:function addCollectionItem(e){this.component[this.collectionName].Add(e)}},{key:"removeItem",value:function removeItem(e){var t=this.designerHost.CreateTransaction("Delete item'");try{e=e.closest(".k-item");var r=this.kendoList.dataItem(e);this.initSelectedComponent(r);var n=r.get(this.itemIdentifier);this.removeItemCore(e,n),t.Commit(),this.component.RaiseComponentChanged(this.propertyWrapper.Property,null,null)}catch(e){t.Rollback()}this.properties.length<1&&this.destroyList()}},{key:"removeItemCore",value:function removeItemCore(e,t){for(var r=0;r<this.properties.length;r++){if(this.properties[r][this.itemIdentifier]===t){this.namingService.UnregisterName(t);var n=this.component[this.collectionName];n instanceof w?this.removeCollectionItem(r):this.removeArrayItem(r,n),this.kendoList.remove(e),this.collectionItems=this.component[this.collectionName],this.component.Designer.Redraw(!0,null);break}}}},{key:"removeArrayItem",value:function removeArrayItem(e,t){this.properties.splice(e,1),t.splice(e,1)}},{key:"removeCollectionItem",value:function removeCollectionItem(e){this.component[this.collectionName].RemoveAt(e)}},{key:"collectionName",get:function get(){return this.propertyWrapper.Property.Name}},{key:"CollectionItemType",get:function get(){return this.provider.GetService(I.ITypeDescriptorRepository).GetPropertyTypeDescriptor(this.propertyWrapper.Type).GetProperty(G.Item)[G.Type]}}]),ComponentCollectionEditor}();function GroupCollectionEditor_typeof(e){return(GroupCollectionEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GroupCollectionEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GroupCollectionEditor_possibleConstructorReturn(e,t){return!t||"object"!==GroupCollectionEditor_typeof(t)&&"function"!=typeof t?function GroupCollectionEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GroupCollectionEditor_get(e,t,r){return(GroupCollectionEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function GroupCollectionEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=GroupCollectionEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function GroupCollectionEditor_getPrototypeOf(e){return(GroupCollectionEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GroupCollectionEditor_setPrototypeOf(e,t){return(GroupCollectionEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ms=function(){function GroupCollectionEditor(){return function GroupCollectionEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GroupCollectionEditor),GroupCollectionEditor_possibleConstructorReturn(this,GroupCollectionEditor_getPrototypeOf(GroupCollectionEditor).apply(this,arguments))}return function GroupCollectionEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GroupCollectionEditor_setPrototypeOf(e,t)}(GroupCollectionEditor,Bs),function GroupCollectionEditor_createClass(e,t,r){return t&&GroupCollectionEditor_defineProperties(e.prototype,t),r&&GroupCollectionEditor_defineProperties(e,r),e}(GroupCollectionEditor,[{key:"removeArrayItem",value:function removeArrayItem(e,t){t[e].DeleteSections(),GroupCollectionEditor_get(GroupCollectionEditor_getPrototypeOf(GroupCollectionEditor.prototype),"removeArrayItem",this).call(this,e,t)}}]),GroupCollectionEditor}();function IntegerEditor_typeof(e){return(IntegerEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IntegerEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IntegerEditor_possibleConstructorReturn(e,t){return!t||"object"!==IntegerEditor_typeof(t)&&"function"!=typeof t?function IntegerEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function IntegerEditor_getPrototypeOf(e){return(IntegerEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IntegerEditor_setPrototypeOf(e,t){return(IntegerEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var As=function(){function IntegerEditor(){return function IntegerEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IntegerEditor),IntegerEditor_possibleConstructorReturn(this,IntegerEditor_getPrototypeOf(IntegerEditor).apply(this,arguments))}return function IntegerEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IntegerEditor_setPrototypeOf(e,t)}(IntegerEditor,ws),function IntegerEditor_createClass(e,t,r){return t&&IntegerEditor_defineProperties(e.prototype,t),r&&IntegerEditor_defineProperties(e,r),e}(IntegerEditor,[{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -input">\n                <label class="editor__content">\n                    <span class="editor__name" title="').concat(this.LocalizedName,'">\n                        ').concat(this.LocalizedName,'\n                    </span>\n                    <input type="number" step="1" value="').concat(this.propertyWrapper.GetValue(),'" class="k-textbox editor__value" />\n                </label>\n            </div>\n        ')}}]),IntegerEditor}();function SourceModel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ns=function(){function SourceModel(e){!function SourceModel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SourceModel),this.NetType=e.NetType,this.Path=e.Path,this.Value=e.Value}return function SourceModel_createClass(e,t,r){return t&&SourceModel_defineProperties(e.prototype,t),r&&SourceModel_defineProperties(e,r),e}(SourceModel,[{key:"Clear",value:function Clear(){this.NetType=null,this.Path=null,this.Value=null}},{key:"Text",get:function get(){return this.Path||SourceModel.DecodeValue(this.Value)}}],[{key:"EncodeValue",value:function EncodeValue(e){return e?(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\n/g,"\r\n"),btoa(e)):""}},{key:"DecodeValue",value:function DecodeValue(e){return e?kendo.htmlEncode(atob(e)):""}}]),SourceModel}();function JsonSourcePropertyEditor_typeof(e){return(JsonSourcePropertyEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JsonSourcePropertyEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JsonSourcePropertyEditor_possibleConstructorReturn(e,t){return!t||"object"!==JsonSourcePropertyEditor_typeof(t)&&"function"!=typeof t?function JsonSourcePropertyEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function JsonSourcePropertyEditor_get(e,t,r){return(JsonSourcePropertyEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function JsonSourcePropertyEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=JsonSourcePropertyEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function JsonSourcePropertyEditor_getPrototypeOf(e){return(JsonSourcePropertyEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JsonSourcePropertyEditor_setPrototypeOf(e,t){return(JsonSourcePropertyEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Hs=function(){function JsonSourcePropertyEditor(){return function JsonSourcePropertyEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,JsonSourcePropertyEditor),JsonSourcePropertyEditor_possibleConstructorReturn(this,JsonSourcePropertyEditor_getPrototypeOf(JsonSourcePropertyEditor).apply(this,arguments))}return function JsonSourcePropertyEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JsonSourcePropertyEditor_setPrototypeOf(e,t)}(JsonSourcePropertyEditor,ls),function JsonSourcePropertyEditor_createClass(e,t,r){return t&&JsonSourcePropertyEditor_defineProperties(e.prototype,t),r&&JsonSourcePropertyEditor_defineProperties(e,r),e}(JsonSourcePropertyEditor,[{key:"init",value:function init(){JsonSourcePropertyEditor_get(JsonSourcePropertyEditor_getPrototypeOf(JsonSourcePropertyEditor.prototype),"init",this).call(this);var e=[{Id:_.Uri,Text:this.sr.ExternalFile},{Id:_.String,Text:this.sr.InlineData}];this.initDropDown(e)}},{key:"initDropDown",value:function initDropDown(e){var t=this,r=this.sourceModel;this.kendoDropDownList=$("#"+this.id).find(".editor__dropdown").kendoDropDownList({dataSource:e,value:r.NetType,dataTextField:"Text",dataValueField:"Id",popup:{appendTo:$("body")},change:function change(){t.updateValue(t.$inputDomEl.val())},autoWidth:!0}).data("kendoDropDownList"),this.kendoDropDownList&&this.KendoWidgetInstances.push(this.kendoDropDownList)}},{key:"InitEditorValue",value:function InitEditorValue(e){this.sr=this.provider.GetService(I.WebReportDesignerStrings),this.sourceModel=new Ns(e),JsonSourcePropertyEditor_get(JsonSourcePropertyEditor_getPrototypeOf(JsonSourcePropertyEditor.prototype),"InitEditorValue",this).call(this,this.sourceModel.Text)}},{key:"SetValueCore",value:function SetValueCore(e){this.updateSourceModel(e),JsonSourcePropertyEditor_get(JsonSourcePropertyEditor_getPrototypeOf(JsonSourcePropertyEditor.prototype),"SetValueCore",this).call(this,e)}},{key:"UpdatePropertyWrapperValue",value:function UpdatePropertyWrapperValue(e){this.updateSourceModel(e),JsonSourcePropertyEditor_get(JsonSourcePropertyEditor_getPrototypeOf(JsonSourcePropertyEditor.prototype),"UpdatePropertyWrapperValue",this).call(this,this.sourceModel)}},{key:"updateSourceModel",value:function updateSourceModel(e){this.sourceModel.Clear();var t=this.kendoDropDownList.value();(this.sourceModel.NetType=t)===_.Uri?(delete this.sourceModel.Value,this.sourceModel.Path=e):(delete this.sourceModel.Path,this.sourceModel.Value=Ns.EncodeValue(e))}},{key:"openExtendEditMode",value:function openExtendEditMode(){var r=this,e=this.sourceModel.Text;this.extendEditPopUp?this.extendEditPopUp.Open(e,this.popUpTitle):(this.extendEditPopUp=new Dt(this.VisualElement,this.provider),this.extendEditPopUp.Open(e,this.popUpTitle),this.childEditors.push(this.extendEditPopUp),this.VisualElement.on(y.PopUpUpdateValue,function(e,t){r.updateValue(t)}))}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -wrapper">\n                <span class="editor__name -header" title="').concat(this.LocalizedName,'">\n                    ').concat(this.LocalizedName,'\n                </span>\n                <div class="twd-editor -enum">\n                    <label class="editor__content">\n                        <span class="editor__name" title=" ').concat(G.Type,'">\n                             ').concat(G.Type,'\n                        </span>\n                        <input class="editor__dropdown" type="text" />\n                    </label>\n                </div>\n\n                <div class="twd-editor -input">\n                    <label class="editor__content">\n                        <span class="editor__name" title="').concat(this.sr.Data,'">\n                            ').concat(this.sr.Data,'\n                        </span>\n                        <input type="text" value="').concat(this.sourceModel.Text,'" class="k-textbox editor__value" />\n                        <span class="editor__edit">\n                            <span class="k-icon k-i-more-horizontal"></span>\n                        </span>\n                    </label>\n                </div>\n            </div>\n        ')}},{key:"popUpTitle",get:function get(){return"".concat(this.LocalizedName," ").concat(this.sr.Data)}},{key:"Value",get:function get(){return this.sourceModel.Text}}]),JsonSourcePropertyEditor}();function LineEditor_typeof(e){return(LineEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LineEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LineEditor_possibleConstructorReturn(e,t){return!t||"object"!==LineEditor_typeof(t)&&"function"!=typeof t?function LineEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function LineEditor_get(e,t,r){return(LineEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function LineEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=LineEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function LineEditor_getPrototypeOf(e){return(LineEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LineEditor_setPrototypeOf(e,t){return(LineEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ls=function(){function LineEditor(){return function LineEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LineEditor),LineEditor_possibleConstructorReturn(this,LineEditor_getPrototypeOf(LineEditor).apply(this,arguments))}return function LineEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LineEditor_setPrototypeOf(e,t)}(LineEditor,Qa),function LineEditor_createClass(e,t,r){return t&&LineEditor_defineProperties(e.prototype,t),r&&LineEditor_defineProperties(e,r),e}(LineEditor,[{key:"init",value:function init(){LineEditor_get(LineEditor_getPrototypeOf(LineEditor.prototype),"init",this).call(this)}},{key:"propertiesOrder",get:function get(){return Ka.Line}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -wrapper">\n                ').concat(this.nameTemplate(this.str.Line),"\n            </div>\n        ")}}]),LineEditor}();function EditorUtils_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Vs=function(){function EditorUtils(){!function EditorUtils_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EditorUtils)}return function EditorUtils_createClass(e,t,r){return t&&EditorUtils_defineProperties(e.prototype,t),r&&EditorUtils_defineProperties(e,r),e}(EditorUtils,null,[{key:"IncreaseDecreaseNumber",value:function IncreaseDecreaseNumber(e,t,r,n,o){var i=2<arguments.length&&void 0!==r?r:1,a=3<arguments.length&&void 0!==n?n:-1e4,s=4<arguments.length&&void 0!==o?o:1e4;switch(e.keyCode||e.which){case 38:t<s&&(t=parseFloat(t)+i);break;case 40:a<t&&(t=parseFloat(t)-i)}return t}}]),EditorUtils}();function UnitEditor_typeof(e){return(UnitEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UnitEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UnitEditor_possibleConstructorReturn(e,t){return!t||"object"!==UnitEditor_typeof(t)&&"function"!=typeof t?function UnitEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function UnitEditor_get(e,t,r){return(UnitEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function UnitEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=UnitEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function UnitEditor_getPrototypeOf(e){return(UnitEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UnitEditor_setPrototypeOf(e,t){return(UnitEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ws=function(){function UnitEditor(){return function UnitEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UnitEditor),UnitEditor_possibleConstructorReturn(this,UnitEditor_getPrototypeOf(UnitEditor).apply(this,arguments))}return function UnitEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UnitEditor_setPrototypeOf(e,t)}(UnitEditor,Xa),function UnitEditor_createClass(e,t,r){return t&&UnitEditor_defineProperties(e.prototype,t),r&&UnitEditor_defineProperties(e,r),e}(UnitEditor,[{key:"init",value:function init(){this.initModel(),this.unitTypes=this.getUnitTypes(),UnitEditor_get(UnitEditor_getPrototypeOf(UnitEditor.prototype),"init",this).call(this),this.initDropDown(),this.initEventListener([new Qpa("keydown",".editor__value","changeValue"),new Qpa("keyup",".editor__value","setValue"),new Qpa("input",".editor__value","validateValue")]),this.$inputDomEl=this.$visualElement.find(".editor__value")}},{key:"initModel",value:function initModel(){var e=this.GetPropertyWrapperValue();this.unit=j.Parse(e),this.minOpacity=-1e5,this.maxOpacity=1e5}},{key:"initDropDown",value:function initDropDown(){var r=this;this.kendoWidget=this.$visualElement.find(".units").kendoDropDownList({dataSource:{data:this.unitTypes},change:function change(){var e=this.value(),t=r.unit.ToUnit(e);r.unit=t,r.UpdatePropertyWrapperValue(t.ToString()),r.updateInputValue(t.GetFixedValue())},value:this.unit.Type,dataTextField:"Description",dataValueField:"Description",popup:{appendTo:$("body")},autoWidth:!0}).data("kendoDropDownList"),this.kendoWidgetInstances.push(this.kendoWidget)}},{key:"kendoWidget",value:function kendoWidget(){throw new Error("Method not implemented.")}},{key:"changeValue",value:function changeValue(e,t){var r=Vs.IncreaseDecreaseNumber(e,t.val(),1,this.minOpacity,this.maxOpacity);t.val(r)}},{key:"setValue",value:function setValue(e,t){var r=t.val()+this.unit.Type;this.UpdatePropertyWrapperValue(r)}},{key:"validateValue",value:function validateValue(e,t){var r=parseFloat(t.val().toString());isNaN(r)&&t.val(0)}},{key:"RefreshOverride",value:function RefreshOverride(){var e=this.unit.Value;this.initModel(),e!==this.unit.Value&&(this.updateInputValue(this.unit.Value),this.kendoWidget.value(this.unit.Type))}},{key:"updateInputValue",value:function updateInputValue(e){this.$inputDomEl.val(e)}},{key:"getUnitTypes",value:function getUnitTypes(){return this.provider.GetService(I.ITypeDescriptorRepository).GetPropertyTypeDescriptor("UnitType").GetEnumValues()}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -unit">\n                <label class="editor__content">\n                    <span class="editor__name" title="').concat(this.LocalizedName,'">\n                        ').concat(this.LocalizedName,'\n                    </span>\n                    <div>\n                        <input class="editor__value k-textbox" type="text" value="').concat(this.unit.Value,'"/>\n                        <input class="editor__dropdown units" type="text" />\n                    </div>\n                </label>\n            </div>\n        ')}}]),UnitEditor}();function UnitPairEditor_typeof(e){return(UnitPairEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UnitPairEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UnitPairEditor_possibleConstructorReturn(e,t){return!t||"object"!==UnitPairEditor_typeof(t)&&"function"!=typeof t?function UnitPairEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function UnitPairEditor_getPrototypeOf(e){return(UnitPairEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UnitPairEditor_setPrototypeOf(e,t){return(UnitPairEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var zs=function(){function UnitPairEditor(e,t,r){return function UnitPairEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UnitPairEditor),UnitPairEditor_possibleConstructorReturn(this,UnitPairEditor_getPrototypeOf(UnitPairEditor).call(this,e,t,r))}return function UnitPairEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UnitPairEditor_setPrototypeOf(e,t)}(UnitPairEditor,Qa),function UnitPairEditor_createClass(e,t,r){return t&&UnitPairEditor_defineProperties(e.prototype,t),r&&UnitPairEditor_defineProperties(e,r),e}(UnitPairEditor,[{key:"getPropertyWrappers",value:function getPropertyWrappers(){var e=null;return(e=Array.isArray(this.propertyWrappers)?this.propertyWrappers[0]:this.propertyWrappers).ParentWrapper?e.ParentWrapper.GetChildProperties():this.provider.GetService(I.IPropertyDescriptorWrapperFactory).CreateMergeableWrappers(e.Components)}},{key:"initEditorsByOrder",value:function initEditorsByOrder(){var e=this.$visualElement.find(".editor__content"),t=this.PairPropertyNames[0],r=this.PairPropertyNames[1],n=null,o=null,i=!0,a=!1,s=void 0;try{for(var c,u=this.getPropertyWrappers()[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value;if(n||l.Name!==t||(n=l),o||l.Name!==r||(o=l),n&&o)break}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}n&&o?(this.ChildEditors.push(new Ws(e,n,this.provider)),this.ChildEditors.push(new Ws(e,o,this.provider))):(this.VisualElement.hide(),window.TelerikWebReportDesignerDebugMode&&p.LogError("DEBUG: Cannot create UnitEditor of type ".concat(this.LocalizedName," because one of its required properties was not found. Property1: ").concat(null==n?n:n.Name,", Property2: ").concat(null==o?o:o.Name,".")))}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -pair">\n                <span class="editor__name -header" title="').concat(this.LocalizedName,'">').concat(this.LocalizedName,'</span>\n                <div class="editor__content"> \n                </div>\n            </div>\n        ')}},{key:"PairPropertyNames",get:function get(){throw new Error("Property not implemented")}}]),UnitPairEditor}();function LocationEditor_typeof(e){return(LocationEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LocationEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LocationEditor_possibleConstructorReturn(e,t){return!t||"object"!==LocationEditor_typeof(t)&&"function"!=typeof t?function LocationEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function LocationEditor_getPrototypeOf(e){return(LocationEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LocationEditor_setPrototypeOf(e,t){return(LocationEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Fs=function(){function LocationEditor(){return function LocationEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LocationEditor),LocationEditor_possibleConstructorReturn(this,LocationEditor_getPrototypeOf(LocationEditor).apply(this,arguments))}return function LocationEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LocationEditor_setPrototypeOf(e,t)}(LocationEditor,zs),function LocationEditor_createClass(e,t,r){return t&&LocationEditor_defineProperties(e.prototype,t),r&&LocationEditor_defineProperties(e,r),e}(LocationEditor,[{key:"LocalizedName",get:function get(){return this.StringResources.Location}},{key:"PairPropertyNames",get:function get(){return Ka.Location}}]),LocationEditor}();function InstanceTypesEditorBase_typeof(e){return(InstanceTypesEditorBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function InstanceTypesEditorBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function InstanceTypesEditorBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function InstanceTypesEditorBase_possibleConstructorReturn(e,t){return!t||"object"!==InstanceTypesEditorBase_typeof(t)&&"function"!=typeof t?function InstanceTypesEditorBase_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function InstanceTypesEditorBase_get(e,t,r){return(InstanceTypesEditorBase_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function InstanceTypesEditorBase_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=InstanceTypesEditorBase_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function InstanceTypesEditorBase_getPrototypeOf(e){return(InstanceTypesEditorBase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function InstanceTypesEditorBase_setPrototypeOf(e,t){return(InstanceTypesEditorBase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Us=function(){function InstanceTypesEditorBase(){return InstanceTypesEditorBase_classCallCheck(this,InstanceTypesEditorBase),InstanceTypesEditorBase_possibleConstructorReturn(this,InstanceTypesEditorBase_getPrototypeOf(InstanceTypesEditorBase).apply(this,arguments))}return function InstanceTypesEditorBase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&InstanceTypesEditorBase_setPrototypeOf(e,t)}(InstanceTypesEditorBase,ds),function InstanceTypesEditorBase_createClass(e,t,r){return t&&InstanceTypesEditorBase_defineProperties(e.prototype,t),r&&InstanceTypesEditorBase_defineProperties(e,r),e}(InstanceTypesEditorBase,[{key:"init",value:function init(){this.sr=this.provider.GetService(I.WebReportDesignerStrings),InstanceTypesEditorBase_get(InstanceTypesEditorBase_getPrototypeOf(InstanceTypesEditorBase.prototype),"init",this).call(this),this.initDropDown(this.GetInstanceTypes()),this.initEditors(this.GetChildProperties()),this.Expanded=!1}},{key:"GetInstanceTypes",value:function GetInstanceTypes(){return this.propertyWrapper.Property.InstanceTypes.map(function(e){return new $s(e,e)})}},{key:"initDropDown",value:function initDropDown(e){var t=this,r=this.GetPropertyType();this.kendoDropDownList=this.instanceTypesEditorVisualElement.find(".editor__dropdown").kendoDropDownList({dataSource:e,value:r,dataValueField:"Value",dataTextField:"Text",optionLabel:this.StringResources.ChooseAnOption,popup:{appendTo:$("body")},change:function change(){t.changeInstanceType()},autoWidth:!0}).data("kendoDropDownList"),this.kendoDropDownList&&this.KendoWidgetInstances.push(this.kendoDropDownList)}},{key:"GetPropertyType",value:function GetPropertyType(){var e=this.GetPropertyWrapperValue();return e?e[G.NetType]:null}},{key:"changeInstanceType",value:function changeInstanceType(){this.initEditors(this.getInstanceTypeProperties())}},{key:"getInstanceTypeProperties",value:function getInstanceTypeProperties(){var t=this,e=this.InstanceTypeName;if(!e)return this.resetValue(),[];var r=this.provider.GetService(I.ITypeDescriptorRepository).GetPropertyTypeDescriptor(e);r||p.LogError("Cannot resolve type descriptor for instance type '".concat(e,"'"));var n=this.createTypeInstance(r);return this.UpdatePropertyWrapperValue(n),r.GetProperties().map(function(e){return new $o(t.propertyWrapper.Components,[n],e,null)})}},{key:"createTypeInstance",value:function createTypeInstance(e){var t={};t[G.NetType]=e.TypeName;var r=!0,n=!1,o=void 0;try{for(var i,a=e.GetProperties().filter(function(e){return e.Browsable})[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;t[s.Name]=s.DefaultValue}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}},{key:"GetChildProperties",value:function GetChildProperties(){return this.InstanceTypeName?InstanceTypesEditorBase_get(InstanceTypesEditorBase_getPrototypeOf(InstanceTypesEditorBase.prototype),"GetChildProperties",this).call(this):[]}},{key:"initEditors",value:function initEditors(e){InstanceTypesEditorBase_get(InstanceTypesEditorBase_getPrototypeOf(InstanceTypesEditorBase.prototype),"CollapseChildEditors",this).call(this),this.PopulateChildEditors(e.filter(function(e){return e.Browsable}))}},{key:"ExpandChildEditors",value:function ExpandChildEditors(){InstanceTypesEditorBase_get(InstanceTypesEditorBase_getPrototypeOf(InstanceTypesEditorBase.prototype),"ExpandChildEditors",this).call(this),this.instanceTypesEditorVisualElement.show()}},{key:"CollapseChildEditors",value:function CollapseChildEditors(){this.instanceTypesEditorVisualElement.hide(),InstanceTypesEditorBase_get(InstanceTypesEditorBase_getPrototypeOf(InstanceTypesEditorBase.prototype),"CollapseChildEditors",this).call(this)}},{key:"resetToDefaultValue",value:function resetToDefaultValue(){}},{key:"DescendantsTemplate",get:function get(){return'\n                <div class="twd-editor -enum" id="'.concat(this.id,'__instanceTypesEditor">\n                    <label class="editor__content">\n                        <span class="editor__name" title="').concat(G.Type,'">\n                            ').concat(G.Type,'\n                        </span>\n                        <input class="editor__dropdown" type="text" />\n                    </label>\n                </div>\n        ')}},{key:"instanceTypesEditorVisualElement",get:function get(){return $("#"+this.id+"__instanceTypesEditor")}},{key:"InstanceTypeName",get:function get(){return this.kendoDropDownList?this.kendoDropDownList.value():null}}]),InstanceTypesEditorBase}(),$s=function InstanceTypeModel(e,t){InstanceTypesEditorBase_classCallCheck(this,InstanceTypeModel),this.Value=e,this.Text=t};function LocationProviderEditor_typeof(e){return(LocationProviderEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LocationProviderEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LocationProviderEditor_possibleConstructorReturn(e,t){return!t||"object"!==LocationProviderEditor_typeof(t)&&"function"!=typeof t?function LocationProviderEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function LocationProviderEditor_getPrototypeOf(e){return(LocationProviderEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LocationProviderEditor_setPrototypeOf(e,t){return(LocationProviderEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var qs=function(){function LocationProviderEditor(){return function LocationProviderEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LocationProviderEditor),LocationProviderEditor_possibleConstructorReturn(this,LocationProviderEditor_getPrototypeOf(LocationProviderEditor).apply(this,arguments))}return function LocationProviderEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LocationProviderEditor_setPrototypeOf(e,t)}(LocationProviderEditor,Us),function LocationProviderEditor_createClass(e,t,r){return t&&LocationProviderEditor_defineProperties(e.prototype,t),r&&LocationProviderEditor_defineProperties(e,r),e}(LocationProviderEditor,[{key:"GetInstanceTypes",value:function GetInstanceTypes(){return this.propertyWrapper.Property.InstanceTypes.map(function(e){return new $s(e,e.replace("LocationProvider",""))})}}]),LocationProviderEditor}();function PaddingSideEditor_typeof(e){return(PaddingSideEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PaddingSideEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PaddingSideEditor_possibleConstructorReturn(e,t){return!t||"object"!==PaddingSideEditor_typeof(t)&&"function"!=typeof t?function PaddingSideEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PaddingSideEditor_get(e,t,r){return(PaddingSideEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function PaddingSideEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PaddingSideEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function PaddingSideEditor_getPrototypeOf(e){return(PaddingSideEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PaddingSideEditor_setPrototypeOf(e,t){return(PaddingSideEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Js=function(){function PaddingSideEditor(){return function PaddingSideEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PaddingSideEditor),PaddingSideEditor_possibleConstructorReturn(this,PaddingSideEditor_getPrototypeOf(PaddingSideEditor).apply(this,arguments))}return function PaddingSideEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PaddingSideEditor_setPrototypeOf(e,t)}(PaddingSideEditor,Xa),function PaddingSideEditor_createClass(e,t,r){return t&&PaddingSideEditor_defineProperties(e.prototype,t),r&&PaddingSideEditor_defineProperties(e,r),e}(PaddingSideEditor,[{key:"SetUnitType",value:function SetUnitType(e){if(this.unit.Type!==e){var t=this.unit.ToUnit(e);this.unit=t,this.$inputDomEl.val(this.unit.Value).attr("title",this.unit.Value),this.propertyWrapper.SetValue(this.unit.ToString())}}},{key:"UpdateUnitType",value:function UpdateUnitType(e,t){var r=this.unit.ToUnit(t);this.unit=r,this.$inputDomEl.val(this.unit.Value).attr("title",this.unit.Value),this.setValue(e,this.$inputDomEl)}},{key:"init",value:function init(){this.value=this.propertyWrapper.GetValue(),this.unit=j.Parse(this.value),this.unitType=this.unit.Type,this.minValue=0,PaddingSideEditor_get(PaddingSideEditor_getPrototypeOf(PaddingSideEditor.prototype),"init",this).call(this),this.applySet(),this.initEventListener([new Qpa("input",".editor__value","setValue"),new Qpa("keydown",".editor__value","increaseDecreaseNumber"),new Qpa("blur",".editor__value","checkValue")]),this.$inputDomEl=this.$visualElement.find(".editor__value")}},{key:"applySet",value:function applySet(){var e=this.propertyWrapper.ShouldSerializeValue();this.VisualElement.toggleClass("-set",e)}},{key:"setValue",value:function setValue(e,t){var r=parseFloat(t.val().toString());isNaN(r)?t.val(this.unit.Value):(this.unit.Value=r,this.propertyWrapper.SetValue(this.unit.ToString()))}},{key:"increaseDecreaseNumber",value:function increaseDecreaseNumber(e,t){var r=Vs.IncreaseDecreaseNumber(e,t.val());t.val(r),this.setValue(e,t)}},{key:"checkValue",value:function checkValue(e,t){0===t.val().toString().length&&(t.val(this.minValue),this.setValue(e,t))}},{key:"RefreshOverride",value:function RefreshOverride(){this.unit=j.Parse(this.propertyWrapper.GetValue()),this.$inputDomEl.val(this.unit.Value).attr("title",this.unit.Value),this.applySet()}},{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -padding-side -').concat(this.propertyWrapper.Name.toLowerCase(),'">\n                <label class="editor__content k-textbox">\n                    <div class="k-state-selected k-badge"></div>\n                    <input tabindex="0" title="').concat(this.unit.Value,'" type="text" value="').concat(this.unit.Value,'" class="editor__value" />\n                </label>\n            </div>\n        ')}}]),PaddingSideEditor}();function PaddingEditor_typeof(e){return(PaddingEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PaddingEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PaddingEditor_possibleConstructorReturn(e,t){return!t||"object"!==PaddingEditor_typeof(t)&&"function"!=typeof t?function PaddingEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PaddingEditor_get(e,t,r){return(PaddingEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function PaddingEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PaddingEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function PaddingEditor_getPrototypeOf(e){return(PaddingEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PaddingEditor_setPrototypeOf(e,t){return(PaddingEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ks=function(){function PaddingEditor(){return function PaddingEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PaddingEditor),PaddingEditor_possibleConstructorReturn(this,PaddingEditor_getPrototypeOf(PaddingEditor).apply(this,arguments))}return function PaddingEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PaddingEditor_setPrototypeOf(e,t)}(PaddingEditor,Xa),function PaddingEditor_createClass(e,t,r){return t&&PaddingEditor_defineProperties(e.prototype,t),r&&PaddingEditor_defineProperties(e,r),e}(PaddingEditor,[{key:"init",value:function init(){PaddingEditor_get(PaddingEditor_getPrototypeOf(PaddingEditor.prototype),"init",this).call(this),this.content=this.$visualElement.find(".editor__content"),this.children=this.childProperties;var e=this.children[0].GetValue();this.unitTypes=this.getUnitTypes(),this.unit=j.Parse(e);var t=!0,r=!1,n=void 0;try{for(var o,i=this.children[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=new Js(this.content,a,this.provider);s.SetUnitType(this.unit.Type),this.ChildEditors.push(s)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}this.initUnit()}},{key:"initUnit",value:function initUnit(){var n=this;this.content.append(this.unitTemplate),this.content.find(".editor__dropdown").kendoDropDownList({autoWidth:!0,dataSource:{data:this.unitTypes},change:function change(e){var t=this.value(),r=n.unit.ToUnit(t);n.unit=r,n.updateValues(e)},value:this.unit.Type,dataTextField:"Description",dataValueField:"Description",popup:{appendTo:$("body")}})}},{key:"updateValues",value:function updateValues(t){var r=this;this.ChildEditors.forEach(function(e){return e.UpdateUnitType(t,r.unit.Type)})}},{key:"getUnitTypes",value:function getUnitTypes(){return this.provider.GetService(I.ITypeDescriptorRepository).GetPropertyTypeDescriptor("UnitType").GetEnumValues()}},{key:"RefreshOverride",value:function RefreshOverride(){this.ChildEditors.forEach(function(e){return e.RefreshOverride()})}},{key:"template",get:function get(){return'\n        <div id="'.concat(this.id,'" class="twd-editor -padding -wrapper">\n            <span class="editor__name -header" title="').concat(this.str.Padding,'">\n                ').concat(this.str.Padding,' \n            </span>\n            <div class="editor__content"></div>\n        </div>\n    ')}},{key:"unitTemplate",get:function get(){return'<input class="editor__dropdown units" type="text" />'}},{key:"propertiesOrder",get:function get(){return Ka.Padding}},{key:"childProperties",get:function get(){var e=this.propertyWrapper.GetChildProperties(),t=[],r=!0,n=!1,o=void 0;try{for(var i,a=this.propertiesOrder[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value,c=!0,u=!1,l=void 0;try{for(var p,f=e[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var d=p.value;if(d.Name===s){t.push(d);break}}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}]),PaddingEditor}();function MarginsEditor_typeof(e){return(MarginsEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MarginsEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MarginsEditor_possibleConstructorReturn(e,t){return!t||"object"!==MarginsEditor_typeof(t)&&"function"!=typeof t?function MarginsEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function MarginsEditor_getPrototypeOf(e){return(MarginsEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MarginsEditor_setPrototypeOf(e,t){return(MarginsEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Qs=function(){function MarginsEditor(){return function MarginsEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MarginsEditor),MarginsEditor_possibleConstructorReturn(this,MarginsEditor_getPrototypeOf(MarginsEditor).apply(this,arguments))}return function MarginsEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MarginsEditor_setPrototypeOf(e,t)}(MarginsEditor,Ks),function MarginsEditor_createClass(e,t,r){return t&&MarginsEditor_defineProperties(e.prototype,t),r&&MarginsEditor_defineProperties(e,r),e}(MarginsEditor,[{key:"template",get:function get(){return'\n        <div id="'.concat(this.id,'" class="twd-editor -padding">\n            <span class="editor__name" title="').concat(this.str.Margins,'">\n                ').concat(this.str.Margins,' \n            </span>\n            <div class="editor__content"></div>\n        </div>\n    ')}}]),MarginsEditor}();function CompoundPropertyUnitEditor_typeof(e){return(CompoundPropertyUnitEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CompoundPropertyUnitEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CompoundPropertyUnitEditor_possibleConstructorReturn(e,t){return!t||"object"!==CompoundPropertyUnitEditor_typeof(t)&&"function"!=typeof t?function CompoundPropertyUnitEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CompoundPropertyUnitEditor_get(e,t,r){return(CompoundPropertyUnitEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CompoundPropertyUnitEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CompoundPropertyUnitEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CompoundPropertyUnitEditor_getPrototypeOf(e){return(CompoundPropertyUnitEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CompoundPropertyUnitEditor_setPrototypeOf(e,t){return(CompoundPropertyUnitEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Zs=function(){function CompoundPropertyUnitEditor(){return function CompoundPropertyUnitEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CompoundPropertyUnitEditor),CompoundPropertyUnitEditor_possibleConstructorReturn(this,CompoundPropertyUnitEditor_getPrototypeOf(CompoundPropertyUnitEditor).apply(this,arguments))}return function CompoundPropertyUnitEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CompoundPropertyUnitEditor_setPrototypeOf(e,t)}(CompoundPropertyUnitEditor,Ws),function CompoundPropertyUnitEditor_createClass(e,t,r){return t&&CompoundPropertyUnitEditor_defineProperties(e.prototype,t),r&&CompoundPropertyUnitEditor_defineProperties(e,r),e}(CompoundPropertyUnitEditor,[{key:"init",value:function init(){var e=this.provider.GetService(I.ISchemaService);this.separator="".concat(e.CultureContext.listSeparator," "),CompoundPropertyUnitEditor_get(CompoundPropertyUnitEditor_getPrototypeOf(CompoundPropertyUnitEditor.prototype),"init",this).call(this)}},{key:"GetPropertyWrapperValue",value:function GetPropertyWrapperValue(){var e=CompoundPropertyUnitEditor_get(CompoundPropertyUnitEditor_getPrototypeOf(CompoundPropertyUnitEditor.prototype),"GetPropertyWrapperValue",this).call(this);if(e&&""!==e){var t=e.split(this.separator);if(this.Index>=t.length)throw new Error('Index out of bounds for index "'.concat(this.Index,'" in value "').concat(e,"."));return t[this.Index]}return j.Zero}},{key:"UpdatePropertyWrapperValue",value:function UpdatePropertyWrapperValue(e){var t=CompoundPropertyUnitEditor_get(CompoundPropertyUnitEditor_getPrototypeOf(CompoundPropertyUnitEditor.prototype),"GetPropertyWrapperValue",this).call(this);t&&""!==t||(t="0px".concat(this.separator,"0px"));var r=t.split(this.separator);if(this.Index>=r.length)throw new Error('Index out of bounds for index "'.concat(this.Index,'" in value "').concat(t,"."));r[this.Index]=e,CompoundPropertyUnitEditor_get(CompoundPropertyUnitEditor_getPrototypeOf(CompoundPropertyUnitEditor.prototype),"UpdatePropertyWrapperValue",this).call(this,r.join(this.separator))}}]),CompoundPropertyUnitEditor}();function CombinedHeightEditor_typeof(e){return(CombinedHeightEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CombinedHeightEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CombinedHeightEditor_possibleConstructorReturn(e,t){return!t||"object"!==CombinedHeightEditor_typeof(t)&&"function"!=typeof t?function CombinedHeightEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CombinedHeightEditor_getPrototypeOf(e){return(CombinedHeightEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CombinedHeightEditor_setPrototypeOf(e,t){return(CombinedHeightEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Xs=function(){function CombinedHeightEditor(){return function CombinedHeightEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CombinedHeightEditor),CombinedHeightEditor_possibleConstructorReturn(this,CombinedHeightEditor_getPrototypeOf(CombinedHeightEditor).apply(this,arguments))}return function CombinedHeightEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CombinedHeightEditor_setPrototypeOf(e,t)}(CombinedHeightEditor,Zs),function CombinedHeightEditor_createClass(e,t,r){return t&&CombinedHeightEditor_defineProperties(e.prototype,t),r&&CombinedHeightEditor_defineProperties(e,r),e}(CombinedHeightEditor,[{key:"LocalizedName",get:function get(){return this.StringResources.Height}},{key:"Index",get:function get(){return 1}}]),CombinedHeightEditor}();function CombinedWidthEditor_typeof(e){return(CombinedWidthEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CombinedWidthEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CombinedWidthEditor_possibleConstructorReturn(e,t){return!t||"object"!==CombinedWidthEditor_typeof(t)&&"function"!=typeof t?function CombinedWidthEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CombinedWidthEditor_getPrototypeOf(e){return(CombinedWidthEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CombinedWidthEditor_setPrototypeOf(e,t){return(CombinedWidthEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ys=function(){function CombinedWidthEditor(){return function CombinedWidthEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CombinedWidthEditor),CombinedWidthEditor_possibleConstructorReturn(this,CombinedWidthEditor_getPrototypeOf(CombinedWidthEditor).apply(this,arguments))}return function CombinedWidthEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CombinedWidthEditor_setPrototypeOf(e,t)}(CombinedWidthEditor,Zs),function CombinedWidthEditor_createClass(e,t,r){return t&&CombinedWidthEditor_defineProperties(e.prototype,t),r&&CombinedWidthEditor_defineProperties(e,r),e}(CombinedWidthEditor,[{key:"LocalizedName",get:function get(){return this.StringResources.Width}},{key:"Index",get:function get(){return 0}}]),CombinedWidthEditor}();function CompoundPropertyUnitPairEditor_typeof(e){return(CompoundPropertyUnitPairEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CompoundPropertyUnitPairEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CompoundPropertyUnitPairEditor_possibleConstructorReturn(e,t){return!t||"object"!==CompoundPropertyUnitPairEditor_typeof(t)&&"function"!=typeof t?function CompoundPropertyUnitPairEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CompoundPropertyUnitPairEditor_getPrototypeOf(e){return(CompoundPropertyUnitPairEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CompoundPropertyUnitPairEditor_setPrototypeOf(e,t){return(CompoundPropertyUnitPairEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ec=function(){function CompoundPropertyUnitPairEditor(){return function CompoundPropertyUnitPairEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CompoundPropertyUnitPairEditor),CompoundPropertyUnitPairEditor_possibleConstructorReturn(this,CompoundPropertyUnitPairEditor_getPrototypeOf(CompoundPropertyUnitPairEditor).apply(this,arguments))}return function CompoundPropertyUnitPairEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CompoundPropertyUnitPairEditor_setPrototypeOf(e,t)}(CompoundPropertyUnitPairEditor,zs),function CompoundPropertyUnitPairEditor_createClass(e,t,r){return t&&CompoundPropertyUnitPairEditor_defineProperties(e.prototype,t),r&&CompoundPropertyUnitPairEditor_defineProperties(e,r),e}(CompoundPropertyUnitPairEditor,[{key:"initEditorsByOrder",value:function initEditorsByOrder(){if(Array.isArray(this.propertyWrappers))throw new Error("SizeU editor must be initialized with a single propertyWrapper rather than array.");this.propertyWrapper=this.propertyWrappers,this.$visualContent=this.VisualElement.find(".editor__content"),this.widthEditor=new Ys(this.$visualContent,this.propertyWrapper,this.provider),this.heightEditor=new Xs(this.$visualContent,this.propertyWrapper,this.provider),this.ChildEditors.push(this.widthEditor,this.heightEditor)}},{key:"UpdateStateUI",value:function UpdateStateUI(){var t=(this.State&this.States.Disabled)==this.States.Disabled,e=(this.State&this.States.ReadOnly)==this.States.ReadOnly,r=this.$visualContent.find(":input.editor__value");r.length&&(r.prop("disabled",t),r.prop("readonly",e)),this.widthEditor.KendoWidgetInstances.forEach(function(e){return e.enable(!t)}),this.heightEditor.KendoWidgetInstances.forEach(function(e){return e.enable(!t)})}}]),CompoundPropertyUnitPairEditor}();function PaperSizeEditor_typeof(e){return(PaperSizeEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PaperSizeEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PaperSizeEditor_possibleConstructorReturn(e,t){return!t||"object"!==PaperSizeEditor_typeof(t)&&"function"!=typeof t?function PaperSizeEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PaperSizeEditor_get(e,t,r){return(PaperSizeEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function PaperSizeEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PaperSizeEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function PaperSizeEditor_getPrototypeOf(e){return(PaperSizeEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PaperSizeEditor_setPrototypeOf(e,t){return(PaperSizeEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var tc=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},rc=function(){function PaperSizeEditor(){return function PaperSizeEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PaperSizeEditor),PaperSizeEditor_possibleConstructorReturn(this,PaperSizeEditor_getPrototypeOf(PaperSizeEditor).apply(this,arguments))}return function PaperSizeEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PaperSizeEditor_setPrototypeOf(e,t)}(PaperSizeEditor,ec),function PaperSizeEditor_createClass(e,t,r){return t&&PaperSizeEditor_defineProperties(e.prototype,t),r&&PaperSizeEditor_defineProperties(e,r),e}(PaperSizeEditor,[{key:"initEditorsByOrder",value:function initEditorsByOrder(){PaperSizeEditor_get(PaperSizeEditor_getPrototypeOf(PaperSizeEditor.prototype),"initEditorsByOrder",this).call(this)}},{key:"UpdateEditorUI",value:function UpdateEditorUI(e){var t="custom"===e.toLowerCase();(this.Enabled=t)||this.setUnitEditorsValue(e)}},{key:"setUnitEditorsValue",value:function setUnitEditorsValue(o){return tc(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.ISchemaService),e.next=3,t.GetPaperSize(o);case 3:(r=e.sent)&&(n="".concat(r.Width).concat(t.CultureContext.listSeparator," ").concat(r.Height),this.propertyWrapper.SetValue(n),this.RefreshOverride());case 5:case"end":return e.stop()}},_callee,this)}))}},{key:"LocalizedName",get:function get(){return this.StringResources.PaperSize}}]),PaperSizeEditor}();function PageSettingsEditor_typeof(e){return(PageSettingsEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PageSettingsEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PageSettingsEditor_possibleConstructorReturn(e,t){return!t||"object"!==PageSettingsEditor_typeof(t)&&"function"!=typeof t?function PageSettingsEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PageSettingsEditor_get(e,t,r){return(PageSettingsEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function PageSettingsEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PageSettingsEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function PageSettingsEditor_getPrototypeOf(e){return(PageSettingsEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PageSettingsEditor_setPrototypeOf(e,t){return(PageSettingsEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var nc=function(){function PageSettingsEditor(e,t,r){var n;return function PageSettingsEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PageSettingsEditor),(n=PageSettingsEditor_possibleConstructorReturn(this,PageSettingsEditor_getPrototypeOf(PageSettingsEditor).call(this,e,t,r))).nonAllowedEditors=[G.BorderStyle,G.BorderWidth,G.BorderColor],n}return function PageSettingsEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PageSettingsEditor_setPrototypeOf(e,t)}(PageSettingsEditor,ds),function PageSettingsEditor_createClass(e,t,r){return t&&PageSettingsEditor_defineProperties(e.prototype,t),r&&PageSettingsEditor_defineProperties(e,r),e}(PageSettingsEditor,[{key:"ExpandChildEditors",value:function ExpandChildEditors(){PageSettingsEditor_get(PageSettingsEditor_getPrototypeOf(PageSettingsEditor.prototype),"ExpandChildEditors",this).call(this),this.addBorderEditor();var e=this.propertyWrapper.Components.find(function(e){return e instanceof ye});if(e){var t=e.GetPropertyValue(G.PageSettings,G.PaperKind);this.UpdatePaperSizeEditorUI(t)}}},{key:"addBorderEditor",value:function addBorderEditor(){var e=new(this.provider.GetService(I.ISchemaService).GetEditorType(G.Border))(this.$visualElement,this.propertyWrapper.GetChildProperties(),this.provider);this.ChildEditors.push(e)}},{key:"CanCreateEditor",value:function CanCreateEditor(e){return!this.nonAllowedEditors.includes(e.Name)}},{key:"UpdatePaperSizeEditorUI",value:function UpdatePaperSizeEditorUI(e){var t=this.ChildEditors.find(function(e){return e instanceof rc});t&&t.UpdateEditorUI(e)}}]),PageSettingsEditor}();function PaperKindEditor_typeof(e){return(PaperKindEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PaperKindEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PaperKindEditor_possibleConstructorReturn(e,t){return!t||"object"!==PaperKindEditor_typeof(t)&&"function"!=typeof t?function PaperKindEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PaperKindEditor_get(e,t,r){return(PaperKindEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function PaperKindEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PaperKindEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function PaperKindEditor_getPrototypeOf(e){return(PaperKindEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PaperKindEditor_setPrototypeOf(e,t){return(PaperKindEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var oc=function(){function PaperKindEditor(){return function PaperKindEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PaperKindEditor),PaperKindEditor_possibleConstructorReturn(this,PaperKindEditor_getPrototypeOf(PaperKindEditor).apply(this,arguments))}return function PaperKindEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PaperKindEditor_setPrototypeOf(e,t)}(PaperKindEditor,Es),function PaperKindEditor_createClass(e,t,r){return t&&PaperKindEditor_defineProperties(e.prototype,t),r&&PaperKindEditor_defineProperties(e,r),e}(PaperKindEditor,[{key:"init",value:function init(){PaperKindEditor_get(PaperKindEditor_getPrototypeOf(PaperKindEditor.prototype),"init",this).call(this),this.updatePaperSizeEditorState("custom")}},{key:"UpdatePropertyWrapperValue",value:function UpdatePropertyWrapperValue(e){PaperKindEditor_get(PaperKindEditor_getPrototypeOf(PaperKindEditor.prototype),"UpdatePropertyWrapperValue",this).call(this,e),this.updatePaperSizeEditorState(e)}},{key:"updatePaperSizeEditorState",value:function updatePaperSizeEditorState(e){this.provider.GetService(I.PropertiesArea).Editors.find(function(e){return e instanceof nc}).UpdatePaperSizeEditorUI(e)}}]),PaperKindEditor}();function PasswordEditor_typeof(e){return(PasswordEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PasswordEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PasswordEditor_possibleConstructorReturn(e,t){return!t||"object"!==PasswordEditor_typeof(t)&&"function"!=typeof t?function PasswordEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PasswordEditor_getPrototypeOf(e){return(PasswordEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PasswordEditor_setPrototypeOf(e,t){return(PasswordEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ic=function(){function PasswordEditor(){return function PasswordEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PasswordEditor),PasswordEditor_possibleConstructorReturn(this,PasswordEditor_getPrototypeOf(PasswordEditor).apply(this,arguments))}return function PasswordEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PasswordEditor_setPrototypeOf(e,t)}(PasswordEditor,ls),function PasswordEditor_createClass(e,t,r){return t&&PasswordEditor_defineProperties(e.prototype,t),r&&PasswordEditor_defineProperties(e,r),e}(PasswordEditor,[{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -input">\n                <label class="editor__content">\n                    <span class="editor__name" title="').concat(this.LocalizedName,'">\n                        ').concat(this.LocalizedName,'\n                    </span>\n                    <input type="password" value="').concat(this.value,'" class="k-textbox editor__value" />\n                </label>\n            </div>\n        ')}}]),PasswordEditor}();function PictureBoxImageEditor_typeof(e){return(PictureBoxImageEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PictureBoxImageEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PictureBoxImageEditor_possibleConstructorReturn(e,t){return!t||"object"!==PictureBoxImageEditor_typeof(t)&&"function"!=typeof t?function PictureBoxImageEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PictureBoxImageEditor_get(e,t,r){return(PictureBoxImageEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function PictureBoxImageEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PictureBoxImageEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function PictureBoxImageEditor_getPrototypeOf(e){return(PictureBoxImageEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PictureBoxImageEditor_setPrototypeOf(e,t){return(PictureBoxImageEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ac=function(){function PictureBoxImageEditor(){return function PictureBoxImageEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PictureBoxImageEditor),PictureBoxImageEditor_possibleConstructorReturn(this,PictureBoxImageEditor_getPrototypeOf(PictureBoxImageEditor).apply(this,arguments))}return function PictureBoxImageEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PictureBoxImageEditor_setPrototypeOf(e,t)}(PictureBoxImageEditor,ms),function PictureBoxImageEditor_createClass(e,t,r){return t&&PictureBoxImageEditor_defineProperties(e.prototype,t),r&&PictureBoxImageEditor_defineProperties(e,r),e}(PictureBoxImageEditor,[{key:"MustCreateEditor",value:function MustCreateEditor(e){if(1==this.propertyWrapper.Components.length){var t=this.ExpressionProperty.GetValue(),r=this.ImageProperty.GetValue();if(!t&&!r&&this.propertyWrapper.Name===this.ExpressionProperty.Name)return!0}return!!e}},{key:"init",value:function init(){var e=this.provider.GetService(I.IPropertyDescriptorWrapperFactory);this.expressionProperty=null;this.imageProperty=null;var t=!0,r=!1,n=void 0;try{for(var o,i=e.CreateMergeableWrappers(this.propertyWrapper.Components)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.expressionProperty||a.Name!==G.Value||(this.expressionProperty=a),this.imageProperty||a.Name!==G.Image||(this.imageProperty=a),a.Name===G.MimeType&&(this.mimeTypeProperty=a),this.expressionProperty&&this.imageProperty}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}PictureBoxImageEditor_get(PictureBoxImageEditor_getPrototypeOf(PictureBoxImageEditor.prototype),"init",this).call(this)}},{key:"LocalizedName",get:function get(){return this.StringResources.Value}},{key:"IsEmbeddedImageProperty",get:function get(){return this.propertyWrapper.Name===G.Image}},{key:"ExpressionProperty",get:function get(){return this.expressionProperty}},{key:"ImageProperty",get:function get(){return this.imageProperty}},{key:"MimeTypeProperty",get:function get(){return this.mimeTypeProperty}}]),PictureBoxImageEditor}();function SelectorCollectionEditor_typeof(e){return(SelectorCollectionEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SelectorCollectionEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SelectorCollectionEditor_possibleConstructorReturn(e,t){return!t||"object"!==SelectorCollectionEditor_typeof(t)&&"function"!=typeof t?function SelectorCollectionEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SelectorCollectionEditor_getPrototypeOf(e){return(SelectorCollectionEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SelectorCollectionEditor_setPrototypeOf(e,t){return(SelectorCollectionEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var sc=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},cc=function(){function SelectorCollectionEditor(){return function SelectorCollectionEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SelectorCollectionEditor),SelectorCollectionEditor_possibleConstructorReturn(this,SelectorCollectionEditor_getPrototypeOf(SelectorCollectionEditor).apply(this,arguments))}return function SelectorCollectionEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SelectorCollectionEditor_setPrototypeOf(e,t)}(SelectorCollectionEditor,rs),function SelectorCollectionEditor_createClass(e,t,r){return t&&SelectorCollectionEditor_defineProperties(e.prototype,t),r&&SelectorCollectionEditor_defineProperties(e,r),e}(SelectorCollectionEditor,[{key:"itemDefaultPropertyStore",value:function itemDefaultPropertyStore(){return sc(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.schemaService.GetDefaultPropertyStore(G.TypeSelector);case 2:return(t=e.sent)[G.Type]="",e.abrupt("return",t);case 5:case"end":return e.stop()}},_callee,this)}))}},{key:"itemIdentifier",get:function get(){return G.NetType}}]),SelectorCollectionEditor}();function SizeEditor_typeof(e){return(SizeEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SizeEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SizeEditor_possibleConstructorReturn(e,t){return!t||"object"!==SizeEditor_typeof(t)&&"function"!=typeof t?function SizeEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SizeEditor_getPrototypeOf(e){return(SizeEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SizeEditor_setPrototypeOf(e,t){return(SizeEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var uc=function(){function SizeEditor(){return function SizeEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SizeEditor),SizeEditor_possibleConstructorReturn(this,SizeEditor_getPrototypeOf(SizeEditor).apply(this,arguments))}return function SizeEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SizeEditor_setPrototypeOf(e,t)}(SizeEditor,zs),function SizeEditor_createClass(e,t,r){return t&&SizeEditor_defineProperties(e.prototype,t),r&&SizeEditor_defineProperties(e,r),e}(SizeEditor,[{key:"LocalizedName",get:function get(){return this.StringResources.Size}},{key:"PairPropertyNames",get:function get(){return Ka.Size}}]),SizeEditor}();function StringWrapperEditor_typeof(e){return(StringWrapperEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function StringWrapperEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function StringWrapperEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function StringWrapperEditor_possibleConstructorReturn(e,t){return!t||"object"!==StringWrapperEditor_typeof(t)&&"function"!=typeof t?function StringWrapperEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function StringWrapperEditor_get(e,t,r){return(StringWrapperEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function StringWrapperEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=StringWrapperEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function StringWrapperEditor_getPrototypeOf(e){return(StringWrapperEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function StringWrapperEditor_setPrototypeOf(e,t){return(StringWrapperEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var lc=function(){function StringWrapperEditor(){return StringWrapperEditor_classCallCheck(this,StringWrapperEditor),StringWrapperEditor_possibleConstructorReturn(this,StringWrapperEditor_getPrototypeOf(StringWrapperEditor).apply(this,arguments))}return function StringWrapperEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&StringWrapperEditor_setPrototypeOf(e,t)}(StringWrapperEditor,ls),function StringWrapperEditor_createClass(e,t,r){return t&&StringWrapperEditor_defineProperties(e.prototype,t),r&&StringWrapperEditor_defineProperties(e,r),e}(StringWrapperEditor,[{key:"InitEditorValue",value:function InitEditorValue(e){this.paramValue=new pc(e),StringWrapperEditor_get(StringWrapperEditor_getPrototypeOf(StringWrapperEditor.prototype),"InitEditorValue",this).call(this,this.paramValue.Value)}},{key:"SetValueCore",value:function SetValueCore(e){this.paramValue.Value=e,StringWrapperEditor_get(StringWrapperEditor_getPrototypeOf(StringWrapperEditor.prototype),"SetValueCore",this).call(this,e)}},{key:"UpdatePropertyWrapperValue",value:function UpdatePropertyWrapperValue(e){this.paramValue.Value=e,this.paramValue.NetType=_.String,StringWrapperEditor_get(StringWrapperEditor_getPrototypeOf(StringWrapperEditor.prototype),"UpdatePropertyWrapperValue",this).call(this,this.paramValue)}}]),StringWrapperEditor}(),pc=function WrapperModel(e){StringWrapperEditor_classCallCheck(this,WrapperModel),e?p.IsString(e)?(this.NetType=_.String,this.Value=e):(this.NetType=e.NetType,this.Value=e.Value):(this.NetType=_.String,this.Value="")};function StyleEditor_typeof(e){return(StyleEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function StyleEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function StyleEditor_possibleConstructorReturn(e,t){return!t||"object"!==StyleEditor_typeof(t)&&"function"!=typeof t?function StyleEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function StyleEditor_getPrototypeOf(e){return(StyleEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function StyleEditor_setPrototypeOf(e,t){return(StyleEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var fc=function(){function StyleEditor(){return function StyleEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StyleEditor),StyleEditor_possibleConstructorReturn(this,StyleEditor_getPrototypeOf(StyleEditor).apply(this,arguments))}return function StyleEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&StyleEditor_setPrototypeOf(e,t)}(StyleEditor,ds),function StyleEditor_createClass(e,t,r){return t&&StyleEditor_defineProperties(e.prototype,t),r&&StyleEditor_defineProperties(e,r),e}(StyleEditor,[{key:"ExpandChildEditors",value:function ExpandChildEditors(){var n=this,o=this.propertyWrapper.GetChildProperties(),i=this.provider.GetService(I.ISchemaService);this.propertiesOrder.forEach(function(e){var t,r=i.GetEditorType(e,null);switch(e){case G.BackgroundColor:case G.BackgroundImage:case G.Padding:case G.Visible:t=new r(n.$visualElement,n.propertyWrapper.GetChildProperty(e),n.provider);break;default:t=new r(n.$visualElement,o,n.provider)}n.ChildEditors.push(t)})}},{key:"propertiesOrder",get:function get(){return Ka.Style}}]),StyleEditor}();function StyleSheetEditor_typeof(e){return(StyleSheetEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function StyleSheetEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function StyleSheetEditor_possibleConstructorReturn(e,t){return!t||"object"!==StyleSheetEditor_typeof(t)&&"function"!=typeof t?function StyleSheetEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function StyleSheetEditor_get(e,t,r){return(StyleSheetEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function StyleSheetEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=StyleSheetEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function StyleSheetEditor_getPrototypeOf(e){return(StyleSheetEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function StyleSheetEditor_setPrototypeOf(e,t){return(StyleSheetEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var dc=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},yc=function(){function StyleSheetEditor(){return function StyleSheetEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StyleSheetEditor),StyleSheetEditor_possibleConstructorReturn(this,StyleSheetEditor_getPrototypeOf(StyleSheetEditor).apply(this,arguments))}return function StyleSheetEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&StyleSheetEditor_setPrototypeOf(e,t)}(StyleSheetEditor,Bs),function StyleSheetEditor_createClass(e,t,r){return t&&StyleSheetEditor_defineProperties(e.prototype,t),r&&StyleSheetEditor_defineProperties(e,r),e}(StyleSheetEditor,[{key:"addItem",value:function addItem(){return dc(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.designerHost.InTransaction||(this.itemTransaction=this.designerHost.CreateTransaction("Add new '".concat(this.propertyWrapper.Name,"' item"))),e.next=3,this.schemaService.GetDefaultPropertyStore(this.CollectionItemType);case 3:return(t=e.sent)[G.Name]=this.namingService.CreateName(t[G.NetType]),t[G.Selectors]=[],t[G.Style]={},e.next=9,this.component.CreateNonChildComponent(t);case 9:(r=e.sent)&&(this.component[this.collectionName].push(r),this.properties.push(t),this.kendoList?this.kendoList.setDataSource(this.properties):this.initList(),this.collectionItems=this.component[this.collectionName],this.kendoList.wrapper.find("li.k-item").last().trigger("click"));case 11:case"end":return e.stop()}},_callee,this)}))}},{key:"removeItem",value:function removeItem(e){this.component.ClearStyleRulesCache(),StyleSheetEditor_get(StyleSheetEditor_getPrototypeOf(StyleSheetEditor.prototype),"removeItem",this).call(this,e)}},{key:"saveChanges",value:function saveChanges(){this.component.ClearStyleRulesCache(),StyleSheetEditor_get(StyleSheetEditor_getPrototypeOf(StyleSheetEditor.prototype),"saveChanges",this).call(this)}}]),StyleSheetEditor}();function TocLevelCollectionEditor_typeof(e){return(TocLevelCollectionEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TocLevelCollectionEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TocLevelCollectionEditor_possibleConstructorReturn(e,t){return!t||"object"!==TocLevelCollectionEditor_typeof(t)&&"function"!=typeof t?function TocLevelCollectionEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TocLevelCollectionEditor_getPrototypeOf(e){return(TocLevelCollectionEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TocLevelCollectionEditor_setPrototypeOf(e,t){return(TocLevelCollectionEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var hc=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},mc=function(){function TocLevelCollectionEditor(){return function TocLevelCollectionEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TocLevelCollectionEditor),TocLevelCollectionEditor_possibleConstructorReturn(this,TocLevelCollectionEditor_getPrototypeOf(TocLevelCollectionEditor).apply(this,arguments))}return function TocLevelCollectionEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TocLevelCollectionEditor_setPrototypeOf(e,t)}(TocLevelCollectionEditor,Bs),function TocLevelCollectionEditor_createClass(e,t,r){return t&&TocLevelCollectionEditor_defineProperties(e.prototype,t),r&&TocLevelCollectionEditor_defineProperties(e,r),e}(TocLevelCollectionEditor,[{key:"addItem",value:function addItem(){return hc(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.IDesignerHost),this.designerHost.InTransaction||(this.itemTransaction=t.CreateTransaction("Add new ".concat(this.CollectionItemType))),e.next=4,this.schemaService.GetDefaultPropertyStore(this.CollectionItemType);case 4:return(r=e.sent)[G.Name]=this.namingService.CreateName(r[G.NetType]),e.next=8,this.component.CreateChildComponent(r);case 8:(n=e.sent)&&(this.properties.push(r),this.kendoList?this.kendoList.setDataSource(this.properties):this.initList(),this.collectionItems=this.component[this.collectionName],this.kendoList.wrapper.find("li.k-item").last().trigger("click"),n.Designer.Render(n.Parent.Designer.VisualElementContent));case 10:case"end":return e.stop()}},_callee,this)}))}}]),TocLevelCollectionEditor}();function ToggleButtonsEditor_typeof(e){return(ToggleButtonsEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ToggleButtonsEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleButtonsEditor_possibleConstructorReturn(e,t){return!t||"object"!==ToggleButtonsEditor_typeof(t)&&"function"!=typeof t?function ToggleButtonsEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ToggleButtonsEditor_get(e,t,r){return(ToggleButtonsEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function ToggleButtonsEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ToggleButtonsEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function ToggleButtonsEditor_getPrototypeOf(e){return(ToggleButtonsEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ToggleButtonsEditor_setPrototypeOf(e,t){return(ToggleButtonsEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var gc=function(){function ToggleButtonsEditor(){return function ToggleButtonsEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleButtonsEditor),ToggleButtonsEditor_possibleConstructorReturn(this,ToggleButtonsEditor_getPrototypeOf(ToggleButtonsEditor).apply(this,arguments))}return function ToggleButtonsEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ToggleButtonsEditor_setPrototypeOf(e,t)}(ToggleButtonsEditor,Xa),function ToggleButtonsEditor_createClass(e,t,r){return t&&ToggleButtonsEditor_defineProperties(e.prototype,t),r&&ToggleButtonsEditor_defineProperties(e,r),e}(ToggleButtonsEditor,[{key:"init",value:function init(){this.properies=this.childProperties,this.value=this.propertyWrapper.GetValue(),ToggleButtonsEditor_get(ToggleButtonsEditor_getPrototypeOf(ToggleButtonsEditor.prototype),"init",this).call(this),this.value&&this.RefreshOverride(),this.initEventListener([new Qpa("change",".editor__value","toggle")])}},{key:"toggle",value:function toggle(e,t){this.value=t.val(),this.toggleClass(),this.VisualElement.find(".k-state-selected").removeClass("k-state-selected"),this.VisualElement.find(".-"+this.value.toLowerCase()).addClass("k-state-selected"),this.propertyWrapper.SetValue(this.value)}},{key:"toggleClass",value:function toggleClass(){this.VisualElement.find(".k-state-selected").removeClass("k-state-selected"),this.VisualElement.find(".-"+this.value.toLowerCase()).addClass("k-state-selected")}},{key:"RefreshOverride",value:function RefreshOverride(){this.toggleClass(),this.VisualElement.find('[value="'.concat(this.value,'"]')).prop("checked",!0)}},{key:"template",get:function get(){var r=this;return'\n        <div id="'.concat(this.id,'" class="twd-editor -wrapper -toggle-buttons">\n            <span class="editor__name" title="').concat(this.LocalizedName,'">\n                ').concat(this.LocalizedName,' \n            </span>\n            <div class="editor__content">\n                <ul class="editor__toggle-buttons k-widget k-button-group">\n                ').concat(this.properies.map(function(e,t){return'\n                    <li title="'.concat(r.str[e.Name],'" class="editor__toggle-button -').concat(e.Name.toLowerCase(),' k-button">\n                        <span class="k-icon k-i-align-').concat(e.Name.toLowerCase(),'"></span>\n                        <input class="editor__value" type="radio" name="').concat(r.id,'-toggle" value="').concat(e.Name,'"} />\n                    </li>\n                  ').trim()}).join(""),"\n                </ul>\n            </div>\n        </div>\n    ")}},{key:"propertiesOrder",get:function get(){return Ka[this.propertyWrapper.Name]}},{key:"childProperties",get:function get(){var e=this.provider.GetService(I.ITypeDescriptorRepository).GetPropertyTypeDescriptor(this.propertyWrapper.Type).GetEnumValues(),t=[],r=!0,n=!1,o=void 0;try{for(var i,a=this.propertiesOrder[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value,c=!0,u=!1,l=void 0;try{for(var p,f=e[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var d=p.value;if(d.Name===s){t.push(d);break}}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}]),ToggleButtonsEditor}();function UnknownObjectEditor_typeof(e){return(UnknownObjectEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UnknownObjectEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UnknownObjectEditor_possibleConstructorReturn(e,t){return!t||"object"!==UnknownObjectEditor_typeof(t)&&"function"!=typeof t?function UnknownObjectEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function UnknownObjectEditor_getPrototypeOf(e){return(UnknownObjectEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UnknownObjectEditor_setPrototypeOf(e,t){return(UnknownObjectEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var vc=function(){function UnknownObjectEditor(e,t,r){var n;!function UnknownObjectEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UnknownObjectEditor),(n=UnknownObjectEditor_possibleConstructorReturn(this,UnknownObjectEditor_getPrototypeOf(UnknownObjectEditor).call(this,e,t,r))).State=n.State|n.States.ReadOnly;var o=n.VisualElement.find(":input");if(o.length){var i=o.attr("title")||"";i.length&&(i+=". "),o.attr("title","".concat(i,"This property cannot be edited in the current version of WebReportDesigner."))}return n}return function UnknownObjectEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UnknownObjectEditor_setPrototypeOf(e,t)}(UnknownObjectEditor,ls),function UnknownObjectEditor_createClass(e,t,r){return t&&UnknownObjectEditor_defineProperties(e.prototype,t),r&&UnknownObjectEditor_defineProperties(e,r),e}(UnknownObjectEditor,[{key:"InitEditorValue",value:function InitEditorValue(e){this.value=this.beautifyObject(e)}},{key:"beautifyObject",value:function beautifyObject(e){return e&&"object"===UnknownObjectEditor_typeof(e)?JSON.stringify(e).replace(/\"/gm,"").replace(/NetType\:/gm,""):e}}]),UnknownObjectEditor}();function era(e){!function PaperSizeInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,era),this.PaperKind=e.paperKind,this.Width=e.width,this.Height=e.height}function DataSourceParameter_typeof(e){return(DataSourceParameter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DataSourceParameter_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DataSourceParameter_possibleConstructorReturn(e,t){return!t||"object"!==DataSourceParameter_typeof(t)&&"function"!=typeof t?function DataSourceParameter_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function DataSourceParameter_getPrototypeOf(e){return(DataSourceParameter_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DataSourceParameter_setPrototypeOf(e,t){return(DataSourceParameter_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var bc=function(){function DataSourceParameter(){return function DataSourceParameter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DataSourceParameter),DataSourceParameter_possibleConstructorReturn(this,DataSourceParameter_getPrototypeOf(DataSourceParameter).apply(this,arguments))}return function DataSourceParameter_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DataSourceParameter_setPrototypeOf(e,t)}(DataSourceParameter,Qo),function DataSourceParameter_createClass(e,t,r){return t&&DataSourceParameter_defineProperties(e.prototype,t),r&&DataSourceParameter_defineProperties(e,r),e}(DataSourceParameter,[{key:"Value",get:function get(){return this.GetPropertyValue(G.Value)}}]),DataSourceParameter}();function SqlDataSourceParameter_typeof(e){return(SqlDataSourceParameter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SqlDataSourceParameter_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SqlDataSourceParameter_possibleConstructorReturn(e,t){return!t||"object"!==SqlDataSourceParameter_typeof(t)&&"function"!=typeof t?function SqlDataSourceParameter_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SqlDataSourceParameter_getPrototypeOf(e){return(SqlDataSourceParameter_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SqlDataSourceParameter_setPrototypeOf(e,t){return(SqlDataSourceParameter_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var _c=function(){function SqlDataSourceParameter(){return function SqlDataSourceParameter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlDataSourceParameter),SqlDataSourceParameter_possibleConstructorReturn(this,SqlDataSourceParameter_getPrototypeOf(SqlDataSourceParameter).apply(this,arguments))}return function SqlDataSourceParameter_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SqlDataSourceParameter_setPrototypeOf(e,t)}(SqlDataSourceParameter,bc),function SqlDataSourceParameter_createClass(e,t,r){return t&&SqlDataSourceParameter_defineProperties(e.prototype,t),r&&SqlDataSourceParameter_defineProperties(e,r),e}(SqlDataSourceParameter,[{key:"DbType",get:function get(){return this.GetPropertyValue(G.DbType)}}]),SqlDataSourceParameter}();function WebServiceParameter_typeof(e){return(WebServiceParameter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WebServiceParameter_possibleConstructorReturn(e,t){return!t||"object"!==WebServiceParameter_typeof(t)&&"function"!=typeof t?function WebServiceParameter_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function WebServiceParameter_getPrototypeOf(e){return(WebServiceParameter_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WebServiceParameter_setPrototypeOf(e,t){return(WebServiceParameter_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Sc=function(){function WebServiceParameter(){return function WebServiceParameter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WebServiceParameter),WebServiceParameter_possibleConstructorReturn(this,WebServiceParameter_getPrototypeOf(WebServiceParameter).apply(this,arguments))}return function WebServiceParameter_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WebServiceParameter_setPrototypeOf(e,t)}(WebServiceParameter,bc),WebServiceParameter}();function FormattingRule_typeof(e){return(FormattingRule_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FormattingRule_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FormattingRule_getPrototypeOf(e){return(FormattingRule_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FormattingRule_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FormattingRule_setPrototypeOf(e,t){return(FormattingRule_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Cc=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Pc=function(){function FormattingRule(e,t,r){var n;return function FormattingRule_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FormattingRule),(n=function FormattingRule_possibleConstructorReturn(e,t){return!t||"object"!==FormattingRule_typeof(t)&&"function"!=typeof t?FormattingRule_assertThisInitialized(e):t}(this,FormattingRule_getPrototypeOf(FormattingRule).call(this,e,t,r))).Filters=new z(p.ResolvePropertyStore(n.PropertyStore,G.Filters,function(){return[]}),FormattingRule_assertThisInitialized(n),r),n}return function FormattingRule_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FormattingRule_setPrototypeOf(e,t)}(FormattingRule,k),function FormattingRule_createClass(e,t,r){return t&&FormattingRule_defineProperties(e.prototype,t),r&&FormattingRule_defineProperties(e,r),e}(FormattingRule,[{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return Cc(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createChildComponentsFromPropertyStoreBase();case 2:return e.next=4,this.Filters.Initialize();case 4:case"end":return e.stop()}},_callee,this)}))}},{key:"GetType",value:function GetType(){return _.FormattingRule}},{key:"ShouldSerializeFilters",get:function get(){return 0<this.Filters.Count}},{key:"Style",get:function get(){return this.PropertyStore[G.Style]}},{key:"ShouldSerializeStyle",get:function get(){return this.Style&&this.Style!={}}},{key:"StopIfTrue",get:function get(){return this.PropertyStore[G.StopIfTrue]}}]),FormattingRule}();function Parameter_typeof(e){return(Parameter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Parameter_possibleConstructorReturn(e,t){return!t||"object"!==Parameter_typeof(t)&&"function"!=typeof t?function Parameter_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Parameter_getPrototypeOf(e){return(Parameter_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Parameter_setPrototypeOf(e,t){return(Parameter_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var wc=function(){function Parameter(){return function Parameter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Parameter),Parameter_possibleConstructorReturn(this,Parameter_getPrototypeOf(Parameter).apply(this,arguments))}return function Parameter_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Parameter_setPrototypeOf(e,t)}(Parameter,Qo),Parameter}();function ShapeTypeEditor_typeof(e){return(ShapeTypeEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ShapeTypeEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ShapeTypeEditor_possibleConstructorReturn(e,t){return!t||"object"!==ShapeTypeEditor_typeof(t)&&"function"!=typeof t?function ShapeTypeEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ShapeTypeEditor_getPrototypeOf(e){return(ShapeTypeEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ShapeTypeEditor_setPrototypeOf(e,t){return(ShapeTypeEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Oc=function(){function ShapeTypeEditor(){return function ShapeTypeEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShapeTypeEditor),ShapeTypeEditor_possibleConstructorReturn(this,ShapeTypeEditor_getPrototypeOf(ShapeTypeEditor).apply(this,arguments))}return function ShapeTypeEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ShapeTypeEditor_setPrototypeOf(e,t)}(ShapeTypeEditor,Us),function ShapeTypeEditor_createClass(e,t,r){return t&&ShapeTypeEditor_defineProperties(e.prototype,t),r&&ShapeTypeEditor_defineProperties(e,r),e}(ShapeTypeEditor,[{key:"GetInstanceTypes",value:function GetInstanceTypes(){return this.propertyWrapper.Property.InstanceTypes.map(function(e){return new $s(e,e.replace("Shape",""))})}}]),ShapeTypeEditor}();function BarcodeEncoderEditor_typeof(e){return(BarcodeEncoderEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BarcodeEncoderEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BarcodeEncoderEditor_possibleConstructorReturn(e,t){return!t||"object"!==BarcodeEncoderEditor_typeof(t)&&"function"!=typeof t?function BarcodeEncoderEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function BarcodeEncoderEditor_getPrototypeOf(e){return(BarcodeEncoderEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BarcodeEncoderEditor_setPrototypeOf(e,t){return(BarcodeEncoderEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ec=function(){function BarcodeEncoderEditor(){return function BarcodeEncoderEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarcodeEncoderEditor),BarcodeEncoderEditor_possibleConstructorReturn(this,BarcodeEncoderEditor_getPrototypeOf(BarcodeEncoderEditor).apply(this,arguments))}return function BarcodeEncoderEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BarcodeEncoderEditor_setPrototypeOf(e,t)}(BarcodeEncoderEditor,Us),function BarcodeEncoderEditor_createClass(e,t,r){return t&&BarcodeEncoderEditor_defineProperties(e.prototype,t),r&&BarcodeEncoderEditor_defineProperties(e,r),e}(BarcodeEncoderEditor,[{key:"GetInstanceTypes",value:function GetInstanceTypes(){return this.propertyWrapper.Property.InstanceTypes.map(function(e){return new $s(e,e.replace("Encoder",""))})}}]),BarcodeEncoderEditor}();function ReportSourceEditor_typeof(e){return(ReportSourceEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportSourceEditor_possibleConstructorReturn(e,t){return!t||"object"!==ReportSourceEditor_typeof(t)&&"function"!=typeof t?function ReportSourceEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ReportSourceEditor_getPrototypeOf(e){return(ReportSourceEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportSourceEditor_setPrototypeOf(e,t){return(ReportSourceEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var kc=function(){function ReportSourceEditor(){return function ReportSourceEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportSourceEditor),ReportSourceEditor_possibleConstructorReturn(this,ReportSourceEditor_getPrototypeOf(ReportSourceEditor).apply(this,arguments))}return function ReportSourceEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportSourceEditor_setPrototypeOf(e,t)}(ReportSourceEditor,Us),ReportSourceEditor}();function TileProviderEditor_typeof(e){return(TileProviderEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TileProviderEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TileProviderEditor_possibleConstructorReturn(e,t){return!t||"object"!==TileProviderEditor_typeof(t)&&"function"!=typeof t?function TileProviderEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TileProviderEditor_getPrototypeOf(e){return(TileProviderEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TileProviderEditor_setPrototypeOf(e,t){return(TileProviderEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Tc=function(){function TileProviderEditor(){return function TileProviderEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TileProviderEditor),TileProviderEditor_possibleConstructorReturn(this,TileProviderEditor_getPrototypeOf(TileProviderEditor).apply(this,arguments))}return function TileProviderEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TileProviderEditor_setPrototypeOf(e,t)}(TileProviderEditor,Us),function TileProviderEditor_createClass(e,t,r){return t&&TileProviderEditor_defineProperties(e.prototype,t),r&&TileProviderEditor_defineProperties(e,r),e}(TileProviderEditor,[{key:"GetInstanceTypes",value:function GetInstanceTypes(){return this.propertyWrapper.Property.InstanceTypes.map(function(e){return new $s(e,e.replace("TileProvider",""))})}}]),TileProviderEditor}();function TypeInstanceTypesEditorBase_typeof(e){return(TypeInstanceTypesEditorBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TypeInstanceTypesEditorBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TypeInstanceTypesEditorBase_possibleConstructorReturn(e,t){return!t||"object"!==TypeInstanceTypesEditorBase_typeof(t)&&"function"!=typeof t?function TypeInstanceTypesEditorBase_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TypeInstanceTypesEditorBase_get(e,t,r){return(TypeInstanceTypesEditorBase_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function TypeInstanceTypesEditorBase_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TypeInstanceTypesEditorBase_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function TypeInstanceTypesEditorBase_getPrototypeOf(e){return(TypeInstanceTypesEditorBase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TypeInstanceTypesEditorBase_setPrototypeOf(e,t){return(TypeInstanceTypesEditorBase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Dc=function(){function TypeInstanceTypesEditorBase(){return function TypeInstanceTypesEditorBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TypeInstanceTypesEditorBase),TypeInstanceTypesEditorBase_possibleConstructorReturn(this,TypeInstanceTypesEditorBase_getPrototypeOf(TypeInstanceTypesEditorBase).apply(this,arguments))}return function TypeInstanceTypesEditorBase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TypeInstanceTypesEditorBase_setPrototypeOf(e,t)}(TypeInstanceTypesEditorBase,Us),function TypeInstanceTypesEditorBase_createClass(e,t,r){return t&&TypeInstanceTypesEditorBase_defineProperties(e.prototype,t),r&&TypeInstanceTypesEditorBase_defineProperties(e,r),e}(TypeInstanceTypesEditorBase,[{key:"init",value:function init(){this.typeDescriptor=this.GetTypeDescriptor(),TypeInstanceTypesEditorBase_get(TypeInstanceTypesEditorBase_getPrototypeOf(TypeInstanceTypesEditorBase.prototype),"init",this).call(this)}},{key:"GetInstanceTypes",value:function GetInstanceTypes(){return this.typeDescriptor.InstanceTypes?this.typeDescriptor.InstanceTypes.map(function(e){return new $s(e,e)}):(p.LogError("No InstanceTypes were loaded for type descriptor ".concat(this.typeDescriptor.TypeName,".")),[])}},{key:"UpdatePropertyWrapperValue",value:function UpdatePropertyWrapperValue(e){var t=new CustomEvent(y.TypeInstanceValueChanging,{detail:{value:e,cancel:!1}});this.EventsElement.dispatchEvent(t),t.detail.cancel||this.propertyWrapper.SetValue(e)}},{key:"TypeDescriptor",get:function get(){return this.typeDescriptor}},{key:"EventsElement",get:function get(){return this.$visualElement.get(0)}}]),TypeInstanceTypesEditorBase}();function CollectionTypeInstanceTypesEditor_typeof(e){return(CollectionTypeInstanceTypesEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CollectionTypeInstanceTypesEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CollectionTypeInstanceTypesEditor_possibleConstructorReturn(e,t){return!t||"object"!==CollectionTypeInstanceTypesEditor_typeof(t)&&"function"!=typeof t?function CollectionTypeInstanceTypesEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CollectionTypeInstanceTypesEditor_get(e,t,r){return(CollectionTypeInstanceTypesEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CollectionTypeInstanceTypesEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CollectionTypeInstanceTypesEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CollectionTypeInstanceTypesEditor_getPrototypeOf(e){return(CollectionTypeInstanceTypesEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CollectionTypeInstanceTypesEditor_setPrototypeOf(e,t){return(CollectionTypeInstanceTypesEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var xc=function(){function CollectionTypeInstanceTypesEditor(){return function CollectionTypeInstanceTypesEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CollectionTypeInstanceTypesEditor),CollectionTypeInstanceTypesEditor_possibleConstructorReturn(this,CollectionTypeInstanceTypesEditor_getPrototypeOf(CollectionTypeInstanceTypesEditor).apply(this,arguments))}return function CollectionTypeInstanceTypesEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CollectionTypeInstanceTypesEditor_setPrototypeOf(e,t)}(CollectionTypeInstanceTypesEditor,Dc),function CollectionTypeInstanceTypesEditor_createClass(e,t,r){return t&&CollectionTypeInstanceTypesEditor_defineProperties(e.prototype,t),r&&CollectionTypeInstanceTypesEditor_defineProperties(e,r),e}(CollectionTypeInstanceTypesEditor,[{key:"GetTypeDescriptor",value:function GetTypeDescriptor(){var e=this.provider.GetService(I.ITypeDescriptorRepository),t=e.GetPropertyTypeDescriptor(this.propertyWrapper.Type).GetProperty(G.Item)[G.Type];return e.GetPropertyTypeDescriptor(t)}},{key:"GetChildProperties",value:function GetChildProperties(){return this.InstanceTypeName?this.propertyWrapper.Components[0].BrowsablePropertyWrappers:CollectionTypeInstanceTypesEditor_get(CollectionTypeInstanceTypesEditor_getPrototypeOf(CollectionTypeInstanceTypesEditor.prototype),"GetChildProperties",this).call(this)}},{key:"GetPropertyType",value:function GetPropertyType(){return this.propertyWrapper.Components[0].Type}}]),CollectionTypeInstanceTypesEditor}();function InstanceTypesCollectionEditor_typeof(e){return(InstanceTypesCollectionEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function InstanceTypesCollectionEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function InstanceTypesCollectionEditor_possibleConstructorReturn(e,t){return!t||"object"!==InstanceTypesCollectionEditor_typeof(t)&&"function"!=typeof t?function InstanceTypesCollectionEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function InstanceTypesCollectionEditor_get(e,t,r){return(InstanceTypesCollectionEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function InstanceTypesCollectionEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=InstanceTypesCollectionEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function InstanceTypesCollectionEditor_getPrototypeOf(e){return(InstanceTypesCollectionEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function InstanceTypesCollectionEditor_setPrototypeOf(e,t){return(InstanceTypesCollectionEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Rc=function(){function InstanceTypesCollectionEditor(){return function InstanceTypesCollectionEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,InstanceTypesCollectionEditor),InstanceTypesCollectionEditor_possibleConstructorReturn(this,InstanceTypesCollectionEditor_getPrototypeOf(InstanceTypesCollectionEditor).apply(this,arguments))}return function InstanceTypesCollectionEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&InstanceTypesCollectionEditor_setPrototypeOf(e,t)}(InstanceTypesCollectionEditor,Bs),function InstanceTypesCollectionEditor_createClass(e,t,r){return t&&InstanceTypesCollectionEditor_defineProperties(e.prototype,t),r&&InstanceTypesCollectionEditor_defineProperties(e,r),e}(InstanceTypesCollectionEditor,[{key:"loadPopUpEditors",value:function loadPopUpEditors(){if(this.provider.GetService(I.ISchemaService).GetEditorType(this.CollectionItemType,null)){var e=$("#"+this.id+"__instanceTypesCollectionEditor"),t=this.popUp.element.find(e),r=new $o([this.selectedComponent],[this.selectedComponent.PropertyStore],this.propertyWrapper.Property,null);this.typeInstanceTypesEditor=new xc(t,r,this.provider),this.boundEditorValueChanging=this.typeInstanceEditorValueChanging.bind(this),this.typeInstanceTypesEditor.EventsElement.addEventListener(y.TypeInstanceValueChanging,this.boundEditorValueChanging,!1),this.typeInstanceTypesEditor.Expanded=!0,this.ChildEditors.push(this.typeInstanceTypesEditor)}}},{key:"typeInstanceEditorValueChanging",value:function typeInstanceEditorValueChanging(e){var r=this;e.detail.cancel=!0;var t=this.kendoList.wrapper.find("li.k-item").last();t&&InstanceTypesCollectionEditor_get(InstanceTypesCollectionEditor_getPrototypeOf(InstanceTypesCollectionEditor.prototype),"removeItem",this).call(this,t),InstanceTypesCollectionEditor_get(InstanceTypesCollectionEditor_getPrototypeOf(InstanceTypesCollectionEditor.prototype),"addItem",this).call(this).then(function(e){var t=e;r.typeInstanceTypesEditor.initEditors(t.BrowsablePropertyWrappers)})}},{key:"DisposeChildEditors",value:function DisposeChildEditors(){this.typeInstanceTypesEditor&&this.typeInstanceTypesEditor.EventsElement.removeEventListener(y.TypeInstanceValueChanging,this.boundEditorValueChanging,!1),InstanceTypesCollectionEditor_get(InstanceTypesCollectionEditor_getPrototypeOf(InstanceTypesCollectionEditor.prototype),"DisposeChildEditors",this).call(this)}},{key:"GetNewItemType",value:function GetNewItemType(){return this.IsInstanceTypeSelected?this.typeInstanceTypesEditor.InstanceTypeName:InstanceTypesCollectionEditor_get(InstanceTypesCollectionEditor_getPrototypeOf(InstanceTypesCollectionEditor.prototype),"GetNewItemType",this).call(this)}},{key:"EditorsTemplate",get:function get(){return'\n                <div id="'.concat(this.id,'__instanceTypesCollectionEditor">\n                </div>\n        ')}},{key:"IsInstanceTypeSelected",get:function get(){return!!this.typeInstanceTypesEditor&&!!this.typeInstanceTypesEditor.InstanceTypeName}}]),InstanceTypesCollectionEditor}();function WatermarkCollectionEditor_typeof(e){return(WatermarkCollectionEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WatermarkCollectionEditor_possibleConstructorReturn(e,t){return!t||"object"!==WatermarkCollectionEditor_typeof(t)&&"function"!=typeof t?function WatermarkCollectionEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function WatermarkCollectionEditor_getPrototypeOf(e){return(WatermarkCollectionEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WatermarkCollectionEditor_setPrototypeOf(e,t){return(WatermarkCollectionEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ic=function(){function WatermarkCollectionEditor(){return function WatermarkCollectionEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WatermarkCollectionEditor),WatermarkCollectionEditor_possibleConstructorReturn(this,WatermarkCollectionEditor_getPrototypeOf(WatermarkCollectionEditor).apply(this,arguments))}return function WatermarkCollectionEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WatermarkCollectionEditor_setPrototypeOf(e,t)}(WatermarkCollectionEditor,Rc),WatermarkCollectionEditor}();function Watermark_typeof(e){return(Watermark_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Watermark_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Watermark_possibleConstructorReturn(e,t){return!t||"object"!==Watermark_typeof(t)&&"function"!=typeof t?function Watermark_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Watermark_getPrototypeOf(e){return(Watermark_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Watermark_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Watermark_setPrototypeOf(e,t)}function Watermark_setPrototypeOf(e,t){return(Watermark_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Gc=function(){function Watermark(){return Watermark_classCallCheck(this,Watermark),Watermark_possibleConstructorReturn(this,Watermark_getPrototypeOf(Watermark).apply(this,arguments))}return Watermark_inherits(Watermark,S),Watermark}(),jc=function(){function TextWatermark(){return Watermark_classCallCheck(this,TextWatermark),Watermark_possibleConstructorReturn(this,Watermark_getPrototypeOf(TextWatermark).apply(this,arguments))}return Watermark_inherits(TextWatermark,Gc),TextWatermark}(),Bc=function(){function PictureWatermark(){return Watermark_classCallCheck(this,PictureWatermark),Watermark_possibleConstructorReturn(this,Watermark_getPrototypeOf(PictureWatermark).apply(this,arguments))}return Watermark_inherits(PictureWatermark,Gc),PictureWatermark}();function StringCollectionEditor_typeof(e){return(StringCollectionEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function StringCollectionEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function StringCollectionEditor_possibleConstructorReturn(e,t){return!t||"object"!==StringCollectionEditor_typeof(t)&&"function"!=typeof t?function StringCollectionEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function StringCollectionEditor_getPrototypeOf(e){return(StringCollectionEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function StringCollectionEditor_setPrototypeOf(e,t){return(StringCollectionEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Mc=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Ac=function(){function StringCollectionEditor(){return function StringCollectionEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StringCollectionEditor),StringCollectionEditor_possibleConstructorReturn(this,StringCollectionEditor_getPrototypeOf(StringCollectionEditor).apply(this,arguments))}return function StringCollectionEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&StringCollectionEditor_setPrototypeOf(e,t)}(StringCollectionEditor,rs),function StringCollectionEditor_createClass(e,t,r){return t&&StringCollectionEditor_defineProperties(e.prototype,t),r&&StringCollectionEditor_defineProperties(e,r),e}(StringCollectionEditor,[{key:"addItem",value:function addItem(){return Mc(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=this.provider.GetService(I.IDesignerHost),this.designerHost.InTransaction||(this.itemTransaction=t.CreateTransaction("Add new '".concat(this.propertyWrapper.Name,"' item"))),e.next=4,this.itemDefaultPropertyStore();case 4:(r=e.sent)[G.NetType]=_.String,delete r[G.Name],this.properties.push(r),this.kendoList?this.kendoList.setDataSource(this.properties):this.initList(),this.kendoList.wrapper.find("li.k-item").last().trigger("click");case 10:case"end":return e.stop()}},_callee,this)}))}},{key:"editProperties",value:function editProperties(r){return Mc(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return this.propertiesTransaction&&(this.propertiesTransaction.Rollback(),this.propertiesTransaction=null),this.selectedItem=r,this.selectedIndex=this.kendoList.wrapper.find("li.k-item").index(this.kendoList.select()),(t=r[G.NetType])==_.String&&(t=_.CustomValueObject),e.next=7,this.schemaService.GetTypeSchema(t);case 7:this.typeSchema=e.sent,this.openPopUp();case 9:case"end":return e.stop()}},_callee2,this)}))}},{key:"updatePropertyStore",value:function updatePropertyStore(){var e=this.properties[this.selectedIndex];e[G.Value]=this.selectedItem.get(G.Value),this.selectedItem.set(G.Name,e[G.Value]),this.propertyWrapper.Components.forEach(function(e){return e.Designer.Redraw})}},{key:"itemIdentifier",get:function get(){return G.Value}}]),StringCollectionEditor}();function TypeInstanceTypesEditor_typeof(e){return(TypeInstanceTypesEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TypeInstanceTypesEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TypeInstanceTypesEditor_possibleConstructorReturn(e,t){return!t||"object"!==TypeInstanceTypesEditor_typeof(t)&&"function"!=typeof t?function TypeInstanceTypesEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function TypeInstanceTypesEditor_get(e,t,r){return(TypeInstanceTypesEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function TypeInstanceTypesEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TypeInstanceTypesEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function TypeInstanceTypesEditor_getPrototypeOf(e){return(TypeInstanceTypesEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TypeInstanceTypesEditor_setPrototypeOf(e,t){return(TypeInstanceTypesEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Nc=function(){function TypeInstanceTypesEditor(e,t,r){return function TypeInstanceTypesEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TypeInstanceTypesEditor),TypeInstanceTypesEditor_possibleConstructorReturn(this,TypeInstanceTypesEditor_getPrototypeOf(TypeInstanceTypesEditor).call(this,e,t,r))}return function TypeInstanceTypesEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TypeInstanceTypesEditor_setPrototypeOf(e,t)}(TypeInstanceTypesEditor,Dc),function TypeInstanceTypesEditor_createClass(e,t,r){return t&&TypeInstanceTypesEditor_defineProperties(e.prototype,t),r&&TypeInstanceTypesEditor_defineProperties(e,r),e}(TypeInstanceTypesEditor,[{key:"GetTypeDescriptor",value:function GetTypeDescriptor(){return this.provider.GetService(I.ITypeDescriptorRepository).GetPropertyTypeDescriptor(this.propertyWrapper.Type)}},{key:"GetChildProperties",value:function GetChildProperties(){return this.InstanceTypeName?this.propertyWrapper.Components[0].BrowsablePropertyWrappers:TypeInstanceTypesEditor_get(TypeInstanceTypesEditor_getPrototypeOf(TypeInstanceTypesEditor.prototype),"GetChildProperties",this).call(this)}}]),TypeInstanceTypesEditor}();function GraphCoordinateSystemCollectionEditor_typeof(e){return(GraphCoordinateSystemCollectionEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GraphCoordinateSystemCollectionEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GraphCoordinateSystemCollectionEditor_possibleConstructorReturn(e,t){return!t||"object"!==GraphCoordinateSystemCollectionEditor_typeof(t)&&"function"!=typeof t?function GraphCoordinateSystemCollectionEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GraphCoordinateSystemCollectionEditor_get(e,t,r){return(GraphCoordinateSystemCollectionEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function GraphCoordinateSystemCollectionEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=GraphCoordinateSystemCollectionEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function GraphCoordinateSystemCollectionEditor_getPrototypeOf(e){return(GraphCoordinateSystemCollectionEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GraphCoordinateSystemCollectionEditor_setPrototypeOf(e,t){return(GraphCoordinateSystemCollectionEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Hc=function(){function GraphCoordinateSystemCollectionEditor(){return function GraphCoordinateSystemCollectionEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GraphCoordinateSystemCollectionEditor),GraphCoordinateSystemCollectionEditor_possibleConstructorReturn(this,GraphCoordinateSystemCollectionEditor_getPrototypeOf(GraphCoordinateSystemCollectionEditor).apply(this,arguments))}return function GraphCoordinateSystemCollectionEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GraphCoordinateSystemCollectionEditor_setPrototypeOf(e,t)}(GraphCoordinateSystemCollectionEditor,Rc),function GraphCoordinateSystemCollectionEditor_createClass(e,t,r){return t&&GraphCoordinateSystemCollectionEditor_defineProperties(e.prototype,t),r&&GraphCoordinateSystemCollectionEditor_defineProperties(e,r),e}(GraphCoordinateSystemCollectionEditor,[{key:"removeItemCore",value:function removeItemCore(e,t){GraphCoordinateSystemCollectionEditor_get(GraphCoordinateSystemCollectionEditor_getPrototypeOf(GraphCoordinateSystemCollectionEditor.prototype),"removeItemCore",this).call(this,e,t),this.selectedComponent.DeleteAxes()}}]),GraphCoordinateSystemCollectionEditor}();function GraphCoordinateSystem_typeof(e){return(GraphCoordinateSystem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GraphCoordinateSystem_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GraphCoordinateSystem_possibleConstructorReturn(e,t){return!t||"object"!==GraphCoordinateSystem_typeof(t)&&"function"!=typeof t?function GraphCoordinateSystem_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GraphCoordinateSystem_getPrototypeOf(e){return(GraphCoordinateSystem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GraphCoordinateSystem_setPrototypeOf(e,t){return(GraphCoordinateSystem_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Lc=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Vc=function(){function GraphCoordinateSystem(e,t,r){var n,o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return function GraphCoordinateSystem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GraphCoordinateSystem),(n=GraphCoordinateSystem_possibleConstructorReturn(this,GraphCoordinateSystem_getPrototypeOf(GraphCoordinateSystem).call(this,e,t,r,o))).graph=n.Parent,n}return function GraphCoordinateSystem_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GraphCoordinateSystem_setPrototypeOf(e,t)}(GraphCoordinateSystem,S),function GraphCoordinateSystem_createClass(e,t,r){return t&&GraphCoordinateSystem_defineProperties(e.prototype,t),r&&GraphCoordinateSystem_defineProperties(e,r),e}(GraphCoordinateSystem,[{key:"Initialize",value:function Initialize(t){return Lc(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.schemaService=this.provider.GetService(I.ISchemaService),this.namingService=this.provider.GetService(I.NamingService),e.next=4,this.createDefaultAxes();case 4:return e.next=6,this.InitializeBase(t);case 6:case"end":return e.stop()}},_callee,this)}))}},{key:"createDefaultAxes",value:function createDefaultAxes(){return Lc(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.schemaService.GetDefaultPropertyStore(_.GraphAxis);case 2:return(t=e.sent)[G.Name]="prevent_naming",r={},jQuery.extend(!0,r,t),e.next=8,this.CreateNonChildComponent(t);case 8:return this.defaultAxisD1=e.sent,e.next=11,this.CreateNonChildComponent(r);case 11:this.defaultAxisD2=e.sent;case 12:case"end":return e.stop()}},_callee2,this)}))}},{key:"AddNewGraphAxis",value:function AddNewGraphAxis(e){var t=this.GetDefaultAxis(e),r=this.namingService.CreateName(t.Type);t.PropertyStore[G.Name]=r,this.PropertyStore[e]=r;var n=this.Graph.PropertyStore[G.Axes];return(n=n||(this.Graph.PropertyStore[G.Axes]=[])).push(t.PropertyStore),this.Graph.Axes.push(t),t}},{key:"DeleteAxes",value:function DeleteAxes(){var r=this;if(this.Graph.Axes.length&&this.GetAxes().length){var n=this.Graph.Axes,o=this.Graph.PropertyStore[G.Axes],e=!0,t=!1,i=void 0;try{for(var a,s=function _loop(){var t=a.value;r.namingService.UnregisterName(t.Name);var e=n.findIndex(function(e){return e.Name===t.Name});-1<e&&n.splice(e,1),-1<(e=o.findIndex(function(e){return e[G.Name]===t.Name}))&&o.splice(e,1)},c=this.GetAxes()[Symbol.iterator]();!(e=(a=c.next()).done);e=!0)s()}catch(e){t=!0,i=e}finally{try{e||null==c.return||c.return()}finally{if(t)throw i}}}}},{key:"GetDimension1AxisName",value:function GetDimension1AxisName(){return null}},{key:"GetDimension2AxisName",value:function GetDimension2AxisName(){return null}},{key:"GetAxes",value:function GetAxes(){var t=this.GetDimension1AxisName(),r=this.GetDimension2AxisName();return t||r?this.Graph.Axes.filter(function(e){return e.Name===t||e.Name===r}):[]}},{key:"Graph",get:function get(){return this.graph}},{key:"DefaultAxisDimension1",get:function get(){return this.defaultAxisD1}},{key:"DefaultAxisDimension2",get:function get(){return this.defaultAxisD2}}]),GraphCoordinateSystem}();function PolarCoordinateSystem_typeof(e){return(PolarCoordinateSystem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PolarCoordinateSystem_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PolarCoordinateSystem_possibleConstructorReturn(e,t){return!t||"object"!==PolarCoordinateSystem_typeof(t)&&"function"!=typeof t?function PolarCoordinateSystem_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PolarCoordinateSystem_getPrototypeOf(e){return(PolarCoordinateSystem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PolarCoordinateSystem_setPrototypeOf(e,t){return(PolarCoordinateSystem_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Wc=function(){function PolarCoordinateSystem(){return function PolarCoordinateSystem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PolarCoordinateSystem),PolarCoordinateSystem_possibleConstructorReturn(this,PolarCoordinateSystem_getPrototypeOf(PolarCoordinateSystem).apply(this,arguments))}return function PolarCoordinateSystem_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PolarCoordinateSystem_setPrototypeOf(e,t)}(PolarCoordinateSystem,Vc),function PolarCoordinateSystem_createClass(e,t,r){return t&&PolarCoordinateSystem_defineProperties(e.prototype,t),r&&PolarCoordinateSystem_defineProperties(e,r),e}(PolarCoordinateSystem,[{key:"GetDefaultAxis",value:function GetDefaultAxis(e){switch(e){case G.RadialAxis:return this.DefaultAxisDimension1;case G.AngularAxis:return this.DefaultAxisDimension2;default:throw new Error('Axis type "'.concat(e,'" is not supported in a polar coordinate system.'))}}},{key:"GetDimension1AxisName",value:function GetDimension1AxisName(){return this.PropertyStore[G.RadialAxis]}},{key:"GetDimension2AxisName",value:function GetDimension2AxisName(){return this.PropertyStore[G.AngularAxis]}}]),PolarCoordinateSystem}();function CartesianCoordinateSystem_typeof(e){return(CartesianCoordinateSystem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CartesianCoordinateSystem_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CartesianCoordinateSystem_possibleConstructorReturn(e,t){return!t||"object"!==CartesianCoordinateSystem_typeof(t)&&"function"!=typeof t?function CartesianCoordinateSystem_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CartesianCoordinateSystem_getPrototypeOf(e){return(CartesianCoordinateSystem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CartesianCoordinateSystem_setPrototypeOf(e,t){return(CartesianCoordinateSystem_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var zc=function(){function CartesianCoordinateSystem(e,t,r){var n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return function CartesianCoordinateSystem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CartesianCoordinateSystem),CartesianCoordinateSystem_possibleConstructorReturn(this,CartesianCoordinateSystem_getPrototypeOf(CartesianCoordinateSystem).call(this,e,t,r,n))}return function CartesianCoordinateSystem_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CartesianCoordinateSystem_setPrototypeOf(e,t)}(CartesianCoordinateSystem,Vc),function CartesianCoordinateSystem_createClass(e,t,r){return t&&CartesianCoordinateSystem_defineProperties(e.prototype,t),r&&CartesianCoordinateSystem_defineProperties(e,r),e}(CartesianCoordinateSystem,[{key:"GetDefaultAxis",value:function GetDefaultAxis(e){switch(e){case G.XAxis:return this.DefaultAxisDimension1;case G.YAxis:return this.DefaultAxisDimension2;default:throw new Error('Axis type "'.concat(e,'" is not supported in a cartesian coordinate system.'))}}},{key:"GetDimension1AxisName",value:function GetDimension1AxisName(){return this.PropertyStore[G.XAxis]}},{key:"GetDimension2AxisName",value:function GetDimension2AxisName(){return this.PropertyStore[G.YAxis]}}]),CartesianCoordinateSystem}();function GraphAxis_typeof(e){return(GraphAxis_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GraphAxis_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GraphAxis_possibleConstructorReturn(e,t){return!t||"object"!==GraphAxis_typeof(t)&&"function"!=typeof t?function GraphAxis_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GraphAxis_getPrototypeOf(e){return(GraphAxis_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GraphAxis_setPrototypeOf(e,t){return(GraphAxis_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Fc=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Uc=function(){function GraphAxis(e,t,r){var n,o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return function GraphAxis_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GraphAxis),(n=GraphAxis_possibleConstructorReturn(this,GraphAxis_getPrototypeOf(GraphAxis).call(this,e,t,r,o))).crossAxisPositions=[],n}return function GraphAxis_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GraphAxis_setPrototypeOf(e,t)}(GraphAxis,S),function GraphAxis_createClass(e,t,r){return t&&GraphAxis_defineProperties(e.prototype,t),r&&GraphAxis_defineProperties(e,r),e}(GraphAxis,[{key:"CreateChildComponentsFromPropertyStore",value:function CreateChildComponentsFromPropertyStore(){return Fc(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createChildComponentsFromPropertyStoreBase();case 2:if(this.PropertyStore[G.Scale])return e.next=6,this.createCollectionPropertyComponents(G.CrossAxisPositions,this.crossAxisPositions,this.PropertyStore[G.Scale]);e.next=6;break;case 6:case"end":return e.stop()}},_callee,this)}))}},{key:"CrossAxisPositions",get:function get(){return this.crossAxisPositions}}]),GraphAxis}();function CrossAxisPosition_typeof(e){return(CrossAxisPosition_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CrossAxisPosition_possibleConstructorReturn(e,t){return!t||"object"!==CrossAxisPosition_typeof(t)&&"function"!=typeof t?function CrossAxisPosition_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CrossAxisPosition_getPrototypeOf(e){return(CrossAxisPosition_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CrossAxisPosition_setPrototypeOf(e,t){return(CrossAxisPosition_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var $c=function(){function CrossAxisPosition(){return function CrossAxisPosition_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CrossAxisPosition),CrossAxisPosition_possibleConstructorReturn(this,CrossAxisPosition_getPrototypeOf(CrossAxisPosition).apply(this,arguments))}return function CrossAxisPosition_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CrossAxisPosition_setPrototypeOf(e,t)}(CrossAxisPosition,S),CrossAxisPosition}();function ScaleEditor_typeof(e){return(ScaleEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ScaleEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ScaleEditor_possibleConstructorReturn(e,t){return!t||"object"!==ScaleEditor_typeof(t)&&"function"!=typeof t?function ScaleEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ScaleEditor_getPrototypeOf(e){return(ScaleEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ScaleEditor_setPrototypeOf(e,t){return(ScaleEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var qc=function(){function ScaleEditor(){return function ScaleEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ScaleEditor),ScaleEditor_possibleConstructorReturn(this,ScaleEditor_getPrototypeOf(ScaleEditor).apply(this,arguments))}return function ScaleEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ScaleEditor_setPrototypeOf(e,t)}(ScaleEditor,Us),function ScaleEditor_createClass(e,t,r){return t&&ScaleEditor_defineProperties(e.prototype,t),r&&ScaleEditor_defineProperties(e,r),e}(ScaleEditor,[{key:"GetInstanceTypes",value:function GetInstanceTypes(){return this.propertyWrapper.Property.InstanceTypes.map(function(e){return new $s(e,e.replace("Scale"," scale"))})}}]),ScaleEditor}();function GraphAxisEditor_typeof(e){return(GraphAxisEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GraphAxisEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GraphAxisEditor_possibleConstructorReturn(e,t){return!t||"object"!==GraphAxisEditor_typeof(t)&&"function"!=typeof t?function GraphAxisEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GraphAxisEditor_get(e,t,r){return(GraphAxisEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function GraphAxisEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=GraphAxisEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function GraphAxisEditor_getPrototypeOf(e){return(GraphAxisEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GraphAxisEditor_setPrototypeOf(e,t){return(GraphAxisEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Jc=function(){function GraphAxisEditor(){return function GraphAxisEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GraphAxisEditor),GraphAxisEditor_possibleConstructorReturn(this,GraphAxisEditor_getPrototypeOf(GraphAxisEditor).apply(this,arguments))}return function GraphAxisEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GraphAxisEditor_setPrototypeOf(e,t)}(GraphAxisEditor,ds),function GraphAxisEditor_createClass(e,t,r){return t&&GraphAxisEditor_defineProperties(e.prototype,t),r&&GraphAxisEditor_defineProperties(e,r),e}(GraphAxisEditor,[{key:"init",value:function init(){this.graphCoordinateSystem=this.propertyWrapper.Components[0],this.graph=this.graphCoordinateSystem.Parent,GraphAxisEditor_get(GraphAxisEditor_getPrototypeOf(GraphAxisEditor.prototype),"init",this).call(this)}},{key:"GetChildProperties",value:function GetChildProperties(){var t=this.propertyWrapper.GetValue(),r=this.graph.Axes.find(function(e){return e.Name===t});return(r=r||this.graphCoordinateSystem.AddNewGraphAxis(this.propertyWrapper.Name)).GetProperties().map(function(e){return new $o([r],[r.PropertyStore],e,null)})}},{key:"EditorInfo",get:function get(){var t=this.propertyWrapper.GetValue(),e=null,r=this.graph.Axes.find(function(e){return e.Name===t});if(r){var n=r.GetPropertyValue("Scale");return n&&(e=n[G.NetType]),"".concat(t," (").concat(e,")")}return this.StringResources.NoneSelected}}]),GraphAxisEditor}();function GraphSeriesCollectionEditor_typeof(e){return(GraphSeriesCollectionEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GraphSeriesCollectionEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GraphSeriesCollectionEditor_possibleConstructorReturn(e,t){return!t||"object"!==GraphSeriesCollectionEditor_typeof(t)&&"function"!=typeof t?function GraphSeriesCollectionEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GraphSeriesCollectionEditor_get(e,t,r){return(GraphSeriesCollectionEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function GraphSeriesCollectionEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=GraphSeriesCollectionEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function GraphSeriesCollectionEditor_getPrototypeOf(e){return(GraphSeriesCollectionEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GraphSeriesCollectionEditor_setPrototypeOf(e,t){return(GraphSeriesCollectionEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Kc=function(){function GraphSeriesCollectionEditor(){return function GraphSeriesCollectionEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GraphSeriesCollectionEditor),GraphSeriesCollectionEditor_possibleConstructorReturn(this,GraphSeriesCollectionEditor_getPrototypeOf(GraphSeriesCollectionEditor).apply(this,arguments))}return function GraphSeriesCollectionEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GraphSeriesCollectionEditor_setPrototypeOf(e,t)}(GraphSeriesCollectionEditor,Rc),function GraphSeriesCollectionEditor_createClass(e,t,r){return t&&GraphSeriesCollectionEditor_defineProperties(e.prototype,t),r&&GraphSeriesCollectionEditor_defineProperties(e,r),e}(GraphSeriesCollectionEditor,[{key:"removeItemCore",value:function removeItemCore(e,t){GraphSeriesCollectionEditor_get(GraphSeriesCollectionEditor_getPrototypeOf(GraphSeriesCollectionEditor.prototype),"removeItemCore",this).call(this,e,t)}}]),GraphSeriesCollectionEditor}();function GraphSeries_typeof(e){return(GraphSeries_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GraphSeries_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GraphSeries_possibleConstructorReturn(e,t){return!t||"object"!==GraphSeries_typeof(t)&&"function"!=typeof t?function GraphSeries_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GraphSeries_getPrototypeOf(e){return(GraphSeries_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GraphSeries_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GraphSeries_setPrototypeOf(e,t)}function GraphSeries_setPrototypeOf(e,t){return(GraphSeries_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Qc=function(){function GraphSeries(){return GraphSeries_classCallCheck(this,GraphSeries),GraphSeries_possibleConstructorReturn(this,GraphSeries_getPrototypeOf(GraphSeries).apply(this,arguments))}return GraphSeries_inherits(GraphSeries,S),GraphSeries}(),Zc=function(){function LineSeries(){return GraphSeries_classCallCheck(this,LineSeries),GraphSeries_possibleConstructorReturn(this,GraphSeries_getPrototypeOf(LineSeries).apply(this,arguments))}return GraphSeries_inherits(LineSeries,Qc),LineSeries}(),Xc=function(){function AreaSeries(){return GraphSeries_classCallCheck(this,AreaSeries),GraphSeries_possibleConstructorReturn(this,GraphSeries_getPrototypeOf(AreaSeries).apply(this,arguments))}return GraphSeries_inherits(AreaSeries,Qc),AreaSeries}(),Yc=function(){function BarSeries(){return GraphSeries_classCallCheck(this,BarSeries),GraphSeries_possibleConstructorReturn(this,GraphSeries_getPrototypeOf(BarSeries).apply(this,arguments))}return GraphSeries_inherits(BarSeries,Qc),BarSeries}(),eu=function(){function OhlcSeries(){return GraphSeries_classCallCheck(this,OhlcSeries),GraphSeries_possibleConstructorReturn(this,GraphSeries_getPrototypeOf(OhlcSeries).apply(this,arguments))}return GraphSeries_inherits(OhlcSeries,Qc),OhlcSeries}();function SeriesSelectParentItemEditor_typeof(e){return(SeriesSelectParentItemEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SeriesSelectParentItemEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SeriesSelectParentItemEditor_possibleConstructorReturn(e,t){return!t||"object"!==SeriesSelectParentItemEditor_typeof(t)&&"function"!=typeof t?function SeriesSelectParentItemEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SeriesSelectParentItemEditor_get(e,t,r){return(SeriesSelectParentItemEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function SeriesSelectParentItemEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SeriesSelectParentItemEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function SeriesSelectParentItemEditor_getPrototypeOf(e){return(SeriesSelectParentItemEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SeriesSelectParentItemEditor_setPrototypeOf(e,t){return(SeriesSelectParentItemEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var tu=function(){function SeriesSelectParentItemEditor(){return function SeriesSelectParentItemEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SeriesSelectParentItemEditor),SeriesSelectParentItemEditor_possibleConstructorReturn(this,SeriesSelectParentItemEditor_getPrototypeOf(SeriesSelectParentItemEditor).apply(this,arguments))}return function SeriesSelectParentItemEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SeriesSelectParentItemEditor_setPrototypeOf(e,t)}(SeriesSelectParentItemEditor,Cs),function SeriesSelectParentItemEditor_createClass(e,t,r){return t&&SeriesSelectParentItemEditor_defineProperties(e.prototype,t),r&&SeriesSelectParentItemEditor_defineProperties(e,r),e}(SeriesSelectParentItemEditor,[{key:"init",value:function init(){this.seriesBase=this.propertyWrapper.Components[0],this.graphBase=this.seriesBase.Parent,SeriesSelectParentItemEditor_get(SeriesSelectParentItemEditor_getPrototypeOf(SeriesSelectParentItemEditor.prototype),"init",this).call(this)}},{key:"GetOptions",value:function GetOptions(){return this.GetGraphItemCollection().map(function(e){return function SeriesSelectParentItemEditor_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},G.Name,e.Name)}).sort()}},{key:"GetDropDownListInitialValue",value:function GetDropDownListInitialValue(e){var t=this.GetPropertyWrapperValue();return!t&&e.length&&(t=e[0].Name,this.UpdatePropertyWrapperValue(t)),t}},{key:"ComponentSeries",get:function get(){return this.seriesBase}},{key:"Component",get:function get(){return this.graphBase}}]),SeriesSelectParentItemEditor}();function SeriesSelectGraphItemEditor_typeof(e){return(SeriesSelectGraphItemEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SeriesSelectGraphItemEditor_possibleConstructorReturn(e,t){return!t||"object"!==SeriesSelectGraphItemEditor_typeof(t)&&"function"!=typeof t?function SeriesSelectGraphItemEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SeriesSelectGraphItemEditor_getPrototypeOf(e){return(SeriesSelectGraphItemEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SeriesSelectGraphItemEditor_setPrototypeOf(e,t){return(SeriesSelectGraphItemEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ru=function(){function SeriesSelectGraphItemEditor(){return function SeriesSelectGraphItemEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SeriesSelectGraphItemEditor),SeriesSelectGraphItemEditor_possibleConstructorReturn(this,SeriesSelectGraphItemEditor_getPrototypeOf(SeriesSelectGraphItemEditor).apply(this,arguments))}return function SeriesSelectGraphItemEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SeriesSelectGraphItemEditor_setPrototypeOf(e,t)}(SeriesSelectGraphItemEditor,tu),SeriesSelectGraphItemEditor}();function GraphCategoryGroupEditor_typeof(e){return(GraphCategoryGroupEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GraphCategoryGroupEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GraphCategoryGroupEditor_possibleConstructorReturn(e,t){return!t||"object"!==GraphCategoryGroupEditor_typeof(t)&&"function"!=typeof t?function GraphCategoryGroupEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GraphCategoryGroupEditor_getPrototypeOf(e){return(GraphCategoryGroupEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GraphCategoryGroupEditor_setPrototypeOf(e,t){return(GraphCategoryGroupEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var nu=function(){function GraphCategoryGroupEditor(){return function GraphCategoryGroupEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GraphCategoryGroupEditor),GraphCategoryGroupEditor_possibleConstructorReturn(this,GraphCategoryGroupEditor_getPrototypeOf(GraphCategoryGroupEditor).apply(this,arguments))}return function GraphCategoryGroupEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GraphCategoryGroupEditor_setPrototypeOf(e,t)}(GraphCategoryGroupEditor,ru),function GraphCategoryGroupEditor_createClass(e,t,r){return t&&GraphCategoryGroupEditor_defineProperties(e.prototype,t),r&&GraphCategoryGroupEditor_defineProperties(e,r),e}(GraphCategoryGroupEditor,[{key:"GetGraphItemCollection",value:function GetGraphItemCollection(){return this.Component.CategoryGroups}}]),GraphCategoryGroupEditor}();function GraphSeriesGroupEditor_typeof(e){return(GraphSeriesGroupEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GraphSeriesGroupEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GraphSeriesGroupEditor_possibleConstructorReturn(e,t){return!t||"object"!==GraphSeriesGroupEditor_typeof(t)&&"function"!=typeof t?function GraphSeriesGroupEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function GraphSeriesGroupEditor_getPrototypeOf(e){return(GraphSeriesGroupEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GraphSeriesGroupEditor_setPrototypeOf(e,t){return(GraphSeriesGroupEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ou=function(){function GraphSeriesGroupEditor(){return function GraphSeriesGroupEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GraphSeriesGroupEditor),GraphSeriesGroupEditor_possibleConstructorReturn(this,GraphSeriesGroupEditor_getPrototypeOf(GraphSeriesGroupEditor).apply(this,arguments))}return function GraphSeriesGroupEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GraphSeriesGroupEditor_setPrototypeOf(e,t)}(GraphSeriesGroupEditor,ru),function GraphSeriesGroupEditor_createClass(e,t,r){return t&&GraphSeriesGroupEditor_defineProperties(e.prototype,t),r&&GraphSeriesGroupEditor_defineProperties(e,r),e}(GraphSeriesGroupEditor,[{key:"GetGraphItemCollection",value:function GetGraphItemCollection(){return this.Component.SeriesGroups}}]),GraphSeriesGroupEditor}();function ArrangeByAxisEditor_typeof(e){return(ArrangeByAxisEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ArrangeByAxisEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ArrangeByAxisEditor_possibleConstructorReturn(e,t){return!t||"object"!==ArrangeByAxisEditor_typeof(t)&&"function"!=typeof t?function ArrangeByAxisEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ArrangeByAxisEditor_getPrototypeOf(e){return(ArrangeByAxisEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ArrangeByAxisEditor_setPrototypeOf(e,t){return(ArrangeByAxisEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var iu=function(){function ArrangeByAxisEditor(){return function ArrangeByAxisEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ArrangeByAxisEditor),ArrangeByAxisEditor_possibleConstructorReturn(this,ArrangeByAxisEditor_getPrototypeOf(ArrangeByAxisEditor).apply(this,arguments))}return function ArrangeByAxisEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ArrangeByAxisEditor_setPrototypeOf(e,t)}(ArrangeByAxisEditor,ru),function ArrangeByAxisEditor_createClass(e,t,r){return t&&ArrangeByAxisEditor_defineProperties(e.prototype,t),r&&ArrangeByAxisEditor_defineProperties(e,r),e}(ArrangeByAxisEditor,[{key:"GetOptions",value:function GetOptions(){var t=this.ComponentSeries.GetPropertyValue(G.CoordinateSystem);if(t){var e=this.Component.CoordinateSystems.find(function(e){return e.Name===t});if(e)return e.GetAxes().map(function(e){return function ArrangeByAxisEditor_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},G.Name,e.Name)})}return[]}},{key:"GetDropDownListInitialValue",value:function GetDropDownListInitialValue(){return this.GetPropertyWrapperValue()||this.StringResources.NoneSelected}},{key:"GetOptionLabel",value:function GetOptionLabel(){return this.StringResources.NoneSelected}},{key:"GetGraphItemCollection",value:function GetGraphItemCollection(){throw new Error("Method not implemented.")}}]),ArrangeByAxisEditor}();function SeriesCoordinateSystemEditor_typeof(e){return(SeriesCoordinateSystemEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SeriesCoordinateSystemEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SeriesCoordinateSystemEditor_possibleConstructorReturn(e,t){return!t||"object"!==SeriesCoordinateSystemEditor_typeof(t)&&"function"!=typeof t?function SeriesCoordinateSystemEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function SeriesCoordinateSystemEditor_getPrototypeOf(e){return(SeriesCoordinateSystemEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SeriesCoordinateSystemEditor_setPrototypeOf(e,t){return(SeriesCoordinateSystemEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var au=function(){function SeriesCoordinateSystemEditor(){return function SeriesCoordinateSystemEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SeriesCoordinateSystemEditor),SeriesCoordinateSystemEditor_possibleConstructorReturn(this,SeriesCoordinateSystemEditor_getPrototypeOf(SeriesCoordinateSystemEditor).apply(this,arguments))}return function SeriesCoordinateSystemEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SeriesCoordinateSystemEditor_setPrototypeOf(e,t)}(SeriesCoordinateSystemEditor,ru),function SeriesCoordinateSystemEditor_createClass(e,t,r){return t&&SeriesCoordinateSystemEditor_defineProperties(e.prototype,t),r&&SeriesCoordinateSystemEditor_defineProperties(e,r),e}(SeriesCoordinateSystemEditor,[{key:"GetGraphItemCollection",value:function GetGraphItemCollection(){return this.Component.SeriesGroups}}]),SeriesCoordinateSystemEditor}();function MapSeriesCollectionEditor_typeof(e){return(MapSeriesCollectionEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MapSeriesCollectionEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MapSeriesCollectionEditor_possibleConstructorReturn(e,t){return!t||"object"!==MapSeriesCollectionEditor_typeof(t)&&"function"!=typeof t?function MapSeriesCollectionEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function MapSeriesCollectionEditor_get(e,t,r){return(MapSeriesCollectionEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function MapSeriesCollectionEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=MapSeriesCollectionEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function MapSeriesCollectionEditor_getPrototypeOf(e){return(MapSeriesCollectionEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MapSeriesCollectionEditor_setPrototypeOf(e,t){return(MapSeriesCollectionEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var su=function(){function MapSeriesCollectionEditor(){return function MapSeriesCollectionEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MapSeriesCollectionEditor),MapSeriesCollectionEditor_possibleConstructorReturn(this,MapSeriesCollectionEditor_getPrototypeOf(MapSeriesCollectionEditor).apply(this,arguments))}return function MapSeriesCollectionEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MapSeriesCollectionEditor_setPrototypeOf(e,t)}(MapSeriesCollectionEditor,Rc),function MapSeriesCollectionEditor_createClass(e,t,r){return t&&MapSeriesCollectionEditor_defineProperties(e.prototype,t),r&&MapSeriesCollectionEditor_defineProperties(e,r),e}(MapSeriesCollectionEditor,[{key:"removeItemCore",value:function removeItemCore(e,t){MapSeriesCollectionEditor_get(MapSeriesCollectionEditor_getPrototypeOf(MapSeriesCollectionEditor.prototype),"removeItemCore",this).call(this,e,t)}}]),MapSeriesCollectionEditor}();function MapSeries_typeof(e){return(MapSeries_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MapSeries_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MapSeries_possibleConstructorReturn(e,t){return!t||"object"!==MapSeries_typeof(t)&&"function"!=typeof t?function MapSeries_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function MapSeries_getPrototypeOf(e){return(MapSeries_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MapSeries_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MapSeries_setPrototypeOf(e,t)}function MapSeries_setPrototypeOf(e,t){return(MapSeries_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var cu=function(){function MapSeriesBase(){return MapSeries_classCallCheck(this,MapSeriesBase),MapSeries_possibleConstructorReturn(this,MapSeries_getPrototypeOf(MapSeriesBase).apply(this,arguments))}return MapSeries_inherits(MapSeriesBase,S),MapSeriesBase}(),uu=function(){function ShapeMapSeries(){return MapSeries_classCallCheck(this,ShapeMapSeries),MapSeries_possibleConstructorReturn(this,MapSeries_getPrototypeOf(ShapeMapSeries).apply(this,arguments))}return MapSeries_inherits(ShapeMapSeries,cu),ShapeMapSeries}(),lu=function(){function LocationMapSeries(){return MapSeries_classCallCheck(this,LocationMapSeries),MapSeries_possibleConstructorReturn(this,MapSeries_getPrototypeOf(LocationMapSeries).apply(this,arguments))}return MapSeries_inherits(LocationMapSeries,cu),LocationMapSeries}(),pu=function(){function PointMapSeries(){return MapSeries_classCallCheck(this,PointMapSeries),MapSeries_possibleConstructorReturn(this,MapSeries_getPrototypeOf(PointMapSeries).apply(this,arguments))}return MapSeries_inherits(PointMapSeries,lu),PointMapSeries}(),fu=function(){function GraphMapSeries(){return MapSeries_classCallCheck(this,GraphMapSeries),MapSeries_possibleConstructorReturn(this,MapSeries_getPrototypeOf(GraphMapSeries).apply(this,arguments))}return MapSeries_inherits(GraphMapSeries,pu),GraphMapSeries}(),du=function(){function ColumnMapSeries(){return MapSeries_classCallCheck(this,ColumnMapSeries),MapSeries_possibleConstructorReturn(this,MapSeries_getPrototypeOf(ColumnMapSeries).apply(this,arguments))}return MapSeries_inherits(ColumnMapSeries,fu),ColumnMapSeries}(),yu=function(){function BarGraphMapSeries(){return MapSeries_classCallCheck(this,BarGraphMapSeries),MapSeries_possibleConstructorReturn(this,MapSeries_getPrototypeOf(BarGraphMapSeries).apply(this,arguments))}return MapSeries_inherits(BarGraphMapSeries,du),BarGraphMapSeries}(),hu=function(){function PieMapSeries(){return MapSeries_classCallCheck(this,PieMapSeries),MapSeries_possibleConstructorReturn(this,MapSeries_getPrototypeOf(PieMapSeries).apply(this,arguments))}return MapSeries_inherits(PieMapSeries,fu),PieMapSeries}(),mu=function(){function PieGraphMapSeries(){return MapSeries_classCallCheck(this,PieGraphMapSeries),MapSeries_possibleConstructorReturn(this,MapSeries_getPrototypeOf(PieGraphMapSeries).apply(this,arguments))}return MapSeries_inherits(PieGraphMapSeries,hu),PieGraphMapSeries}();function DateTimeEditor_typeof(e){return(DateTimeEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DateTimeEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DateTimeEditor_possibleConstructorReturn(e,t){return!t||"object"!==DateTimeEditor_typeof(t)&&"function"!=typeof t?function DateTimeEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function DateTimeEditor_get(e,t,r){return(DateTimeEditor_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function DateTimeEditor_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DateTimeEditor_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function DateTimeEditor_getPrototypeOf(e){return(DateTimeEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DateTimeEditor_setPrototypeOf(e,t){return(DateTimeEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var gu=function(){function DateTimeEditor(){return function DateTimeEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DateTimeEditor),DateTimeEditor_possibleConstructorReturn(this,DateTimeEditor_getPrototypeOf(DateTimeEditor).apply(this,arguments))}return function DateTimeEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DateTimeEditor_setPrototypeOf(e,t)}(DateTimeEditor,ls),function DateTimeEditor_createClass(e,t,r){return t&&DateTimeEditor_defineProperties(e.prototype,t),r&&DateTimeEditor_defineProperties(e,r),e}(DateTimeEditor,[{key:"UpdatePropertyWrapperValue",value:function UpdatePropertyWrapperValue(t){if(t)try{var e=new Date(t);DateTimeEditor_get(DateTimeEditor_getPrototypeOf(DateTimeEditor.prototype),"UpdatePropertyWrapperValue",this).call(this,e.toUTCString().replace(/\s*(GMT|UTC)$/,""))}catch(e){p.LogError('The entered text "'.concat(t,'" is not a valid date.'))}}},{key:"allowExtendedEditor",get:function get(){return!1}}]),DateTimeEditor}();function MultiLineEditor_typeof(e){return(MultiLineEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MultiLineEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MultiLineEditor_possibleConstructorReturn(e,t){return!t||"object"!==MultiLineEditor_typeof(t)&&"function"!=typeof t?function MultiLineEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function MultiLineEditor_getPrototypeOf(e){return(MultiLineEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MultiLineEditor_setPrototypeOf(e,t){return(MultiLineEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var vu=function(){function MultiLineEditor(){return function MultiLineEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MultiLineEditor),MultiLineEditor_possibleConstructorReturn(this,MultiLineEditor_getPrototypeOf(MultiLineEditor).apply(this,arguments))}return function MultiLineEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MultiLineEditor_setPrototypeOf(e,t)}(MultiLineEditor,ls),function MultiLineEditor_createClass(e,t,r){return t&&MultiLineEditor_defineProperties(e.prototype,t),r&&MultiLineEditor_defineProperties(e,r),e}(MultiLineEditor,[{key:"template",get:function get(){return'\n            <div id="'.concat(this.id,'" class="twd-editor -input">\n                <label class="editor__content">\n                    <span class="editor__name" title="').concat(this.LocalizedName,'">\n                        ').concat(this.LocalizedName,'\n                    </span>\n                    <textarea wrap="hard" class="k-textbox editor__value" style="resize:none; overflow:hidden">').concat(this.value,'</textarea>\n                    <span class="editor__edit">\n                        <span class="k-icon k-i-more-horizontal"></span>\n                    </span>\n                </label>\n            </div>\n        ')}}]),MultiLineEditor}();function MapLegend_typeof(e){return(MapLegend_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MapLegend_possibleConstructorReturn(e,t){return!t||"object"!==MapLegend_typeof(t)&&"function"!=typeof t?function MapLegend_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function MapLegend_getPrototypeOf(e){return(MapLegend_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MapLegend_setPrototypeOf(e,t){return(MapLegend_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var bu=function(){function MapLegend(){return function MapLegend_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MapLegend),MapLegend_possibleConstructorReturn(this,MapLegend_getPrototypeOf(MapLegend).apply(this,arguments))}return function MapLegend_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MapLegend_setPrototypeOf(e,t)}(MapLegend,Qo),MapLegend}();function DateTimeScaleCrossAxisPosition_typeof(e){return(DateTimeScaleCrossAxisPosition_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DateTimeScaleCrossAxisPosition_possibleConstructorReturn(e,t){return!t||"object"!==DateTimeScaleCrossAxisPosition_typeof(t)&&"function"!=typeof t?function DateTimeScaleCrossAxisPosition_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function DateTimeScaleCrossAxisPosition_getPrototypeOf(e){return(DateTimeScaleCrossAxisPosition_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DateTimeScaleCrossAxisPosition_setPrototypeOf(e,t){return(DateTimeScaleCrossAxisPosition_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var _u=function(){function DateTimeScaleCrossAxisPosition(){return function DateTimeScaleCrossAxisPosition_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DateTimeScaleCrossAxisPosition),DateTimeScaleCrossAxisPosition_possibleConstructorReturn(this,DateTimeScaleCrossAxisPosition_getPrototypeOf(DateTimeScaleCrossAxisPosition).apply(this,arguments))}return function DateTimeScaleCrossAxisPosition_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DateTimeScaleCrossAxisPosition_setPrototypeOf(e,t)}(DateTimeScaleCrossAxisPosition,$c),DateTimeScaleCrossAxisPosition}();function NumericalScaleCrossAxisPosition_typeof(e){return(NumericalScaleCrossAxisPosition_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NumericalScaleCrossAxisPosition_possibleConstructorReturn(e,t){return!t||"object"!==NumericalScaleCrossAxisPosition_typeof(t)&&"function"!=typeof t?function NumericalScaleCrossAxisPosition_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function NumericalScaleCrossAxisPosition_getPrototypeOf(e){return(NumericalScaleCrossAxisPosition_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NumericalScaleCrossAxisPosition_setPrototypeOf(e,t){return(NumericalScaleCrossAxisPosition_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Su=function(){function NumericalScaleCrossAxisPosition(){return function NumericalScaleCrossAxisPosition_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NumericalScaleCrossAxisPosition),NumericalScaleCrossAxisPosition_possibleConstructorReturn(this,NumericalScaleCrossAxisPosition_getPrototypeOf(NumericalScaleCrossAxisPosition).apply(this,arguments))}return function NumericalScaleCrossAxisPosition_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NumericalScaleCrossAxisPosition_setPrototypeOf(e,t)}(NumericalScaleCrossAxisPosition,$c),NumericalScaleCrossAxisPosition}();function LogarithmicScaleCrossAxisPosition_typeof(e){return(LogarithmicScaleCrossAxisPosition_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LogarithmicScaleCrossAxisPosition_possibleConstructorReturn(e,t){return!t||"object"!==LogarithmicScaleCrossAxisPosition_typeof(t)&&"function"!=typeof t?function LogarithmicScaleCrossAxisPosition_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function LogarithmicScaleCrossAxisPosition_getPrototypeOf(e){return(LogarithmicScaleCrossAxisPosition_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LogarithmicScaleCrossAxisPosition_setPrototypeOf(e,t){return(LogarithmicScaleCrossAxisPosition_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Cu=function(){function LogarithmicScaleCrossAxisPosition(){return function LogarithmicScaleCrossAxisPosition_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LogarithmicScaleCrossAxisPosition),LogarithmicScaleCrossAxisPosition_possibleConstructorReturn(this,LogarithmicScaleCrossAxisPosition_getPrototypeOf(LogarithmicScaleCrossAxisPosition).apply(this,arguments))}return function LogarithmicScaleCrossAxisPosition_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LogarithmicScaleCrossAxisPosition_setPrototypeOf(e,t)}(LogarithmicScaleCrossAxisPosition,$c),LogarithmicScaleCrossAxisPosition}();function CategoryScaleCrossAxisPosition_typeof(e){return(CategoryScaleCrossAxisPosition_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CategoryScaleCrossAxisPosition_possibleConstructorReturn(e,t){return!t||"object"!==CategoryScaleCrossAxisPosition_typeof(t)&&"function"!=typeof t?function CategoryScaleCrossAxisPosition_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CategoryScaleCrossAxisPosition_getPrototypeOf(e){return(CategoryScaleCrossAxisPosition_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CategoryScaleCrossAxisPosition_setPrototypeOf(e,t){return(CategoryScaleCrossAxisPosition_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Pu=function(){function CategoryScaleCrossAxisPosition(){return function CategoryScaleCrossAxisPosition_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CategoryScaleCrossAxisPosition),CategoryScaleCrossAxisPosition_possibleConstructorReturn(this,CategoryScaleCrossAxisPosition_getPrototypeOf(CategoryScaleCrossAxisPosition).apply(this,arguments))}return function CategoryScaleCrossAxisPosition_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CategoryScaleCrossAxisPosition_setPrototypeOf(e,t)}(CategoryScaleCrossAxisPosition,$c),CategoryScaleCrossAxisPosition}();function CrossAxisPositionEditorBase_typeof(e){return(CrossAxisPositionEditorBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CrossAxisPositionEditorBase_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CrossAxisPositionEditorBase_possibleConstructorReturn(e,t){return!t||"object"!==CrossAxisPositionEditorBase_typeof(t)&&"function"!=typeof t?function CrossAxisPositionEditorBase_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function CrossAxisPositionEditorBase_get(e,t,r){return(CrossAxisPositionEditorBase_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function CrossAxisPositionEditorBase_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CrossAxisPositionEditorBase_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function CrossAxisPositionEditorBase_getPrototypeOf(e){return(CrossAxisPositionEditorBase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CrossAxisPositionEditorBase_setPrototypeOf(e,t){return(CrossAxisPositionEditorBase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var wu=function(){function CrossAxisPositionEditorBase(e,t,r){return function CrossAxisPositionEditorBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CrossAxisPositionEditorBase),CrossAxisPositionEditorBase_possibleConstructorReturn(this,CrossAxisPositionEditorBase_getPrototypeOf(CrossAxisPositionEditorBase).call(this,e,t,r))}return function CrossAxisPositionEditorBase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CrossAxisPositionEditorBase_setPrototypeOf(e,t)}(CrossAxisPositionEditorBase,Bs),function CrossAxisPositionEditorBase_createClass(e,t,r){return t&&CrossAxisPositionEditorBase_defineProperties(e.prototype,t),r&&CrossAxisPositionEditorBase_defineProperties(e,r),e}(CrossAxisPositionEditorBase,[{key:"loadPopUpEditors",value:function loadPopUpEditors(){var t=this;CrossAxisPositionEditorBase_get(CrossAxisPositionEditorBase_getPrototypeOf(CrossAxisPositionEditorBase.prototype),"loadPopUpEditors",this).call(this);var e=this.ChildEditors.find(function(e){return e instanceof Es});e?(e.kendoWidget.bind("change",function(e){t.setValueEditorState(e)}),this.setValueEditorState({sender:e.kendoWidget})):p.LogWarning("Cannot find the Position editor")}},{key:"setValueEditorState",value:function setValueEditorState(e){if(e&&e.sender){var t=e.sender.value();if(t){var r=this.ChildEditors.find(function(e){return e instanceof Xa&&e.propertyWrapper.Name===G.Value});r&&(r.Enabled="specific"==t.toLowerCase())}}}}]),CrossAxisPositionEditorBase}();function SchemaService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SchemaService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ou=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Eu=function(){function SchemaService(e,t){var r,n,o,i,a=this;!function SchemaService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SchemaService),this.unknownEditors=[],this.provider=e,this.reportDesignerApiUrl=t,this.typeSchemaCache={},this.defaultPropertyStoreCache={},this.expressionBuilderHierarchyCache=null,this.fontsCache=null,this.paperSizeCache=null,this.cultureContext=null,this.componentMap=(SchemaService_defineProperty(r={},_.Report,ye),SchemaService_defineProperty(r,_.PageHeaderSection,oe),SchemaService_defineProperty(r,_.TocSection,ue),SchemaService_defineProperty(r,_.ReportHeaderSection,ae),SchemaService_defineProperty(r,_.GroupHeaderSection,pe),SchemaService_defineProperty(r,_.DetailSection,X),SchemaService_defineProperty(r,_.GroupFooterSection,fe),SchemaService_defineProperty(r,_.ReportFooterSection,ie),SchemaService_defineProperty(r,_.PageFooterSection,ne),SchemaService_defineProperty(r,_.Panel,hn),SchemaService_defineProperty(r,_.List,Ho),SchemaService_defineProperty(r,_.Table,rt),SchemaService_defineProperty(r,_.Crosstab,Ao),SchemaService_defineProperty(r,_.Barcode,To),SchemaService_defineProperty(r,_.CheckBox,Do),SchemaService_defineProperty(r,_.Graph,Ro),SchemaService_defineProperty(r,_.HtmlTextBox,jo),SchemaService_defineProperty(r,_.Map,Go),SchemaService_defineProperty(r,_.PictureBox,Bo),SchemaService_defineProperty(r,_.Shape,Mo),SchemaService_defineProperty(r,_.SubReport,te),SchemaService_defineProperty(r,_.TextBox,Ne),SchemaService_defineProperty(r,_.SqlDataSource,fi),SchemaService_defineProperty(r,_.CsvDataSource,Yo),SchemaService_defineProperty(r,_.WebServiceDataSource,gi),SchemaService_defineProperty(r,_.JsonDataSource,ci),SchemaService_defineProperty(r,_.Parameter,wc),SchemaService_defineProperty(r,_.ReportParameter,pi),SchemaService_defineProperty(r,_.SqlDataSourceParameter,_c),SchemaService_defineProperty(r,_.WebServiceParameter,Sc),SchemaService_defineProperty(r,_.CalculatedField,Zo),SchemaService_defineProperty(r,_.StyleRule,di),SchemaService_defineProperty(r,_.Group,li),SchemaService_defineProperty(r,_.TableGroup,Le),SchemaService_defineProperty(r,_.GraphGroup,ri),SchemaService_defineProperty(r,_.MapGroup,ii),SchemaService_defineProperty(r,_.GeoLocationMapGroup,ai),SchemaService_defineProperty(r,_.ShapeMapGroup,si),SchemaService_defineProperty(r,_.TocLevel,se),SchemaService_defineProperty(r,_.GraphTitle,ni),SchemaService_defineProperty(r,_.MapTitle,oi),SchemaService_defineProperty(r,_.DataColumn,ei),SchemaService_defineProperty(r,_.MapLegend,bu),SchemaService_defineProperty(r,_.Watermark,Gc),SchemaService_defineProperty(r,_.TextWatermark,jc),SchemaService_defineProperty(r,_.PictureWatermark,Bc),SchemaService_defineProperty(r,_.GraphCoordinateSystem,Vc),SchemaService_defineProperty(r,_.PolarCoordinateSystem,Wc),SchemaService_defineProperty(r,_.CartesianCoordinateSystem,zc),SchemaService_defineProperty(r,_.GraphAxis,Uc),SchemaService_defineProperty(r,_.CrossAxisPosition,$c),SchemaService_defineProperty(r,_.DateTimeScaleCrossAxisPosition,_u),SchemaService_defineProperty(r,_.NumericalScaleCrossAxisPosition,Su),SchemaService_defineProperty(r,_.CategoryScaleCrossAxisPosition,Pu),SchemaService_defineProperty(r,_.LogarithmicScaleCrossAxisPosition,Cu),SchemaService_defineProperty(r,_.GraphSeries,Qc),SchemaService_defineProperty(r,_.LineSeries,Zc),SchemaService_defineProperty(r,_.AreaSeries,Xc),SchemaService_defineProperty(r,_.BarSeries,Yc),SchemaService_defineProperty(r,_.OhlcSeries,eu),SchemaService_defineProperty(r,_.MapSeriesBase,cu),SchemaService_defineProperty(r,_.ShapeMapSeries,uu),SchemaService_defineProperty(r,_.LocationMapSeries,lu),SchemaService_defineProperty(r,_.PointMapSeries,pu),SchemaService_defineProperty(r,_.GraphMapSeries,fu),SchemaService_defineProperty(r,_.PieMapSeries,hu),SchemaService_defineProperty(r,_.PieGraphMapSeries,mu),SchemaService_defineProperty(r,_.ColumnMapSeries,du),SchemaService_defineProperty(r,_.BarGraphMapSeries,yu),SchemaService_defineProperty(r,yi.TableGroups,hi),SchemaService_defineProperty(r,yi.TablePart,mi),SchemaService_defineProperty(r,_.Grouping,T),SchemaService_defineProperty(r,_.Sorting,N),SchemaService_defineProperty(r,_.Filter,V),SchemaService_defineProperty(r,_.FormattingRule,Pc),SchemaService_defineProperty(r,_.ExternalStyleSheet,ti),SchemaService_defineProperty(r,_.DataItem,U),SchemaService_defineProperty(r,_.GroupSection,Y),SchemaService_defineProperty(r,_.PageSection,re),SchemaService_defineProperty(r,_.ReportItem,P),SchemaService_defineProperty(r,_.ReportItemBase,A),SchemaService_defineProperty(r,_.TextItemBase,Ae),r),this.designerMap=(SchemaService_defineProperty(n={},_.Report,Yi),SchemaService_defineProperty(n,_.PageHeaderSection,ha),SchemaService_defineProperty(n,_.TocSection,qa),SchemaService_defineProperty(n,_.ReportHeaderSection,wa),SchemaService_defineProperty(n,_.GroupHeaderSection,sa),SchemaService_defineProperty(n,_.DetailSection,ra),SchemaService_defineProperty(n,_.GroupFooterSection,aa),SchemaService_defineProperty(n,_.ReportFooterSection,Pa),SchemaService_defineProperty(n,_.PageFooterSection,ya),SchemaService_defineProperty(n,_.Panel,ga),SchemaService_defineProperty(n,_.List,za),SchemaService_defineProperty(n,_.Table,za),SchemaService_defineProperty(n,_.Crosstab,za),SchemaService_defineProperty(n,_.Barcode,Fi),SchemaService_defineProperty(n,_.CheckBox,$i),SchemaService_defineProperty(n,_.Graph,oa),SchemaService_defineProperty(n,_.HtmlTextBox,ua),SchemaService_defineProperty(n,_.Map,fa),SchemaService_defineProperty(n,_.PictureBox,ba),SchemaService_defineProperty(n,_.Shape,Ea),SchemaService_defineProperty(n,_.SubReport,Li),SchemaService_defineProperty(n,_.TextBox,Fa),SchemaService_defineProperty(n,_.SqlDataSource,Da),SchemaService_defineProperty(n,_.CsvDataSource,Qi),SchemaService_defineProperty(n,_.WebServiceDataSource,Ja),SchemaService_defineProperty(n,_.JsonDataSource,la),SchemaService_defineProperty(n,_.Group,Ca),SchemaService_defineProperty(n,_.TableGroup,Ra),SchemaService_defineProperty(n,_.GraphGroup,qi),SchemaService_defineProperty(n,_.MapGroup,qi),SchemaService_defineProperty(n,_.GeoLocationMapGroup,qi),SchemaService_defineProperty(n,_.ShapeMapGroup,qi),SchemaService_defineProperty(n,_.TocLevel,Ua),SchemaService_defineProperty(n,yi.TableGroups,Ia),SchemaService_defineProperty(n,yi.TablePart,Ga),SchemaService_defineProperty(n,_.Measure,qi),SchemaService_defineProperty(n,_.Grouping,qi),SchemaService_defineProperty(n,_.Sorting,qi),SchemaService_defineProperty(n,_.Filter,qi),SchemaService_defineProperty(n,_.FormattingRule,qi),SchemaService_defineProperty(n,_.Parameter,ka),SchemaService_defineProperty(n,_.ReportParameter,ka),SchemaService_defineProperty(n,_.StyleRule,ka),SchemaService_defineProperty(n,_.SqlDataSourceParameter,ka),SchemaService_defineProperty(n,_.WebServiceParameter,ka),SchemaService_defineProperty(n,_.CalculatedField,ka),SchemaService_defineProperty(n,_.GraphTitle,ka),SchemaService_defineProperty(n,_.MapTitle,ka),SchemaService_defineProperty(n,_.ExternalStyleSheet,ka),SchemaService_defineProperty(n,_.DataColumn,ka),SchemaService_defineProperty(n,_.MapLegend,ka),SchemaService_defineProperty(n,_.Watermark,ka),SchemaService_defineProperty(n,_.TextWatermark,ka),SchemaService_defineProperty(n,_.PictureWatermark,ka),SchemaService_defineProperty(n,_.GraphCoordinateSystem,ka),SchemaService_defineProperty(n,_.PolarCoordinateSystem,ka),SchemaService_defineProperty(n,_.CartesianCoordinateSystem,ka),SchemaService_defineProperty(n,_.GraphAxis,ka),SchemaService_defineProperty(n,_.CrossAxisPosition,ka),SchemaService_defineProperty(n,_.DateTimeScaleCrossAxisPosition,ka),SchemaService_defineProperty(n,_.NumericalScaleCrossAxisPosition,ka),SchemaService_defineProperty(n,_.LogarithmicScaleCrossAxisPosition,ka),SchemaService_defineProperty(n,_.CategoryScaleCrossAxisPosition,ka),SchemaService_defineProperty(n,_.GraphSeries,ka),SchemaService_defineProperty(n,_.LineSeries,ka),SchemaService_defineProperty(n,_.BarSeries,ka),SchemaService_defineProperty(n,_.AreaSeries,ka),SchemaService_defineProperty(n,_.OhlcSeries,ka),SchemaService_defineProperty(n,_.MapSeriesBase,ka),SchemaService_defineProperty(n,_.PointMapSeries,ka),SchemaService_defineProperty(n,_.LocationMapSeries,ka),SchemaService_defineProperty(n,_.ShapeMapSeries,ka),SchemaService_defineProperty(n,_.GraphMapSeries,ka),SchemaService_defineProperty(n,_.PieMapSeries,ka),SchemaService_defineProperty(n,_.PieGraphMapSeries,ka),SchemaService_defineProperty(n,_.ColumnMapSeries,ka),SchemaService_defineProperty(n,_.BarGraphMapSeries,ka),n),this.editorMap=(SchemaService_defineProperty(o={},_.Char,fs),SchemaService_defineProperty(o,_.String,ls),SchemaService_defineProperty(o,_.Int32,As),SchemaService_defineProperty(o,_.Double,ws),SchemaService_defineProperty(o,_.Decimal,ws),SchemaService_defineProperty(o,_.DateTime,gu),SchemaService_defineProperty(o,_.Boolean,is),SchemaService_defineProperty(o,"Enum",Es),SchemaService_defineProperty(o,"Unit",Ws),SchemaService_defineProperty(o,"Type",Es),SchemaService_defineProperty(o,"EmbeddedExpressionEditor",ls),SchemaService_defineProperty(o,"Telerik.Reporting.Design.StyleEditor",fc),SchemaService_defineProperty(o,"Style",fc),SchemaService_defineProperty(o,"ToolTip",ds),SchemaService_defineProperty(o,"Telerik.Reporting.Design.PageSettingsEditor",nc),SchemaService_defineProperty(o,"Color",Ss),SchemaService_defineProperty(o,"BackgroundColor",Ss),SchemaService_defineProperty(o,"BackgroundImage",Ya),SchemaService_defineProperty(o,"Image",ys),SchemaService_defineProperty(o,"Padding",Ks),SchemaService_defineProperty(o,"MarginsU",Qs),SchemaService_defineProperty(o,"Border",cs),SchemaService_defineProperty(o,"BorderSide",us),SchemaService_defineProperty(o,"FontCollection",Ts),SchemaService_defineProperty(o,"Alignment",Za),SchemaService_defineProperty(o,"Font",Ds),SchemaService_defineProperty(o,"FontStyle",Gs),SchemaService_defineProperty(o,"System.Drawing.Design.FontNameEditor",Rs),SchemaService_defineProperty(o,"Line",Ls),SchemaService_defineProperty(o,"Visible",is),SchemaService_defineProperty(o,"LineStyle",Es),SchemaService_defineProperty(o,"LineWidth",Ws),SchemaService_defineProperty(o,"LineColor",Ss),SchemaService_defineProperty(o,"VerticalAlign",gc),SchemaService_defineProperty(o,"TextAlign",gc),SchemaService_defineProperty(o,"StyleSheet",yc),SchemaService_defineProperty(o,"Telerik.Reporting.Design.ESSCollectionEditor",Bs),SchemaService_defineProperty(o,"BindingCollection",os),SchemaService_defineProperty(o,"GroupCollection",Ms),SchemaService_defineProperty(o,"Telerik.Reporting.Design.GraphGroupCollectionEditor",Bs),SchemaService_defineProperty(o,"Telerik.Reporting.Design.MapGroupCollectionEditor",Bs),SchemaService_defineProperty(o,"Telerik.Reporting.Design.Graphing.CategoryGroupEditor",nu),SchemaService_defineProperty(o,"Telerik.Reporting.Design.Graphing.SeriesGroupEditor",ou),SchemaService_defineProperty(o,"Telerik.Reporting.Design.SeriesCoordinateSystemEditor",au),SchemaService_defineProperty(o,"ReportParameterCollection",Bs),SchemaService_defineProperty(o,"ParameterCollection",Bs),SchemaService_defineProperty(o,"SortingCollection",Bs),SchemaService_defineProperty(o,"FilterCollection",Bs),SchemaService_defineProperty(o,"GroupingCollection",Bs),SchemaService_defineProperty(o,"SelectorCollection",cc),SchemaService_defineProperty(o,"Telerik.Reporting.Design.ReportParameterValueExpressionEditor",lc),SchemaService_defineProperty(o,"ReportParameterAvailableValues",ds),SchemaService_defineProperty(o,"Telerik.Reporting.Data.Design.DataSourceEditor",Ps),SchemaService_defineProperty(o,"Telerik.Reporting.Design.PaperKindEditor",oc),SchemaService_defineProperty(o,"PointU",Fs),SchemaService_defineProperty(o,"SizeU",uc),SchemaService_defineProperty(o,"Char[]",ps),SchemaService_defineProperty(o,"WebServiceAuthentication",ds),SchemaService_defineProperty(o,"WebServiceTwoStepAuthentication",ds),SchemaService_defineProperty(o,"WebServiceBasicAuthentication",ds),SchemaService_defineProperty(o,"Encoding",ks),SchemaService_defineProperty(o,"Telerik.Reporting.Design.ShapeEditor",Oc),SchemaService_defineProperty(o,"IAction",Us),SchemaService_defineProperty(o,"Telerik.Reporting.Design.BarcodeEncoderEditor",Ec),SchemaService_defineProperty(o,"GraphLegend",ds),SchemaService_defineProperty(o,"Telerik.Reporting.Design.GraphItemPositionEditor",Es),SchemaService_defineProperty(o,"IColorPalette",ds),SchemaService_defineProperty(o,"Telerik.Reporting.Design.ReportSourceEditor",kc),SchemaService_defineProperty(o,"ConditionalFormatting",Bs),SchemaService_defineProperty(o,"SqlDataSourceParameterCollection",Bs),SchemaService_defineProperty(o,"WebServiceParameterCollection",Bs),SchemaService_defineProperty(o,"CalculatedFieldCollection",Bs),SchemaService_defineProperty(o,"TocLevelCollection",mc),SchemaService_defineProperty(o,"GraphTitleCollection",Bs),SchemaService_defineProperty(o,"MapTitleCollection",Bs),SchemaService_defineProperty(o,"CsvEscapeFormat",Es),SchemaService_defineProperty(o,"DataColumnCollection",Bs),SchemaService_defineProperty(o,"IExtent",ds),SchemaService_defineProperty(o,"MapLegendCollection",Bs),SchemaService_defineProperty(o,"Telerik.Reporting.Design.LocationProviderEditor",qs),SchemaService_defineProperty(o,"Telerik.Reporting.Design.ProjectionEditor",ds),SchemaService_defineProperty(o,"MapScaleLegend",ds),SchemaService_defineProperty(o,"Collection`1",Ac),SchemaService_defineProperty(o,"List`1",Ac),SchemaService_defineProperty(o,"Telerik.Reporting.Design.TileProviderEditor",Tc),SchemaService_defineProperty(o,"Watermark",Nc),SchemaService_defineProperty(o,"WatermarkCollection",Ic),SchemaService_defineProperty(o,"GraticuleLine",ds),SchemaService_defineProperty(o,"GraphCoordinateSystem",Nc),SchemaService_defineProperty(o,"GraphCoordinateSystemCollection",Hc),SchemaService_defineProperty(o,"GraphAxis",Jc),SchemaService_defineProperty(o,"Scale",qc),SchemaService_defineProperty(o,"GraphSeries",Nc),SchemaService_defineProperty(o,"GraphSeriesCollection",Kc),SchemaService_defineProperty(o,"LegendItem",ds),SchemaService_defineProperty(o,"GraphScaleCrossAxisPosition",Es),SchemaService_defineProperty(o,"DateTimeScaleCrossAxisPositionCollection",wu),SchemaService_defineProperty(o,"NumericalScaleCrossAxisPositionCollection",wu),SchemaService_defineProperty(o,"CategoryScaleCrossAxisPositionCollection",wu),SchemaService_defineProperty(o,"LogarithmicScaleCrossAxisPositionCollection",wu),SchemaService_defineProperty(o,"Telerik.Reporting.Design.ArrangeByAxisEditor",iu),SchemaService_defineProperty(o,"Telerik.Reporting.Design.MapSeriesCollectionEditor",su),SchemaService_defineProperty(o,"MapSeriesBase",Nc),SchemaService_defineProperty(o,"Telerik.Reporting.Design.GeoLocationMapGroupCollectionEditor",Bs),SchemaService_defineProperty(o,"Telerik.WebReportDesigner.WebDesignerDateTimeEditor",gu),SchemaService_defineProperty(o,"Telerik.WebReportDesigner.JsonDataSourceSourcePropertyEditor",Hs),SchemaService_defineProperty(o,"Telerik.WebReportDesigner.PasswordPropertyEditor",ic),SchemaService_defineProperty(o,"Telerik.WebReportDesigner.StringWrapperEditor",lc),SchemaService_defineProperty(o,"Telerik.WebReportDesigner.PictureBoxImageEditor",ac),SchemaService_defineProperty(o,"Telerik.WebReportDesigner.CheckBoxImageEditor",bs),SchemaService_defineProperty(o,"Telerik.WebReportDesigner.DataSourceParameterValueEditor",lc),SchemaService_defineProperty(o,"Telerik.WebReportDesigner.ParameterValueEditor",lc),SchemaService_defineProperty(o,"Telerik.WebReportDesigner.WebDesignerPaperSizeEditor",rc),SchemaService_defineProperty(o,"Telerik.WebReportDesigner.WebDesignerUploadImageEditor",ys),SchemaService_defineProperty(o,"Telerik.WebReportDesigner.WebDesignerMultiLineEditor",vu),SchemaService_defineProperty(o,"ReportItemBase",null),SchemaService_defineProperty(o,"RectangleU",null),o),this.iconMap=(SchemaService_defineProperty(i={Default:"k-i-parameters-unknown"},_.Report,"k-i-calculator"),SchemaService_defineProperty(i,_.PageHeaderSection,"k-i-page-header-section"),SchemaService_defineProperty(i,_.TocSection,"k-i-toc-section"),SchemaService_defineProperty(i,_.ReportHeaderSection,"k-i-report-header-section"),SchemaService_defineProperty(i,_.GroupHeaderSection,"k-i-group-header-section"),SchemaService_defineProperty(i,_.DetailSection,"k-i-detail-section"),SchemaService_defineProperty(i,_.GroupFooterSection,"k-i-group-footer-section"),SchemaService_defineProperty(i,_.ReportFooterSection,"k-i-report-footer-section"),SchemaService_defineProperty(i,_.PageFooterSection,"k-i-page-footer-section"),SchemaService_defineProperty(i,_.Panel,"k-i-checkbox"),SchemaService_defineProperty(i,_.List,"k-i-list-unordered"),SchemaService_defineProperty(i,_.Table,"k-i-table"),SchemaService_defineProperty(i,_.Crosstab,"k-i-crosstab"),SchemaService_defineProperty(i,_.TableWizard,"k-i-wizard-table"),SchemaService_defineProperty(i,_.CrosstabWizard,"k-i-wizard-crosstab"),SchemaService_defineProperty(i,_.Barcode,"k-i-barcode-outline"),SchemaService_defineProperty(i,_.CheckBox,"k-i-checkbox-checked"),SchemaService_defineProperty(i,_.Graph,"k-i-graph"),SchemaService_defineProperty(i,_.HtmlTextBox,"k-i-code-snippet"),SchemaService_defineProperty(i,_.Map,"k-i-globe-outline"),SchemaService_defineProperty(i,_.Choropleth,"k-i-choropleth"),SchemaService_defineProperty(i,_.PictureBox,"k-i-image"),SchemaService_defineProperty(i,_.Shape,"k-i-shape"),SchemaService_defineProperty(i,_.SubReport,"k-i-subreport"),SchemaService_defineProperty(i,_.TextBox,"k-i-textbox-hidden"),SchemaService_defineProperty(i,_.DataSourceCollection,"k-i-data"),SchemaService_defineProperty(i,_.SqlDataSource,"k-i-data-sql"),SchemaService_defineProperty(i,_.CsvDataSource,"k-i-data-csv"),SchemaService_defineProperty(i,_.WebServiceDataSource,"k-i-data-web"),SchemaService_defineProperty(i,_.JsonDataSource,"k-i-data-json"),SchemaService_defineProperty(i,_.TocLevel,"k-i-toc-section-level"),SchemaService_defineProperty(i,_.GroupCollection,"k-i-group-collection"),SchemaService_defineProperty(i,_.Group,"k-i-group-section"),SchemaService_defineProperty(i,_.TableGroup,"k-i-insert-up"),SchemaService_defineProperty(i,_.CellCollection,"k-i-pane-freeze"),SchemaService_defineProperty(i,_.TableCell,"k-i-table-cell"),SchemaService_defineProperty(i,_.ReportParametersCollection,"k-i-parameters"),SchemaService_defineProperty(i,_.ReportParameter,"k-i-parameters"),SchemaService_defineProperty(i,_.StyleSheet,"k-i-palette"),SchemaService_defineProperty(i,_.StyleRule,"k-i-palette"),SchemaService_defineProperty(i,po.String,"k-i-parameter-string"),SchemaService_defineProperty(i,po.Integer,"k-i-parameter-integer"),SchemaService_defineProperty(i,po.Boolean,"k-i-parameter-boolean"),SchemaService_defineProperty(i,po.Float,"k-i-parameter-float"),SchemaService_defineProperty(i,po.DateTime,"k-i-parameter-date-time"),SchemaService_defineProperty(i,_.String,"k-i-parameter-string"),SchemaService_defineProperty(i,_.Boolean,"k-i-parameter-boolean"),SchemaService_defineProperty(i,_.Decimal,"k-i-parameter-float"),SchemaService_defineProperty(i,_.Float,"k-i-parameter-float"),SchemaService_defineProperty(i,_.Single,"k-i-parameter-float"),SchemaService_defineProperty(i,_.Double,"k-i-parameter-float"),SchemaService_defineProperty(i,_.Int32,"k-i-parameter-integer"),SchemaService_defineProperty(i,_.Int64,"k-i-parameter-integer"),SchemaService_defineProperty(i,_.Integer,"k-i-parameter-integer"),SchemaService_defineProperty(i,_.DateTime,"k-i-parameter-date-time"),SchemaService_defineProperty(i,_.TimeSpan,"k-i-parameter-date-time"),SchemaService_defineProperty(i,_.DayOfWeek,"k-i-parameter-string"),SchemaService_defineProperty(i,_.DateTimeKind,"k-i-parameter-string"),SchemaService_defineProperty(i,_.ByteArray,"k-i-parameters-byte-array"),i),this.getCultureContext().then(function(e){return a.cultureContext=e})}return function SchemaService_createClass(e,t,r){return t&&SchemaService_defineProperties(e.prototype,t),r&&SchemaService_defineProperties(e,r),e}(SchemaService,[{key:"GetComponentType",value:function GetComponentType(e){return this.componentMap[e]}},{key:"GetDesignerType",value:function GetDesignerType(e){return this.designerMap[e]}},{key:"GetEditorType",value:function GetEditorType(e,t){var r=1<arguments.length&&void 0!==t?t:null,n=this.editorMap[e]||this.editorMap[r];if(void 0!==n)return n;if(window.TelerikWebReportDesignerDebugMode&&!this.unknownEditors.includes(o)){var o="".concat(e," ").concat(r);this.unknownEditors.push(o),p.LogError("Unknown Editor: EditorType: ".concat(e,", MemberType: ").concat(r))}return vc}},{key:"GetTypeSchema",value:function GetTypeSchema(r){return Ou(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.typeSchemaCache[r]?t=this.typeSchemaCache[r]:(t=fetch("".concat(this.reportDesignerApiUrl,"typeSchema/").concat(r)).then(function(e){return e.json()}),this.SetTypeSchema(r,t)),e.next=3,t;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},_callee,this)}))}},{key:"GetExpressionBuilderSchema",value:function GetExpressionBuilderSchema(){return Ou(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.expressionBuilderHierarchyCache)return e.abrupt("return",this.expressionBuilderHierarchyCache);e.next=2;break;case 2:return e.next=4,fetch("".concat(this.reportDesignerApiUrl,"expressionBuilderHierarchy"),{method:"GET"});case 4:if(t=e.sent,r=this.provider.GetService(I.WebReportDesignerStrings),t.ok){e.next=10;break}return this.provider.GetService(I.Notifications).Error(r.ExpressionSchema,"",!0),e.abrupt("return");case 10:return e.next=12,t.json();case 12:return this.expressionBuilderHierarchyCache=e.sent,e.abrupt("return",this.expressionBuilderHierarchyCache);case 14:case"end":return e.stop()}},_callee2,this)}))}},{key:"GetExpressionBuilderParametersSchema",value:function GetExpressionBuilderParametersSchema(o){return Ou(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r,n;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return t=[],o.forEach(function(e){return t.push(e.Name)}),e.next=4,fetch("".concat(this.reportDesignerApiUrl,"expressionBuilderParametersHierarchy"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:if(r=e.sent,n=this.provider.GetService(I.WebReportDesignerStrings),r.ok){e.next=10;break}return this.provider.GetService(I.Notifications).Error(n.ExpressionSchema,"",!0),e.abrupt("return");case 10:return e.next=12,r.json();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},_callee3,this)}))}},{key:"getReportParameters",value:function getReportParameters(){return this.provider.GetService(I.IDesignerHost).RootComponent.ReportParameters}},{key:"SetTypeSchema",value:function SetTypeSchema(e,t){this.typeSchemaCache[e]=t}},{key:"TypeSchemaExists",value:function TypeSchemaExists(e){return!!this.typeSchemaCache[e]}},{key:"GetDefaultPropertyStore",value:function GetDefaultPropertyStore(n){return Ou(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:if(this.defaultPropertyStoreCache[n])return e.abrupt("return",JSON.parse(this.defaultPropertyStoreCache[n]));e.next=4;break;case 4:return e.next=6,fetch("".concat(this.reportDesignerApiUrl,"defaultPropertyStore/").concat(n));case 6:return t=e.sent,e.next=9,t.json();case 9:return r=e.sent,n!==_.Report&&delete r.$schema,this.defaultPropertyStoreCache[n]=JSON.stringify(r),e.abrupt("return",r);case 13:case"end":return e.stop()}},_callee4,this)}))}},{key:"GetFontNames",value:function GetFontNames(){return Ou(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var t,r;return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:if(this.fontsCache)return e.abrupt("return",this.fontsCache);e.next=4;break;case 4:return e.next=6,fetch("".concat(this.reportDesignerApiUrl,"fonts"));case 6:return t=e.sent,e.next=9,t.json();case 9:return r=e.sent,this.fontsCache=r,e.abrupt("return",r);case 12:case"end":return e.stop()}},_callee5,this)}))}},{key:"ensurePaperSizes",value:function ensurePaperSizes(){return Ou(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var t,r,n,o,i,a,s,c;return regeneratorRuntime.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:if(this.paperSizeCache){e.next=27;break}return this.paperSizeCache=[],e.next=4,fetch("".concat(this.reportDesignerApiUrl,"papersizes"));case 4:return t=e.sent,e.next=7,t.json();case 7:for(r=e.sent,o=!(n=!0),i=void 0,e.prev=11,a=r[Symbol.iterator]();!(n=(s=a.next()).done);n=!0)c=s.value,this.paperSizeCache.push(new era(c));e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),o=!0,i=e.t0;case 19:e.prev=19,e.prev=20,n||null==a.return||a.return();case 22:if(e.prev=22,o)throw i;e.next=25;break;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},_callee6,this,[[11,15,19,27],[20,,22,26]])}))}},{key:"GetPaperSize",value:function GetPaperSize(t){return Ou(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){return regeneratorRuntime.wrap(function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensurePaperSizes();case 2:return e.abrupt("return",this.paperSizeCache.find(function(e){return e.PaperKind===t}));case 3:case"end":return e.stop()}},_callee7,this)}))}},{key:"getCultureContext",value:function getCultureContext(){return Ou(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){var t;return regeneratorRuntime.wrap(function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.reportDesignerApiUrl,"culturecontext")).then(function(e){return e.json()});case 2:return t=e.sent,e.abrupt("return",new Xna(t));case 4:case"end":return e.stop()}},_callee8,this)}))}},{key:"GetWizardStyleSheets",value:function GetWizardStyleSheets(n){return Ou(this,void 0,void 0,regeneratorRuntime.mark(function _callee9(){var t,r;return regeneratorRuntime.wrap(function _callee9$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.reportDesignerApiUrl,"wizardStyleSheets/").concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},_callee9,this)}))}},{key:"GetIconClass",value:function GetIconClass(e){return this.iconMap[e]||this.iconMap.Default}},{key:"GetFullIconClass",value:function GetFullIconClass(e){return"k-icon ".concat(this.GetIconClass(e))}},{key:"CultureContext",get:function get(){return this.cultureContext}}]),SchemaService}();function StorageService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ku=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Tu=function(){function StorageService(e,t){!function StorageService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StorageService),this.provider=e,this.reportDesignerApiUrl=t,this.webDesignerOptions=this.provider.GetService(I.WebDesignerOptions),this.reportServerWebApiUrl=this.webDesignerOptions.ServiceUrl.replace("/api/reportdesigner/","/api/reportserver/v2/")}return function StorageService_createClass(e,t,r){return t&&StorageService_defineProperties(e.prototype,t),r&&StorageService_defineProperties(e,r),e}(StorageService,[{key:"List",value:function List(){return ku(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.reportDesignerApiUrl,"reports"));case 2:if((t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:return r=e.sent,this.Notifications.Error("Could not list the available reports.",new Error("".concat(r.message," ").concat(r.exceptionMessage))),e.abrupt("return",null);case 9:return e.abrupt("return",t.json());case 10:case"end":return e.stop()}},_callee,this)}))}},{key:"Open",value:function Open(n){return ku(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.reportDesignerApiUrl,"reports/").concat(n,"/"));case 2:if((t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:return r=e.sent,this.Notifications.Error("Could not open report '".concat(n,"'."),new Error("".concat(r.message," ").concat(r.exceptionMessage))),e.abrupt("return",null);case 9:return e.abrupt("return",t.json());case 10:case"end":return e.stop()}},_callee2,this)}))}},{key:"Login",value:function Login(){return ku(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(this.webDesignerOptions.ReportServer.Username)return e.abrupt("return",null);e.next=2;break;case 2:return t={grant_type:"password",username:this.webDesignerOptions.ReportServer.Username,password:this.webDesignerOptions.ReportServer.Password},e.next=5,fetch("".concat(this.reportDesignerApiUrl,"Token/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 5:return(r=e.sent).ok||this.provider.GetService(I.Notifications).Warning("Could not authenticate."),e.abrupt("return",r.json());case 8:case"end":return e.stop()}},_callee3,this)}))}},{key:"Save",value:function Save(n,o){return ku(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.reportDesignerApiUrl,"reports/").concat(n,"/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 2:if((t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:r=e.sent,this.Notifications.Error("Could not save report '".concat(n,"'."),new Error("".concat(r.message," ").concat(r.exceptionMessage))),e.next=11;break;case 10:this.Notifications.Success("Report '".concat(n,"' saved successfully."));case 11:case"end":return e.stop()}},_callee4,this)}))}},{key:"Publish",value:function Publish(n){return ku(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var t,r;return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.reportDesignerApiUrl,"reports/").concat(n,"/-/publish/"),{method:"PUT"});case 2:if((t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:r=e.sent,this.Notifications.Error("Could not publish report '".concat(n,"'."),new Error("".concat(r.message," ").concat(r.exceptionMessage))),e.next=11;break;case 10:this.Notifications.Success("Report '".concat(n,"' published successfully."));case 11:return e.next=13,this.Unlock(n);case 13:case"end":return e.stop()}},_callee5,this)}))}},{key:"Unlock",value:function Unlock(n){return ku(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var t,r;return regeneratorRuntime.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.reportServerWebApiUrl,"reports/").concat(n,"/lock/"),{method:"DELETE"});case 2:if((t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:r=e.sent,this.Notifications.Error("Could not unlock report '".concat(n,"'."),new Error("".concat(r.message," ").concat(r.exceptionMessage))),e.next=11;break;case 10:this.Notifications.Success("Report '".concat(n,"' unlocked successfully."));case 11:case"end":return e.stop()}},_callee6,this)}))}},{key:"Lock",value:function Lock(n){return ku(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var t,r;return regeneratorRuntime.wrap(function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.reportServerWebApiUrl,"reports/").concat(n,"/lock/"),{method:"PUT"});case 2:if((t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:r=e.sent,this.Notifications.Error("Could not lock report '".concat(n,"'."),new Error("".concat(r.message," ").concat(r.exceptionMessage))),e.next=11;break;case 10:this.Notifications.Success("Report '".concat(n,"' locked successfully."));case 11:case"end":return e.stop()}},_callee7,this)}))}},{key:"Delete",value:function Delete(n){return ku(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){var t,r;return regeneratorRuntime.wrap(function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.reportDesignerApiUrl,"reports/").concat(n,"/"),{method:"DELETE"});case 2:if((t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:r=e.sent,this.Notifications.Error("Unable to delete report '".concat(n,"'."),new Error("".concat(r.message," ").concat(r.exceptionMessage))),e.next=11;break;case 10:this.Notifications.Success("Report '".concat(n,"' deleted successfully."));case 11:case"end":return e.stop()}},_callee8,this)}))}},{key:"Notifications",get:function get(){return this.notifications||(this.notifications=this.provider.GetService(I.Notifications)),this.notifications}}]),StorageService}();function TargetCommandManager_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Du=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},xu=function(){function TargetCommandManager(e){var t=this;!function TargetCommandManager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TargetCommandManager),this.provider=e,this.registeredCommands=new Map,this.provider.GetService(I.WebDesignerEventsElement).addEventListener(y.ActiveDesignSurfaceChanged,function(e){t.provider.GetService(I.IDesignSurfaceManager).ActiveDesignSurface&&t.refreshCommands()},!1)}return function TargetCommandManager_createClass(e,t,r){return t&&TargetCommandManager_defineProperties(e.prototype,t),r&&TargetCommandManager_defineProperties(e,r),e}(TargetCommandManager,[{key:"RegisterCommand",value:function RegisterCommand(e){var t=e.CommandId;if(this.FindCommand(t))throw new Error("A command with Id ".concat(t," already exists."));this.registeredCommands.set(t,e)}},{key:"QueryCommandStatus",value:function QueryCommandStatus(e){return this.registeredCommands.has(e)?this.registeredCommands.get(e).Status:null}},{key:"TryExecuteCommand",value:function TryExecuteCommand(e,t){if(this.registeredCommands.has(e)){var r=this.registeredCommands.get(e);return r.Status.Enabled&&r.Execute(t),!0}return!1}},{key:"TryExecuteCommandAsync",value:function TryExecuteCommandAsync(r,n){return Du(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.registeredCommands.has(r)){e.next=8;break}if((t=this.registeredCommands.get(r)).Status.Enabled)return e.next=5,t.Execute(n);e.next=5;break;case 5:return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},_callee,this)}))}},{key:"FindCommand",value:function FindCommand(e){return this.registeredCommands.get(e)}},{key:"refreshCommands",value:function refreshCommands(){for(var e=0,t=Array.from(this.registeredCommands.values());e<t.length;e++){t[e].Reset()}this.provider.GetService(I.SelectionService).ReapplySelection()}}]),TargetCommandManager}();function SetValueCallbacks_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SetValueCallbacks_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ru=function(){function SetValueCallbacks(){!function SetValueCallbacks_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SetValueCallbacks)}return function SetValueCallbacks_createClass(e,t,r){return t&&SetValueCallbacks_defineProperties(e.prototype,t),r&&SetValueCallbacks_defineProperties(e,r),e}(SetValueCallbacks,null,[{key:"updateNamingService",value:function updateNamingService(e,t,r,n){var o=e.provider.GetService(I.NamingService);if(o.NameExists(n))throw new Error("Name '".concat(n,"' already exists."));o.UnregisterName(r),o.RegisterName(n)}},{key:"validateCsvFieldSeparators",value:function validateCsvFieldSeparators(e,t,r,n){var o=[",",";","\t"," "];if(!SetValueCallbacks.areValidSeparators(o,n))throw new Error('The allowed field separators characters are "'.concat(o.join(""),'" plus only one custom character.'))}},{key:"validateCsvRecordSeparators",value:function validateCsvRecordSeparators(e,t,r,n){var o=["\r","\n",";"];if(!SetValueCallbacks.areValidSeparators(o,n))throw new Error('The allowed record separators characters are "'.concat(o.join(""),'" plus only one custom character.'))}},{key:"areValidSeparators",value:function areValidSeparators(e,t){var r=null,n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(!e.includes(c)){if(r)return!1;r=c}}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return!0}},{key:"Definitions",get:function get(){var e;return SetValueCallbacks_defineProperty(e={},G.Name,SetValueCallbacks.updateNamingService),SetValueCallbacks_defineProperty(e,G.FieldSeparators,SetValueCallbacks.validateCsvFieldSeparators),SetValueCallbacks_defineProperty(e,G.RecordSeparators,SetValueCallbacks.validateCsvRecordSeparators),e}}]),SetValueCallbacks}();function ssa(e,t){!function EnumValue_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ssa),this.Name=e,this.Description=t}function TypeDescriptor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Iu=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Gu=function(){function TypeDescriptor(e,t){!function TypeDescriptor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TypeDescriptor),this.provider=t,this.TypeName=e,this.schemaService=this.provider.GetService(I.ISchemaService),this.propertyDescriptorsPromise=null,this.properties=null,this.typeSchema=null,this.instanceTypes=null}return function TypeDescriptor_createClass(e,t,r){return t&&TypeDescriptor_defineProperties(e.prototype,t),r&&TypeDescriptor_defineProperties(e,r),e}(TypeDescriptor,[{key:"InitTypeSchema",value:function InitTypeSchema(){return Iu(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.schemaService.GetTypeSchema(this.TypeName);case 2:this.typeSchema=e.sent,this.properties=this.getPropertiesCore();case 4:case"end":return e.stop()}},_callee,this)}))}},{key:"GetProperty",value:function GetProperty(e){return this.getPropertyCore(e)}},{key:"GetProperties",value:function GetProperties(){return this.properties}},{key:"GetEnumValues",value:function GetEnumValues(){return this.enumValues||(this.enumValues=this.getEnumValuesCore())}},{key:"CreateProperty",value:function CreateProperty(t,e,r,n){var o=!(3<arguments.length&&void 0!==n)||n;this.properties.find(function(e){return e.Name==t})||this.properties.push(new Ji({Name:t,Type:e,Browsable:o},this.provider,r))}},{key:"getEnumValuesCore",value:function getEnumValuesCore(){var t=[];return this.typeSchema.Properties.forEach(function(e){return t.push(new ssa(e.Name,e.Description))}),t}},{key:"getPropertyCore",value:function getPropertyCore(t){return this.properties.find(function(e){return e.Name===t})}},{key:"getPropertiesCore",value:function getPropertiesCore(){var e=[],t=this.typeSchema.Properties;if(t)for(var r=0;r<t.length;r++){var n=t[r];n.Name!==G.Culture&&e.push(new Ji(n,this.provider,Ru.Definitions[n.Name]))}return e}},{key:"InstanceTypes",get:function get(){if(!this.instanceTypes){var e=this.typeSchema.InstanceTypes;e&&(this.instanceTypes=e.split(";"))}return this.instanceTypes}}]),TypeDescriptor}();function TypeDescriptorRepository_toConsumableArray(e){return function TypeDescriptorRepository_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function TypeDescriptorRepository_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function TypeDescriptorRepository_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function TypeDescriptorRepository_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ju=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Bu=function(){function TypeDescriptorRepository(e){!function TypeDescriptorRepository_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TypeDescriptorRepository),this.provider=e}return function TypeDescriptorRepository_createClass(e,t,r){return t&&TypeDescriptorRepository_defineProperties(e.prototype,t),r&&TypeDescriptorRepository_defineProperties(e,r),e}(TypeDescriptorRepository,[{key:"GetComponentTypeDescriptor",value:function GetComponentTypeDescriptor(t){return ju(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.resolveRecursively(t));case 1:case"end":return e.stop()}},_callee,this)}))}},{key:"GetPropertyTypeDescriptor",value:function GetPropertyTypeDescriptor(e){return this[e]}},{key:"getTypeDescriptorCore",value:function getTypeDescriptorCore(r){return ju(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return t=new Gu(r,this.provider),e.next=3,t.InitTypeSchema();case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}},_callee2,this)}))}},{key:"resolveRecursively",value:function resolveRecursively(p){return ju(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t,r,n,o,i,a,s,c,u,l=this;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:if(t=this[p]){e.next=37;break}return e.next=4,this.getTypeDescriptorCore(p);case 4:if(this[p]=t=e.sent,"Enum"!==t.typeSchema.Type)return r=t.GetProperties(),e.next=9,Promise.all(r.filter(function(e){return e.Browsable}).map(function(u){return ju(l,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t,r,n,o,i,a,s,c=this;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:t=[u.Type].concat(TypeDescriptorRepository_toConsumableArray(u.InstanceTypes)).filter(function(e){return c.isReportingType(e)}),n=!(r=!0),o=void 0,e.prev=4,i=t[Symbol.iterator]();case 6:if(r=(a=i.next()).done){e.next=13;break}return s=a.value,e.next=10,this.resolveRecursively(s);case 10:r=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),n=!0,o=e.t0;case 19:e.prev=19,e.prev=20,r||null==i.return||i.return();case 22:if(e.prev=22,n)throw o;e.next=25;break;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},_callee3,this,[[4,15,19,27],[20,,22,26]])}))}));e.next=9;break;case 9:if(!(n=t.InstanceTypes)){e.next=37;break}i=!(o=!0),a=void 0,e.prev=14,s=n[Symbol.iterator]();case 16:if(o=(c=s.next()).done){e.next=23;break}return u=c.value,e.next=20,this.resolveRecursively(u);case 20:o=!0,e.next=16;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(14),i=!0,a=e.t0;case 29:e.prev=29,e.prev=30,o||null==s.return||s.return();case 32:if(e.prev=32,i)throw a;e.next=35;break;case 35:return e.finish(32);case 36:return e.finish(29);case 37:return e.abrupt("return",t);case 38:case"end":return e.stop()}},_callee4,this,[[14,25,29,37],[30,,32,36]])}))}},{key:"isReportingType",value:function isReportingType(e){return"Boolean"!==e&&"Char"!==e&&"Color"!==e&&"Double"!==e&&"Enum"!==e&&"Image"!==e&&"Int32"!==e&&"Object"!==e&&"String"!==e&&"ItemCollection"!==e}}]),TypeDescriptorRepository}();function UiCommandManager_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Mu=function(){function UiCommandManager(e){var t=this;!function UiCommandManager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UiCommandManager),this.provider=e,this.registeredUICommands=new Map,this.provider.GetService(I.WebDesignerEventsElement).addEventListener(y.UpdateUI,function(e){return t.refreshCommands()},!1)}return function UiCommandManager_createClass(e,t,r){return t&&UiCommandManager_defineProperties(e.prototype,t),r&&UiCommandManager_defineProperties(e,r),e}(UiCommandManager,[{key:"RegisterCommand",value:function RegisterCommand(e){var t=e.ID;if(this.FindCommand(t))throw new Error("A command with Id ".concat(t," already exists."));this.registeredUICommands.set(t,e)}},{key:"FindCommand",value:function FindCommand(e){return this.registeredUICommands.get(e)}},{key:"refreshCommands",value:function refreshCommands(){for(var e=0,t=Array.from(this.registeredUICommands.values());e<t.length;e++){t[e].UpdateStatus()}}}]),UiCommandManager}();function ysa(e){var t=this;!function UiService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ysa),this.provider=e,this.UpdateUI=new Event(y.UpdateUI),this.webDesignerEventsElement=this.provider.GetService(I.WebDesignerEventsElement),this.webDesignerEventsElement.addEventListener(y.SelectionChanged,function(e){t.webDesignerEventsElement.dispatchEvent(t.UpdateUI)},!1)}function zsa(){var r=this;!function WebReportDesignerStrings_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,zsa),this.ToolboxAreaTitle="Components",this.PropertiesTitle="Properties",this.PropertiesCategorized="Categorized",this.PropertiesAlphabetical="Alphabetical",this.ExplorerTitle="Explorer",this.CollapseToolbar="Collapse Toolbar",this.MainMenu="Menu",this.More="more",this.Error="Error",this.Warning="Warning",this.Close="Close",this.SearchTitle="Search through the different options.",this.SearchAction="Press enter to filter the available options.",this.GeneratingPreview="GENERATING PREVIEW...",this.CreateNewReport="Create a Report",this.ComponetsItemsList="List layout",this.ComponetsItemsGrid="Grid layout",this.NewReporFileName="File Name",this.NewReporFileType="Save as type",this.OverlapingMessage="Item '{firstItem}' overlaps '{secondItem}'.\nOverlapping items may not appear as expected in some export formats.",this.ReportItemsGroupTitle="Report Items",this.TablesGroupTitle="Tables",this.Panel="Panel",this.TextBox="TextBox",this.HtmlTextBox="HtmlTextBox",this.PictureBox="PictureBox",this.Barcode="Barcode",this.Shape="Shape",this.CheckBox="CheckBox",this.Table="Table",this.TableWizard="Table Wizard",this.Crosstab="Crosstab",this.CrosstabWizard="Crosstab Wizard",this.List="List",this.ReportsGroupTitle="Report",this.SubReport="SubReport",this.MapsGroupTitle="Maps",this.Map="Map",this.Choropleth="Choropleth",this.ChartsGroupTitle="Charts",this.Graph="Graph",this.SectionsGroupTitle="Report Sections",this.PageHeaderSection="Page Header",this.PageFooterSection="Page Footer",this.ReportHeaderSection="Report Header",this.ReportFooterSection="Report Footer",this.TocSection="Table of Contents",this.DataSourcesGroupTitle="Data Sources",this.SqlDataSource="SQL Data Source",this.CsvDataSource="CSV Data Source",this.WebServiceDataSource="Web Service Data Source",this.JsonDataSource="JSON Data Source",this.RedoButton="Redo",this.UndoButton="Undo",this.PreviewButton="Preview",this.OpenButton="Open",this.CloseButton="Close",this.NewButton="New",this.CreateButton="Create",this.SaveButton="Save",this.SaveAsButton="Save As...",this.PublishButton="Publish",this.RevertButton="Revert",this.CancelButton="Cancel",this.CutButton="Cut",this.CopyButton="Copy",this.PasteButton="Paste",this.DeleteButton="Delete",this.FinishButton="Finish",this.NextButton="Next",this.BackButton="Back",this.DesignButton="Design",this.Workspace="Workspace preferences",this.DataSources="Data Sources",this.Groups="Groups",this.Parameters="Parameters",this.Styles="Styles",this.RowGroups="Row Groups",this.ColumnGroups="Column Groups",this.Search="Search",this.Body="Body",this.Corner="Corner",this.PreferencesHeader="Preferences",this.RulersGroupHeader="Ruler and Grid",this.RulerTitle="Show ruler (dimensions)",this.GridTitle="Show grid",this.SnappingGroupHeader="Snapping",this.SnappToGridLineTitle="Snap to grid lines",this.SnappToSnapLineTitle="Snap to snap lines",this.MiscGroupHeader="Misc",this.Watermark="Watermark",this.Pan="Pan",this.LoadMore="Load More",this.Remove="Remove",this.AddImage="Add Image",this.ShowProperties="Show Properties",this.AddItem="Add New Item",this.EditItem="Edit Item",this.RemoveItem="Remove This Item",this.Edit="Edit",this.Configure="Configure",this.Replace="Replace",this.Edited="&nbsp;-&nbsp;Edited",this.ChooseAnOption="Choose an option...",this.NoneSelected="(none)",this.Background="Background",this.Borders="Borders",this.Alignment="Alignment",this.BackgroundImage="BackgroundImage",this.BackgroundColor="BackgroundColor",this.MimeType="MimeType",this.Repeat="Repeat",this.Border="Border",this.Line="Line",this.Font="Font",this.Bold="Bold",this.Italic="Italic",this.Strikeout="Strikeout",this.Underline="Underline",this.Padding="Padding",this.Color="Color",this.Style="Style",this.TitleStyle="TitleStyle",this.Opacity="Opacity",this.ToolTip="ToolTip",this.Visible="Visible",this.PageNumberingStyle="PageNumberingStyle",this.PageSettings="PageSettings",this.DocumentName="DocumentName",this.UnitOfMeasure="UnitOfMeasure",this.Parent="Parent",this.Action="Action",this.BookmarkId="BookmarkId",this.DocumentMapText="DocumentMapText",this.TocText="TocText",this.Name="Name",this.Bindings="Bindings",this.DataSource="DataSource",this.Groupings="Groupings",this.Sortings="Sortings",this.Filters="Filters",this.Groups="Groups",this.ReportParameters="ReportParameters",this.AccessibleDescription="AccessibleDescription",this.ConditionalFormatting="ConditionalFormatting",this.ExternalStyleSheets="ExternalStyleSheets",this.StyleName="StyleName",this.StyleSheet="StyleSheet",this.CanShrink="CanShrink",this.KeepTogether="KeepTogether",this.Anchoring="Anchoring",this.Docking="Docking",this.Location="Location",this.PrintOnFirstPage="PrintOnFirstPage",this.PrintOnLastPage="PrintOnLastPage",this.TextWrap="TextWrap",this.Multiline="Multiline",this.CanGrow="CanGrow",this.Angle="Angle",this.Format="Format",this.Value="Value",this.Width="Width",this.Top="Top",this.Left="Left",this.Center="Center",this.Middle="Middle",this.Justify="Justify",this.Height="Height",this.Size="Size",this.Bottom="Bottom",this.Default="Default",this.Right="Right",this.LineWidth="LineWidth",this.LineStyle="LineStyle",this.TextAlign="TextAlign",this.VerticalAlign="VerticalAlign",this.Text="Text",this.Title="Title",this.ColumnCount="ColumnCount",this.ColumnSpacing="ColumnSpacing",this.ContinuousPaper="ContinuousPaper",this.Landscape="Landscape",this.Margins="Margins",this.PaperKind="PaperKind",this.PaperSize="PaperSize",this.Watermarks="Watermarks",this.Selectors="Selectors",this.Count="Count",this.Item="Item",this.Expression="Expression",this.Path="Path",this.Kind="Kind",this.GroupKeepTogether="GroupKeepTogether",this.AllowBlank="AllowBlank",this.AllowNull="AllowNull",this.AutoRefresh="AutoRefresh",this.AvailableValues="AvailableValues",this.Mergeable="Mergeable",this.MultiValue="MultiValue",this.Type="Type",this.DisplayMember="DisplayMember",this.ValueMember="ValueMember",this.TrueValue="TrueValue",this.FalseValue="FalseValue",this.IndeterminateValue="IndeterminateValue",this.CheckedImage="CheckedImage",this.UncheckedImage="UncheckedImage",this.IndeterminateImage="IndeterminateImage",this.CheckAlign="CheckAlign",this.CalculatedFields="CalculatedFields",this.Columns="Columns",this.CommentToken="CommentToken",this.ConsecutiveFieldSeparatorsAsOne="ConsecutiveFieldSeparatorsAsOne",this.ConsecutiveRecordSeparatorsAsOne="ConsecutiveRecordSeparatorsAsOne",this.DateTimeFormat="DateTimeFormat",this.DecimalSeparator="DecimalSeparator",this.EscapeFormat="EscapeFormat",this.FieldSeparators="FieldSeparators",this.HasHeaders="HasHeaders",this.Quote="Quote",this.RecordSeparators="RecordSeparators",this.Source="Source",this.ThousandSeparator="ThousandSeparator",this.CommandTimeout="CommandTimeout",this.ConnectionString="ConnectionString",this.ProviderName="ProviderName",this.SelectCommand="SelectCommand",this.SelectCommandType="SelectCommandType",this.Authentication="Authentication",this.DataEncoding="DataEncoding",this.DataFormat="DataFormat",this.DataSelector="DataSelector",this.IgnoreResponseErrors="IgnoreResponseErrors",this.Method="Method",this.ServiceUrl="ServiceUrl",this.ExternalFile="ExternalFile",this.InlineData="InlineData",this.Data="Data",this.Password="Password",this.Username="Username",this.LoginMethod="Login Method",this.LoginUrl="Login URL",this.LogoutMethod="Logout Method",this.LogoutUrl="Logout URL",this.ResponseFormat="Response Format",this.TokenPath="Token Path",this.Image="Image",this.EmbeddedImage="Embedded Image",this.CreateNewReport="Create a Report",this.SaveReportAs="Save Report As",this.QuitWizardDialogueTitle="Quit data wizard",this.QuitWizardDialogueConfirmationMessage="Are you sure you want to quit data source configuration ?",this.QuitWizardButton="Quit wizard",this.CancelQuitWizardButton="Cancel",this.SQLDataConnectionHeader="Choose data connection",this.SQLExistingDataConnection="Select from existing data connections",this.SQLNewDataConnection="Build new data connections",this.SQLDataProvider="Data Provider",this.SQLConnectionString="Connection String",this.TestSqlConnection="Test connection",this.ConnectionError="Connection unsuccessful. Check the connection string and try again.",this.ConnectionSuccess="Connection successful.",this.SQLDataSourceSaveConnectionHeader="Data connection options",this.SQLDataSourceSharedConnection="Use as shared connection",this.SQLDataSourceConnectionAlias="Alias:",this.SqlDataSourceSaveConnectionPageNoCreatePermissions="Can not save data connections on the server.",this.SqlDataSourceSaveConnectionPageNoEmbeddedConnections="Embedded data connections are not supported.",this.SqlDataSourceSaveConnectionPageSaveOnServer="The data connection will be saved on the server and will be available for all server reports.",this.SqlDataSourceSaveConnectionPageExist="The data connection is shared and will not be saved.",this.SQLDataEmbeddedConnection="Embedded in the report definition",this.SQLDataEmbeddedConnectionInfo="The data connection will be available for the current report only.",this.SQLDataCommandHeader="Configure data source command",this.SQLDataCommandSubHeader="Specify a select statement or a stored procedure to retrieve data from the data source.",this.SQLDataCommandSelectStatement="Select statement",this.SQLDataCommandStoredProcedure="Stored procedure",this.SQLDataCommandSelectStatementValidation="The Stored statement is not a valid query",this.SQLDataParametersHeader="Configure data source parameters",this.SQLDataParametersSubHeader="Specify a database type and a default value or an expression to evaluate for each data source parameter.",this.SQLDataParameterName="Name",this.SQLDataParameterValue="Value",this.SQLDataParameterDBType="DBType",this.SQLDataParameterDelete="Delete",this.SQLDataAddparameters="Add parameter",this.SQLDataParameterValueBlank="<Blank>",this.SQLDataParameterValueExpression="<Expression>",this.SQLDataParameterValueNewParameter="<New Report Parameter>",this.SQLDataParameterNameValidation="The parameter is already in use",this.SQLDataDesignerParametersHeader="Configure design time parameters",this.SQLDataDesignerParametersSubHeader="Specify an appropriate design time value for each data source parameter.",this.SQLDataPreviewHeader="Preview",this.SQLDataPreviewSubHeader="Preview the result set returned by this data source",this.SQLDataPreviewShowRows="Show top",this.SQLDataPreviewRows="rows",this.SQLDataPreviewQueryButton="Execute Query...",this.SQLDataPreviewQuery="Click '".concat(this.SQLDataPreviewQueryButton,"' to preview the data source result..."),this.SQLDataPreviewValidation="Can not get preview",this.SqlDataSelectStoredProcedure="Select stored procedure",this.SqlPreviewQueryResultsHeader="Preview data source results",this.SqlPreviewQueryNoDataMessage="No data retrieved.",this.CrosstabWizardHeader="Configure Crosstab",this.CrosstabDataCategory="Data",this.CrosstabFieldsCategory="Fields Arrangement",this.CrosstabAppearanceCategory="Appearance",this.Total="Total",this.DataSourceTitle="Data Source",this.NoDataSourceTitle="No Data Source",this.DataSourceFieldsTitle="Data Source Fields",this.ColumnGroupsTitle="Column Groups",this.RowGroupsTitle="Row Groups",this.DetailValuesTitle="Detail Values",this.LayoutTitle="Layout",this.DragAndDropPlaceholder="Drag and drop data source fields",this.AddToColumn="Add to Column Groups",this.AddToRow="Add to Row Groups",this.AddToDetailValues="Add to Detail Values",this.MoveUp="Move Up",this.MoveDown="Move Down",this.Function="Function",this.ExpressionSchema="Could not retrieve Expression schema.",$.each(window.telerikWebDesignerResources,function(e,t){r[e]&&(r[e]=t)})}function SqlDataConnectionService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Au=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Nu=function(){function SqlDataConnectionService(e){!function SqlDataConnectionService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SqlDataConnectionService),this.commonApiUrl=e.ServerUrl,this.reportDesignerApiUrl=e.ServiceUrl,this.version=e.ReportServerLayout?"v2/":""}return function SqlDataConnectionService_createClass(e,t,r){return t&&SqlDataConnectionService_defineProperties(e.prototype,t),r&&SqlDataConnectionService_defineProperties(e,r),e}(SqlDataConnectionService,[{key:"GetDbProviders",value:function GetDbProviders(){return Au(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.commonApiUrl).concat(this.version,"dataconnectionproviders"),{method:"GET"});case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},_callee,this)}))}},{key:"GetConnectionStrings",value:function GetConnectionStrings(){return Au(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var t,r,n,o,i;return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.commonApiUrl).concat(this.version,"dataconnections"),{method:"GET"});case 2:return t=e.sent,e.next=5,t.json();case 5:for(o in r=e.sent,n=new Array,r)i=r[o],n.push(new Cja(i.Name,i.Provider,i.ConnectionString));return e.abrupt("return",n);case 9:case"end":return e.stop()}},_callee2,this)}))}},{key:"TestConnection",value:function TestConnection(r){return Au(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var t;return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.commonApiUrl).concat(this.version,"data/sql/connection/supported"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 2:return t=e.sent,e.abrupt("return",t.text());case 4:case"end":return e.stop()}},_callee3,this)}))}},{key:"ConnectionsPermissions",value:function ConnectionsPermissions(){return Au(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var t;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.commonApiUrl,"connectionspermissions"),{method:"GET"});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},_callee4,this)}))}},{key:"AddConnectionString",value:function AddConnectionString(r){return Au(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var t;return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.commonApiUrl).concat(this.version,"dataconnections"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 2:return t=e.sent,e.abrupt("return",t.status);case 4:case"end":return e.stop()}},_callee5,this)}))}},{key:"GetStoredProcedures",value:function GetStoredProcedures(r){return Au(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var t;return regeneratorRuntime.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.commonApiUrl).concat(this.version,"data/sql/procedures/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},_callee6,this)}))}},{key:"GetParameters",value:function GetParameters(n){return Au(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var t,r;return regeneratorRuntime.wrap(function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.commonApiUrl).concat(this.version,"data/sql/parameters"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",null!=r?r:new Array);case 7:case"end":return e.stop()}},_callee7,this)}))}},{key:"GetPreviewData",value:function GetPreviewData(t){return Au(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.commonApiUrl).concat(this.version,"data/sql/preview"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee8,this)}))}},{key:"GetDataModel",value:function GetDataModel(t){return Au(this,void 0,void 0,regeneratorRuntime.mark(function _callee9(){return regeneratorRuntime.wrap(function _callee9$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.reportDesignerApiUrl,"data/model"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee9,this)}))}}]),SqlDataConnectionService}();function shell_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Hu=function(){function Shell(e,t,r,n,o,i,a){!function shell_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Shell),this.serviceContainer=new Gn,this.reportDesignerApiUrl=e.ServiceUrl,this.documentId=e.Report,this.serviceContainer.AddService(I.WebReportDesignerStrings,new zsa),this.serviceContainer.AddService(I.WebDesignerEventsElement,t[0]),this.serviceContainer.AddService(I.WebDesignerOptions,e),this.serviceContainer.AddService(I.StorageService,new Tu(this,this.reportDesignerApiUrl)),this.serviceContainer.AddService(I.ISchemaService,new Eu(this,this.reportDesignerApiUrl)),this.serviceContainer.AddService(I.IRenderService,new Ko(this,this.reportDesignerApiUrl)),this.serviceContainer.AddService(I.ISqlDataConnectionService,new Nu(e)),this.serviceContainer.AddService(I.UiCommandManager,new Mu(this)),this.serviceContainer.AddService(I.TargetCommandManager,new xu(this)),this.serviceContainer.AddService(I.UiService,new ysa(this)),this.designSurfaceManager=new Zn(this,o),this.serviceContainer.AddService(I.IDesignSurfaceManager,this.designSurfaceManager),this.serviceContainer.AddService(I.Notifications,new ro(t[0],this)),this.serviceContainer.AddService(I.PropertiesArea,new so(n,this)),this.serviceContainer.AddService(I.Preferences,new no(n,this)),this.serviceContainer.AddService(I.ToolboxArea,new _o(r,this)),this.serviceContainer.AddService(I.TopMenuArea,new ko(t,this,this.documentId)),this.serviceContainer.AddService(I.PreviewArea,new oo(i,this.reportDesignerApiUrl,this)),this.serviceContainer.AddService(I.WebReportDesigner,a),this.serviceContainer.AddService(I.IComponentChangeService,new m(this)),this.serviceContainer.AddService(I.ITypeDescriptorRepository,new Bu(this)),this.serviceContainer.AddService(I.ClipboardService,new d(this)),this.serviceContainer.AddService(I.IInstanceFactoryService,new Xn(this)),this.serviceContainer.AddService(I.IPropertyDescriptorWrapperFactory,new qo),new eo(this),new or(g.DocumentOpen,this).Execute(this.documentId)}return function shell_createClass(e,t,r){return t&&shell_defineProperties(e.prototype,t),r&&shell_defineProperties(e,r),e}(Shell,[{key:"GetService",value:function GetService(e){return this.designSurfaceManager&&this.designSurfaceManager.ActiveDesignSurface?this.designSurfaceManager.ActiveDesignSurface.GetService(e):this.serviceContainer.GetService(e)}}]),Shell}();function Dsa(e){!function ReportServerOptions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Dsa),this.Url=e.url||"",this.Username=e.username,this.Password=e.password}function Esa(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];!function WebReportPanelsOptions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Esa),this.Layout=e,this.Collapsed=t}function WebReportDesignerOptions_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Lu=function(){function WebReportDesignerOptions(e,t){!function WebReportDesignerOptions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WebReportDesignerOptions),this.ReportServer=new Dsa(e.reportServer||{}),this.PersistSession=e.persistSession||!1,this.ID=e.id?e.id:t,this.ReportServerLayout=e.reportServerLayout;var r="api/reportdesigner/";this.ServiceUrl=e.serviceUrl||e.reportServer.url||r,this.ServerUrl=this.ServiceUrl,this.ReportServerLayout&&(this.ServiceUrl=e.serviceUrl+r,this.ServerUrl=e.serviceUrl+"api/reportserver/"),this.Report=e.report||"",this.ToolboxArea=new Esa;var n=localStorage.getItem(u.ToolboxAreaLayout);n?this.ToolboxArea.Layout=n:e.toolboxArea&&e.toolboxArea.layout?this.ToolboxArea.Layout=e.toolboxArea.layout:this.ToolboxArea.Layout=u.ToolboxAreaGridLayout;var o=localStorage.getItem(u.ToolboxAreaState);if(o){var i="true"===o;this.ToolboxArea.Collapsed=i}else e.toolboxArea&&null!=e.toolboxArea.collapsed?this.ToolboxArea.Collapsed=e.toolboxArea.collapsed:this.ToolboxArea.Collapsed=!1;this.PropertiesArea=new Esa;var a=localStorage.getItem(u.ProperiesAreaLayout);a?this.PropertiesArea.Layout=a:e.propertiesArea&&e.propertiesArea.layout?this.PropertiesArea.Layout=e.propertiesArea.layout:this.PropertiesArea.Layout=u.ProperiesAreaCategorizedLayout;var s=localStorage.getItem(u.ProperiesAreaState);if(s){var c="true"===s;this.PropertiesArea.Collapsed=c}else e.propertiesArea&&null!=e.propertiesArea.collapsed?this.PropertiesArea.Collapsed=e.propertiesArea.collapsed:this.PropertiesArea.Collapsed=!1}return function WebReportDesignerOptions_createClass(e,t,r){return t&&WebReportDesignerOptions_defineProperties(e.prototype,t),r&&WebReportDesignerOptions_defineProperties(e,r),e}(WebReportDesignerOptions,[{key:"SaveOption",value:function SaveOption(e,t){localStorage.setItem(e,t)}}]),WebReportDesignerOptions}();function WebReportDesigner_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"WebReportDesigner",function(){return Wu});var Vu=function(e,n,o,i){return new(o=o||Promise)(function(t,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,n||[])).next())})},Wu=function(){function WebReportDesigner(e,t){!function WebReportDesigner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WebReportDesigner),this.visualElement=e,this.options=new Lu(t,$(this.visualElement).attr("id")),this.$webDesignerWrapper=$(e),this.$webDesignerContent=null,this.splitter=null,this.styles=[],this.baseUrl=this.resolveBaseUrl,this.styles.push(this.baseUrl+"resources/font/fonticons-14.0.20.219.css/"),this.options.ReportServerLayout||this.styles.push(this.baseUrl+"designerresources/ext_styles/webReportDesignerTheme-14.0.20.219.css/"),this.styles.push(this.baseUrl+"designerresources/styles/webReportDesigner-14.0.20.219.min.css/"),this.initWithPromise()}return function WebReportDesigner_createClass(e,t,r){return t&&WebReportDesigner_defineProperties(e.prototype,t),r&&WebReportDesigner_defineProperties(e,r),e}(WebReportDesigner,[{key:"Show",value:function Show(){this.$webDesignerContent.show()}},{key:"Hide",value:function Hide(){this.$webDesignerContent.hide()}},{key:"initWithPromise",value:function initWithPromise(){var e=this;window.Promise&&window.Event&&window.CustomEvent&&window.fetch&&window.Symbol&&window.Symbol.iterator?this.initWithClipboard():p.LoadScript("https://polyfill.io/v3/polyfill.min.js?features=es5%2Ces2015%2Cdefault%2CArray.prototype.map%2CArray.prototype.flatMap%2CArray.prototype.forEach%2CArray.prototype.includes%2CArray.prototype.indexOf%2CArray.of%2CEvent%2CMap%2CObject.assign%2CObject.defineProperties%2CObject.defineProperty%2CObject.create%2CObject.getOwnPropertyDescriptor%2CObject.getOwnPropertyDescriptors%2CObject.getOwnPropertyNames%2CObject.getPrototypeOf%2CPromise%2CPromise.prototype.finally%2CString.prototype.includes%2CString.prototype.startsWith%2CString.prototype.trim%2CSymbol.iterator%2CSymbol.split%2CWeakMap%2Cfetch",function(){return e.initWithClipboard()})}},{key:"initWithClipboard",value:function initWithClipboard(){var e=this;navigator.clipboard?this.initWithJQueryUi():p.LoadScript(this.baseUrl+"designerresources/ext_js/clipboard.polyfill-2.8.1.min.js/",function(){return e.initWithJQueryUi()})}},{key:"initWithJQueryUi",value:function initWithJQueryUi(){var e=this;window.jQuery.ui?this.init():(p.LoadScript(this.baseUrl+"designerresources/ext_js/jquery.ui-1.12.1.min.js/",function(){return e.init()}),this.styles.push(this.baseUrl+"designerresources/ext_styles/jquery.ui-1.12.1.min.css/"))}},{key:"init",value:function init(){var r=this;this.id=this.$webDesignerWrapper.attr("id");var n=!0;this.$webDesignerWrapper.html(this.template).addClass("".concat(s.WebDesignerClassName));var t=this.$webDesignerWrapper.find(".".concat(s.WebDesignerPropertiesClassName)),e=this.$webDesignerWrapper.find(".".concat(s.WebDesignerToolboxClassName)),o=this.$webDesignerWrapper.find(".".concat(s.WebDesignerCanvasClassName)),i=this.$webDesignerWrapper.find(".".concat(s.WebDesignerPreviewClassName));this.$webDesignerContent=this.$webDesignerWrapper.find(".".concat(s.WebDesignerCanvasContentClassName)),this.loadStyles().then(function(e){r.splitter=r.$webDesignerContent.kendoSplitter({panes:[{min:"245px",size:"245px",collapsible:!0,collapsed:r.options.ToolboxArea.Collapsed},{},{min:"340px",size:"340px",collapsible:!0,collapsed:r.options.PropertiesArea.Collapsed}],resize:function resize(){n&&r.onSectionsResize(t),n=!0},expand:function expand(e){n=!1;var t=$(e.pane).attr("data-id");r.setPaneState(t,!1)},collapse:function collapse(e){n=!1;var t=$(e.pane).attr("data-id");r.setPaneState(t,!0)}}).data("kendoSplitter")}).catch(function(e){console.log(e)}),this.shell=new Hu(this.options,this.$webDesignerWrapper,e,t,o,i,this)}},{key:"onSectionsResize",value:function onSectionsResize(){}},{key:"setPaneState",value:function setPaneState(e,t){switch(e){case u.ToolboxAreaPaneID:this.options.SaveOption(u.ToolboxAreaState,t);break;case u.ProperiesAreaPaneID:this.options.SaveOption(u.ProperiesAreaState,t)}}},{key:"loadStyles",value:function loadStyles(){return Vu(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var t,r,n,o,i,a,s,c;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:for(t=new l,r=[],o=!(n=!0),i=void 0,e.prev=5,a=this.styles[Symbol.iterator]();!(n=(s=a.next()).done);n=!0)c=s.value,r.push(t.Css(c));e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),o=!0,i=e.t0;case 13:e.prev=13,e.prev=14,n||null==a.return||a.return();case 16:if(e.prev=16,o)throw i;e.next=19;break;case 19:return e.finish(16);case 20:return e.finish(13);case 21:return e.abrupt("return",Promise.all(r));case 22:case"end":return e.stop()}},_callee,this,[[5,9,13,21],[14,,16,20]])}))}},{key:"template",get:function get(){return'<div class="designer__content">\n            <div class="'.concat(s.WebDesignerCanvasContentClassName,' k-content" role="form">\n                <div data-id="').concat(u.ToolboxAreaPaneID,'" class="').concat(s.WebDesignerToolboxClassName," ").concat(s.WebDesignerPartsClassName,' k-widget k-header"></div>\n                <div data-id="twd-canvas-area" class="').concat(s.WebDesignerCanvasClassName,' k-widget"></div>\n                <div data-id="').concat(u.ProperiesAreaPaneID,'" class="').concat(s.WebDesignerPropertiesClassName," ").concat(s.WebDesignerPartsClassName,' k-widget k-header"></div>\n            </div>\n            <div class="').concat(s.WebDesignerPreviewClassName," ").concat(s.WebDesignerPartsClassName,'" id="').concat(this.id,'_preview"></div>\n        </div>')}},{key:"resolveBaseUrl",get:function get(){var e=this.options.ServiceUrl;return this.options.ReportServer.Url&&(e=p.RTrim(this.options.ReportServer.Url,"\\/")+"/api/reportdesigner/"),p.RTrim(e,"\\/")+"/"}}],[{key:"PluginName",value:function PluginName(){return"telerik_WebReportDesigner"}}]),WebReportDesigner}(),zu=Wu.PluginName();jQuery.fn[zu]=function(e){return this.selector&&!e.selector&&(e.selector=this.selector),$.each(this,function(){$.data(this,zu)||$.data(this,zu,new Wu(this,e))})}}]);
